(()=>{var __webpack_modules__={2176:(t,e,r)=>{"use strict";function n(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function o(t,e){return t.require(e)}r.d(e,{l$:()=>o,KV:()=>n}),t=r.hmd(t)},1170:(t,e,r)=>{"use strict";r.d(e,{ph:()=>l,yW:()=>u});var n=r(2176),o=r(1235);t=r.hmd(t);const i=(0,o.Rf)(),a={nowSeconds:()=>Date.now()/1e3};const c=(0,n.KV)()?function(){try{return(0,n.l$)(t,"perf_hooks").performance}catch(t){return}}():function(){const{performance:t}=i;if(!t||!t.now)return;return{now:()=>t.now(),timeOrigin:Date.now()-t.now()}}(),s=void 0===c?a:{nowSeconds:()=>(c.timeOrigin+c.now())/1e3},u=a.nowSeconds.bind(a),l=s.nowSeconds.bind(s);let f;(()=>{const{performance:t}=i;if(!t||!t.now)return void(f="none");const e=36e5,r=t.now(),n=Date.now(),o=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,a=o<e,c=t.timing&&t.timing.navigationStart,s="number"==typeof c?Math.abs(c+r-n):e;a||s<e?o<=s?(f="timeOrigin",t.timeOrigin):f="navigationStart":f="dateNow"})()},1235:(t,e,r)=>{"use strict";function n(t){return t&&t.Math==Math?t:void 0}r.d(e,{Rf:()=>i,YO:()=>a,n2:()=>o});const o="object"==typeof globalThis&&n(globalThis)||"object"==typeof window&&n(window)||"object"==typeof self&&n(self)||"object"==typeof r.g&&n(r.g)||function(){return this}()||{};function i(){return o}function a(t,e,r){const n=r||o,i=n.__SENTRY__=n.__SENTRY__||{};return i[t]||(i[t]=e())}},1771:function(t){
/*!
 * chrome-promise
 * https://github.com/tfoxy/chrome-promise
 *
 * Copyright 2015 TomÃ¡s Fox
 * Released under the MIT license
 */
!function(e,r){t.exports=function(t){"use strict";var e=Array.prototype.slice,r=Object.prototype.hasOwnProperty;return n.default=n,n;function n(o){var i=(o=o||{}).chrome||t.chrome,a=o.Promise||t.Promise,c=i.runtime,s=this;if(!s)throw new Error("ChromePromise must be called with new keyword");function u(t,r){return function(){var n=e.call(arguments);return new a((function(o,i){function a(){var t=c.lastError,r=e.call(arguments);if(t)i(t);else switch(r.length){case 0:o();break;case 1:o(r[0]);break;default:o(r)}}n.push(a),t.apply(r,n)}))}}function l(t,e){for(var o in t)if(r.call(t,o)){var i;try{i=t[o]}catch(t){continue}var a=typeof i;"object"!==a||i instanceof n?e[o]="function"===a?u(i,t):i:(e[o]={},l(i,e[o]))}}function f(t){if(t.permissions&&t.permissions.length){var e={};t.permissions.forEach((function(t){var r=/^[^.]+/.exec(t);r in i&&(e[r]=i[r])})),l(e,s)}}l(i,s),i.permissions&&i.permissions.onAdded.addListener(f)}}(this||e)}("undefined"!=typeof self?self:this)},4116:(t,e,r)=>{var n=new(r(1771));n.default=n,t.exports=n},6304:function(module,__unused_webpack_exports,__webpack_require__){module=__webpack_require__.nmd(module),
/**!
 * FlexSearch.js v0.7.31 (Bundle)
 * Copyright 2018-2022 Nextapps GmbH
 * Author: Thomas Wilkerling
 * Licence: Apache-2.0
 * https://github.com/nextapps-de/flexsearch
 */
function _f(self){"use strict";try{module&&(self=module)}catch(t){}var t;function u(t){return void 0===t||t}function aa(t){const e=Array(t);for(let r=0;r<t;r++)e[r]=v();return e}function v(){return Object.create(null)}function ba(t,e){return e.length-t.length}function x(t){return"string"==typeof t}function C(t){return"object"==typeof t}function D(t){return"function"==typeof t}function ca(t,e){var r=da;if(t&&(e&&(t=E(t,e)),this.H&&(t=E(t,this.H)),this.J&&1<t.length&&(t=E(t,this.J)),r||""===r)){if(t=t.split(r),this.filter){e=this.filter,r=t.length;const n=[];for(let o=0,i=0;o<r;o++){const r=t[o];r&&!e[r]&&(n[i++]=r)}t=n}return t}return t}self._factory=_f;const da=/[\p{Z}\p{S}\p{P}\p{C}]+/u,ea=/[\u0300-\u036f]/g;function fa(t,e){const r=Object.keys(t),n=r.length,o=[];let i="",a=0;for(let c,s,u=0;u<n;u++)c=r[u],(s=t[c])?(o[a++]=F(e?"(?!\\b)"+c+"(\\b|_)":c),o[a++]=s):i+=(i?"|":"")+c;return i&&(o[a++]=F(e?"(?!\\b)("+i+")(\\b|_)":"("+i+")"),o[a]=""),o}function E(t,e){for(let r=0,n=e.length;r<n&&(t=t.replace(e[r],e[r+1]));r+=2);return t}function F(t){return new RegExp(t,"g")}function ha(t){let e="",r="";for(let n,o=0,i=t.length;o<i;o++)(n=t[o])!==r&&(e+=r=n);return e}var ja={encode:ia,F:!1,G:""};function ia(t){return ca.call(this,(""+t).toLowerCase(),!1)}const ka={},G={};function la(t){I(t,"add"),I(t,"append"),I(t,"search"),I(t,"update"),I(t,"remove")}function I(t,e){t[e+"Async"]=function(){const t=this,r=arguments;var n=r[r.length-1];let o;return D(n)&&(o=n,delete r[r.length-1]),n=new Promise((function(n){setTimeout((function(){t.async=!0;const o=t[e].apply(t,r);t.async=!1,n(o)}))})),o?(n.then(o),this):n}}function ma(t,e,r,n){const o=t.length;let i,a,c=[],s=0;n&&(n=[]);for(let u=o-1;0<=u;u--){const l=t[u],f=l.length,h=v();let p=!i;for(let t=0;t<f;t++){const f=l[t],d=f.length;if(d)for(let t,l,y=0;y<d;y++)if(l=f[y],i){if(i[l]){if(!u)if(r)r--;else if(c[s++]=l,s===e)return c;(u||n)&&(h[l]=1),p=!0}if(n&&(t=(a[l]||0)+1,a[l]=t,t<o)){const e=n[t-2]||(n[t-2]=[]);e[e.length]=l}}else h[l]=1}if(n)i||(a=h);else if(!p)return[];i=h}if(n)for(let t,o,a=n.length-1;0<=a;a--){t=n[a],o=t.length;for(let n,a=0;a<o;a++)if(n=t[a],!i[n]){if(r)r--;else if(c[s++]=n,s===e)return c;i[n]=1}}return c}function na(t,e){const r=v(),n=v(),o=[];for(let e=0;e<t.length;e++)r[t[e]]=1;for(let t,i=0;i<e.length;i++){t=e[i];for(let e,i=0;i<t.length;i++)e=t[i],r[e]&&!n[e]&&(n[e]=1,o[o.length]=e)}return o}function J(t){this.l=!0!==t&&t,this.cache=v(),this.h=[]}function oa(t,e,r){C(t)&&(t=t.query);let n=this.cache.get(t);return n||(n=this.search(t,e,r),this.cache.set(t,n)),n}J.prototype.set=function(t,e){if(!this.cache[t]){var r=this.h.length;for(r===this.l?delete this.cache[this.h[r-1]]:r++,--r;0<r;r--)this.h[r]=this.h[r-1];this.h[0]=t}this.cache[t]=e},J.prototype.get=function(t){const e=this.cache[t];if(this.l&&e&&(t=this.h.indexOf(t))){const e=this.h[t-1];this.h[t-1]=this.h[t],this.h[t]=e}return e};const qa={memory:{charset:"latin:extra",D:3,B:4,m:!1},performance:{D:3,B:3,s:!1,context:{depth:2,D:1}},match:{charset:"latin:extra",G:"reverse"},score:{charset:"latin:advanced",D:20,B:3,context:{depth:3,D:9}},default:{}};function ra(t,e,r,n,o,i,a){setTimeout((function(){const c=t(r?r+"."+n:n,JSON.stringify(a));c&&c.then?c.then((function(){e.export(t,e,r,o,i+1)})):e.export(t,e,r,o,i+1)}))}function K(t,e){if(!(this instanceof K))return new K(t);var r;if(t){x(t)?t=qa[t]:(r=t.preset)&&(t=Object.assign({},r[r],t)),r=t.charset;var n=t.lang;x(r)&&(-1===r.indexOf(":")&&(r+=":default"),r=G[r]),x(n)&&(n=ka[n])}else t={};let o,i,a=t.context||{};if(this.encode=t.encode||r&&r.encode||ia,this.register=e||v(),this.D=o=t.resolution||9,this.G=e=r&&r.G||t.tokenize||"strict",this.depth="strict"===e&&a.depth,this.l=u(a.bidirectional),this.s=i=u(t.optimize),this.m=u(t.fastupdate),this.B=t.minlength||1,this.C=t.boost,this.map=i?aa(o):v(),this.A=o=a.resolution||1,this.h=i?aa(o):v(),this.F=r&&r.F||t.rtl,this.H=(e=t.matcher||n&&n.H)&&fa(e,!1),this.J=(e=t.stemmer||n&&n.J)&&fa(e,!0),r=e=t.filter||n&&n.filter){r=e,n=v();for(let t=0,e=r.length;t<e;t++)n[r[t]]=1;r=n}this.filter=r,this.cache=(e=t.cache)&&new J(e)}function L(t,e,r,n,o){return r&&1<t?e+(n||0)<=t?r+(o||0):(t-1)/(e+(n||0))*(r+(o||0))+1|0:0}function M(t,e,r,n,o,i,a){let c=a?t.h:t.map;(!e[r]||a&&!e[r][a])&&(t.s&&(c=c[n]),a?((e=e[r]||(e[r]=v()))[a]=1,c=c[a]||(c[a]=v())):e[r]=1,c=c[r]||(c[r]=[]),t.s||(c=c[n]||(c[n]=[])),i&&c.includes(o)||(c[c.length]=o,t.m&&((t=t.register[o]||(t.register[o]=[]))[t.length]=c)))}function sa(t,e,r,n,o,i,a,c){let s=[],u=c?t.h:t.map;if(t.s||(u=ua(u,a,c,t.l)),u){let r=0;const l=Math.min(u.length,c?t.A:t.D);for(let e,f,h=0,p=0;h<l&&!((e=u[h])&&(t.s&&(e=ua(e,a,c,t.l)),o&&e&&i&&(f=e.length,f<=o?(o-=f,e=null):(e=e.slice(o),o=0)),e&&(s[r++]=e,i&&(p+=e.length,p>=n))));h++);if(r)return i?ta(s,n,0):void(e[e.length]=s)}return!r&&s}function ta(t,e,r){return t=1===t.length?t[0]:[].concat.apply([],t),r||t.length>e?t.slice(r,r+e):t}function ua(t,e,r,n){return r?t=(t=t[(n=n&&e>r)?e:r])&&t[n?r:e]:t=t[e],t}function N(t,e,r,n,o){let i=0;if(t.constructor===Array)if(o)-1!==(e=t.indexOf(e))?1<t.length&&(t.splice(e,1),i++):i++;else{o=Math.min(t.length,r);for(let a,c=0;c<o;c++)(a=t[c])&&(i=N(a,e,r,n,o),n||i||delete t[c])}else for(let a in t)(i=N(t[a],e,r,n,o))||delete t[a];return i}function va(t){t=t.data;var e=self._index;const r=t.args;var n=t.task;if("init"===n)n=t.options||{},t=t.factory,e=n.encode,n.cache=!1,e&&0===e.indexOf("function")&&(n.encode=Function("return "+e)()),t?(Function("return "+t)()(self),self._index=new self.FlexSearch.Index(n),delete self.FlexSearch):self._index=new K(n);else t=t.id,e=e[n].apply(e,r),postMessage("search"===n?{id:t,msg:e}:{id:t})}t=K.prototype,t.append=function(t,e){return this.add(t,e,!0)},t.add=function(t,e,r,n){if(e&&(t||0===t)){if(!n&&!r&&this.register[t])return this.update(t,e);if(n=(e=this.encode(e)).length){const u=v(),l=v(),f=this.depth,h=this.D;for(let p=0;p<n;p++){let d=e[this.F?n-1-p:p];var o=d.length;if(d&&o>=this.B&&(f||!l[d])){var i=L(h,n,p),a="";switch(this.G){case"full":if(2<o){for(i=0;i<o;i++)for(var c=o;c>i;c--)if(c-i>=this.B){var s=L(h,n,p,o,i);M(this,l,a=d.substring(i,c),s,t,r)}break}case"reverse":if(1<o){for(c=o-1;0<c;c--)(a=d[c]+a).length>=this.B&&M(this,l,a,L(h,n,p,o,c),t,r);a=""}case"forward":if(1<o){for(c=0;c<o;c++)(a+=d[c]).length>=this.B&&M(this,l,a,i,t,r);break}default:if(this.C&&(i=Math.min(i/this.C(e,d,p)|0,h-1)),M(this,l,d,i,t,r),f&&1<n&&p<n-1)for(o=v(),a=this.A,i=d,c=Math.min(f+1,n-p),o[i]=1,s=1;s<c;s++)if((d=e[this.F?n-1-p-s:p+s])&&d.length>=this.B&&!o[d]){o[d]=1;const e=this.l&&d>i;M(this,u,e?i:d,L(a+(n/2>a?0:1),n,p,c-1,s-1),t,r,e?d:i)}}}}this.m||(this.register[t]=1)}}return this},t.search=function(t,e,r){r||(!e&&C(t)?t=(r=t).query:C(e)&&(r=e));let n,o,i,a,c,s=[],u=0;if(r){t=r.query||t,e=r.limit,u=r.offset||0;var l=r.context;o=r.suggest}if(t&&(n=(t=this.encode(""+t)).length,1<n)){r=v();var f=[];for(let e,i=0,a=0;i<n;i++)if((e=t[i])&&e.length>=this.B&&!r[e]){if(!(this.s||o||this.map[e]))return s;f[a++]=e,r[e]=1}n=(t=f).length}if(!n)return s;for(e||(e=100),r=0,(l=this.depth&&1<n&&!1!==l)?(i=t[0],r=1):1<n&&t.sort(ba);r<n;r++){if(c=t[r],l?(a=sa(this,s,o,e,u,2===n,c,i),o&&!1===a&&s.length||(i=c)):a=sa(this,s,o,e,u,1===n,c),a)return a;if(o&&r===n-1){if(!(f=s.length)){if(l){l=0,r=-1;continue}return s}if(1===f)return ta(s[0],e,u)}}return ma(s,e,u,o)},t.contain=function(t){return!!this.register[t]},t.update=function(t,e){return this.remove(t).add(t,e)},t.remove=function(t,e){const r=this.register[t];if(r){if(this.m)for(let e,n=0;n<r.length;n++)e=r[n],e.splice(e.indexOf(t),1);else N(this.map,t,this.D,this.s),this.depth&&N(this.h,t,this.A,this.s);if(e||delete this.register[t],this.cache){e=this.cache;for(let r,n,o=0;o<e.h.length;o++)n=e.h[o],r=e.cache[n],r.includes(t)&&(e.h.splice(o--,1),delete e.cache[n])}}return this},t.searchCache=oa,t.export=function(t,e,r,n,o){let i,a;switch(o||(o=0)){case 0:if(i="reg",this.m){a=v();for(let t in this.register)a[t]=1}else a=this.register;break;case 1:i="cfg",a={doc:0,opt:this.s?1:0};break;case 2:i="map",a=this.map;break;case 3:i="ctx",a=this.h;break;default:return}return ra(t,e||this,r,i,n,o,a),!0},t.import=function(t,e){if(e)switch(x(e)&&(e=JSON.parse(e)),t){case"cfg":this.s=!!e.opt;break;case"reg":this.m=!1,this.register=e;break;case"map":this.map=e;break;case"ctx":this.h=e}},la(K.prototype);let wa=0;function O(t){if(!(this instanceof O))return new O(t);var e;t?D(e=t.encode)&&(t.encode=e.toString()):t={},(e=(self||window)._factory)&&(e=e.toString());const r="undefined"==typeof window&&self.exports,n=this;this.o=xa(e,r,t.worker),this.h=v(),this.o&&(r?this.o.on("message",(function(t){n.h[t.id](t.msg),delete n.h[t.id]})):this.o.onmessage=function(t){t=t.data,n.h[t.id](t.msg),delete n.h[t.id]},this.o.postMessage({task:"init",factory:e,options:t}))}function P(t){O.prototype[t]=O.prototype[t+"Async"]=function(){const e=this,r=[].slice.call(arguments);var n=r[r.length-1];let o;return D(n)&&(o=n,r.splice(r.length-1,1)),n=new Promise((function(n){setTimeout((function(){e.h[++wa]=n,e.o.postMessage({task:t,id:wa,args:r})}))})),o?(n.then(o),this):n}}function xa(a,b,c){let d;try{d=b?eval('new (require("worker_threads")["Worker"])("../dist/node/node.js")'):a?new Worker(URL.createObjectURL(new Blob(["onmessage="+va.toString()],{type:"text/javascript"}))):new Worker(x(c)?c:"worker/worker.js",{type:"module"})}catch(t){}return d}function Q(t){if(!(this instanceof Q))return new Q(t);var e,r=t.document||t.doc||t;this.K=[],this.h=[],this.A=[],this.register=v(),this.key=(e=r.key||r.id)&&S(e,this.A)||"id",this.m=u(t.fastupdate),this.C=(e=r.store)&&!0!==e&&[],this.store=e&&v(),this.I=(e=r.tag)&&S(e,this.A),this.l=e&&v(),this.cache=(e=t.cache)&&new J(e),t.cache=!1,this.o=t.worker,this.async=!1,e=v();let n=r.index||r.field||r;x(n)&&(n=[n]);for(let r,o,i=0;i<n.length;i++)r=n[i],x(r)||(o=r,r=r.field),o=C(o)?Object.assign({},t,o):t,this.o&&(e[r]=new O(o),e[r].o||(this.o=!1)),this.o||(e[r]=new K(o,this.register)),this.K[i]=S(r,this.A),this.h[i]=r;if(this.C)for(x(t=r.store)&&(t=[t]),r=0;r<t.length;r++)this.C[r]=S(t[r],this.A);this.index=e}function S(t,e){const r=t.split(":");let n=0;for(let o=0;o<r.length;o++)0<=(t=r[o]).indexOf("[]")&&(t=t.substring(0,t.length-2))&&(e[n]=!0),t&&(r[n++]=t);return n<r.length&&(r.length=n),1<n?r:r[0]}function T(t,e){if(x(e))t=t[e];else for(let r=0;t&&r<e.length;r++)t=t[e[r]];return t}function U(t,e,r,n,o){if(t=t[o],n===r.length-1)e[o]=t;else if(t)if(t.constructor===Array)for(e=e[o]=Array(t.length),o=0;o<t.length;o++)U(t,e,r,n,o);else e=e[o]||(e[o]=v()),o=r[++n],U(t,e,r,n,o)}function V(t,e,r,n,o,i,a,c){if(t=t[a])if(n===e.length-1){if(t.constructor===Array){if(r[n]){for(e=0;e<t.length;e++)o.add(i,t[e],!0,!0);return}t=t.join(" ")}o.add(i,t,c,!0)}else if(t.constructor===Array)for(a=0;a<t.length;a++)V(t,e,r,n,o,i,a,c);else a=e[++n],V(t,e,r,n,o,i,a,c)}function ya(t,e,r,n){let o=this.l[t],i=o&&o.length-r;if(i&&0<i)return(i>e||r)&&(o=o.slice(r,r+e)),n&&(o=za.call(this,o)),{tag:t,result:o}}function za(t){const e=Array(t.length);for(let r,n=0;n<t.length;n++)r=t[n],e[n]={id:r,doc:this.store[r]};return e}P("add"),P("append"),P("search"),P("update"),P("remove"),t=Q.prototype,t.add=function(t,e,r){if(C(t)&&(t=T(e=t,this.key)),e&&(t||0===t)){if(!r&&this.register[t])return this.update(t,e);for(let n,o,i=0;i<this.h.length;i++)o=this.h[i],n=this.K[i],x(n)&&(n=[n]),V(e,n,this.A,0,this.index[o],t,n[0],r);if(this.I){let n=T(e,this.I),o=v();x(n)&&(n=[n]);for(let e,i,a=0;a<n.length;a++)if(e=n[a],!o[e]&&(o[e]=1,i=this.l[e]||(this.l[e]=[]),!r||!i.includes(t))&&(i[i.length]=t,this.m)){const e=this.register[t]||(this.register[t]=[]);e[e.length]=i}}if(this.store&&(!r||!this.store[t])){let r;if(this.C){r=v();for(let t,n=0;n<this.C.length;n++)t=this.C[n],x(t)?r[t]=e[t]:U(e,r,t,0,t[0])}this.store[t]=r||e}}return this},t.append=function(t,e){return this.add(t,e,!0)},t.update=function(t,e){return this.remove(t).add(t,e)},t.remove=function(t){if(C(t)&&(t=T(t,this.key)),this.register[t]){for(var e=0;e<this.h.length&&(this.index[this.h[e]].remove(t,!this.o),!this.m);e++);if(this.I&&!this.m)for(let r in this.l){const n=(e=this.l[r]).indexOf(t);-1!==n&&(1<e.length?e.splice(n,1):delete this.l[r])}this.store&&delete this.store[t],delete this.register[t]}return this},t.search=function(t,e,r,n){r||(!e&&C(t)?(r=t,t=""):C(e)&&(r=e,e=0));let o,i,a,c,s,u,l=[],f=[],h=0;if(r)if(r.constructor===Array)a=r,r=null;else{if(t=r.query||t,a=(o=r.pluck)||r.index||r.field,c=r.tag,i=this.store&&r.enrich,s="and"===r.bool,e=r.limit||e||100,u=r.offset||0,c&&(x(c)&&(c=[c]),!t)){for(let t,r=0;r<c.length;r++)(t=ya.call(this,c[r],e,u,i))&&(l[l.length]=t,h++);return h?l:[]}x(a)&&(a=[a])}a||(a=this.h),s=s&&(1<a.length||c&&1<c.length);const p=!n&&(this.o||this.async)&&[];for(let o,i,d,y=0;y<a.length;y++){let v;if(i=a[y],x(i)||(v=i,i=v.field,t=v.query||t,e=v.limit||e),p)p[y]=this.index[i].searchAsync(t,e,v||r);else{if(o=n?n[y]:this.index[i].search(t,e,v||r),d=o&&o.length,c&&d){const t=[];let r=0;s&&(t[0]=[o]);for(let e,n,o=0;o<c.length;o++)e=c[o],(d=(n=this.l[e])&&n.length)&&(r++,t[t.length]=s?[n]:n);r&&(o=s?ma(t,e||100,u||0):na(o,t),d=o.length)}if(d)f[h]=i,l[h++]=o;else if(s)return[]}}if(p){const n=this;return new Promise((function(o){Promise.all(p).then((function(i){o(n.search(t,e,r,i))}))}))}if(!h)return[];if(o&&(!i||!this.store))return l[0];for(let t,e=0;e<f.length;e++){if(t=l[e],t.length&&i&&(t=za.call(this,t)),o)return t;l[e]={field:f[e],result:t}}return l},t.contain=function(t){return!!this.register[t]},t.get=function(t){return this.store[t]},t.set=function(t,e){return this.store[t]=e,this},t.searchCache=oa,t.export=function(t,e,r,n,o){if(o||(o=0),n||(n=0),n<this.h.length){const r=this.h[n],i=this.index[r];e=this,setTimeout((function(){i.export(t,e,o?r:"",n,o++)||(n++,o=1,e.export(t,e,r,n,o))}))}else{let e,i;switch(o){case 1:e="tag",i=this.l;break;case 2:e="store",i=this.store;break;default:return}ra(t,this,r,e,n,o,i)}},t.import=function(t,e){if(e)switch(x(e)&&(e=JSON.parse(e)),t){case"tag":this.l=e;break;case"reg":this.m=!1,this.register=e;for(let t,r=0;r<this.h.length;r++)t=this.index[this.h[r]],t.register=e,t.m=!1;break;case"store":this.store=e;break;default:const r=(t=t.split("."))[0];t=t[1],r&&t&&this.index[r].import(t,e)}},la(Q.prototype);var Ba={encode:Aa,F:!1,G:""};const Ca=[F("[Ã Ã¡Ã¢Ã£Ã¤Ã¥]"),"a",F("[Ã¨Ã©ÃªÃ«]"),"e",F("[Ã¬Ã­Ã®Ã¯]"),"i",F("[Ã²Ã³Ã´ÃµÃ¶Å]"),"o",F("[Ã¹ÃºÃ»Ã¼Å±]"),"u",F("[Ã½Å·Ã¿]"),"y",F("Ã±"),"n",F("[Ã§c]"),"k",F("Ã"),"s",F(" & ")," and "];function Aa(t){var e=t=""+t;return e.normalize&&(e=e.normalize("NFD").replace(ea,"")),ca.call(this,e.toLowerCase(),!t.normalize&&Ca)}var Ea={encode:Da,F:!1,G:"strict"};const Fa=/[^a-z0-9]+/,Ga={b:"p",v:"f",w:"f",z:"s",x:"s",Ã:"s",d:"t",n:"m",c:"k",g:"k",j:"k",q:"k",i:"e",y:"e",u:"o"};function Da(t){const e=[];if(t=Aa.call(this,t).join(" ")){const r=t.split(Fa),n=r.length;for(let o,i=0,a=0;i<n;i++)if((t=r[i])&&(!this.filter||!this.filter[t])){o=t[0];let r=Ga[o]||o,n=r;for(let e=1;e<t.length;e++){o=t[e];const i=Ga[o]||o;i&&i!==n&&(r+=i,n=i)}e[a++]=r}}return e}var Ia={encode:Ha,F:!1,G:""};const Ja=[F("ae"),"a",F("oe"),"o",F("sh"),"s",F("th"),"t",F("ph"),"f",F("pf"),"f",F("(?![aeo])h(?![aeo])"),"",F("(?!^[aeo])h(?!^[aeo])"),""];function Ha(t,e){return t&&(2<(t=Da.call(this,t).join(" ")).length&&(t=E(t,Ja)),e||(1<t.length&&(t=ha(t)),t&&(t=t.split(" ")))),t||[]}var La={encode:Ka,F:!1,G:""};const Ma=F("(?!\\b)[aeo]");function Ka(t){return t&&(1<(t=Ha.call(this,t,!0)).length&&(t=t.replace(Ma,"")),1<t.length&&(t=ha(t)),t&&(t=t.split(" "))),t||[]}G["latin:default"]=ja,G["latin:simple"]=Ba,G["latin:balance"]=Ea,G["latin:advanced"]=Ia,G["latin:extra"]=La;const W=self;let Y;const Z={Index:K,Document:Q,Worker:O,registerCharset:function(t,e){G[t]=e},registerLanguage:function(t,e){ka[t]=e}};(Y=W.define)&&Y.amd?Y([],(function(){return Z})):W.exports?W.exports=Z:W.FlexSearch=Z}(this)}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(t,e)=>{for(var r in e)__webpack_require__.o(e,r)&&!__webpack_require__.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var __webpack_exports__={};(()=>{"use strict";__webpack_require__.d(__webpack_exports__,{e:()=>Tf});var t=__webpack_require__(1235);function e(){const e=t.n2,r=e.crypto||e.msCrypto;if(r&&r.randomUUID)return r.randomUUID().replace(/-/g,"");const n=r&&r.getRandomValues?()=>r.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(t=>(t^(15&n())>>t/4).toString(16)))}var r=__webpack_require__(1170);const n=["debug","info","warn","error","log","assert","trace"];function o(e){if(!("console"in t.n2))return e();const r=t.n2.console,o={};n.forEach((t=>{const e=r[t]&&r[t].__sentry_original__;t in r&&e&&(o[t]=r[t],r[t]=e)}));try{return e()}finally{Object.keys(o).forEach((t=>{r[t]=o[t]}))}}function i(){let e=!1;const r={enable:()=>{e=!0},disable:()=>{e=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?n.forEach((n=>{r[n]=(...r)=>{e&&o((()=>{t.n2.console[n](`Sentry Logger [${n}]:`,...r)}))}})):n.forEach((t=>{r[t]=()=>{}})),r}let a;a="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,t.YO)("logger",i):i();var c=__webpack_require__(2176);const s=Object.prototype.toString;function u(t,e){return s.call(t)===`[object ${e}]`}function l(t){return u(t,"Object")}function f(t){return Boolean(t&&t.then&&"function"==typeof t.then)}var h;!function(t){t[t.PENDING=0]="PENDING";t[t.RESOLVED=1]="RESOLVED";t[t.REJECTED=2]="REJECTED"}(h||(h={}));class p{__init(){this._state=h.PENDING}__init2(){this._handlers=[]}constructor(t){p.prototype.__init.call(this),p.prototype.__init2.call(this),p.prototype.__init3.call(this),p.prototype.__init4.call(this),p.prototype.__init5.call(this),p.prototype.__init6.call(this);try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}then(t,e){return new p(((r,n)=>{this._handlers.push([!1,e=>{if(t)try{r(t(e))}catch(t){n(t)}else r(e)},t=>{if(e)try{r(e(t))}catch(t){n(t)}else n(t)}]),this._executeHandlers()}))}catch(t){return this.then((t=>t),t)}finally(t){return new p(((e,r)=>{let n,o;return this.then((e=>{o=!1,n=e,t&&t()}),(e=>{o=!0,n=e,t&&t()})).then((()=>{o?r(n):e(n)}))}))}__init3(){this._resolve=t=>{this._setResult(h.RESOLVED,t)}}__init4(){this._reject=t=>{this._setResult(h.REJECTED,t)}}__init5(){this._setResult=(t,e)=>{this._state===h.PENDING&&(f(e)?e.then(this._resolve,this._reject):(this._state=t,this._value=e,this._executeHandlers()))}}__init6(){this._executeHandlers=()=>{if(this._state===h.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach((t=>{t[0]||(this._state===h.RESOLVED&&t[1](this._value),this._state===h.REJECTED&&t[2](this._value),t[0]=!0)}))}}}function d(t){return y(t,new Map)}function y(t,e){if(l(t)){const r=e.get(t);if(void 0!==r)return r;const n={};e.set(t,n);for(const r of Object.keys(t))void 0!==t[r]&&(n[r]=y(t[r],e));return n}if(Array.isArray(t)){const r=e.get(t);if(void 0!==r)return r;const n=[];return e.set(t,n),t.forEach((t=>{n.push(y(t,e))})),n}return t}function v(t){const n=(0,r.ph)(),o={sid:e(),init:!0,timestamp:n,started:n,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(t){return d({sid:`${t.sid}`,init:t.init,started:new Date(1e3*t.started).toISOString(),timestamp:new Date(1e3*t.timestamp).toISOString(),status:t.status,errors:t.errors,did:"number"==typeof t.did||"string"==typeof t.did?`${t.did}`:void 0,duration:t.duration,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}(o)};return t&&g(o,t),o}function g(t,n={}){if(n.user&&(!t.ipAddress&&n.user.ip_address&&(t.ipAddress=n.user.ip_address),t.did||n.did||(t.did=n.user.id||n.user.email||n.user.username)),t.timestamp=n.timestamp||(0,r.ph)(),n.ignoreDuration&&(t.ignoreDuration=n.ignoreDuration),n.sid&&(t.sid=32===n.sid.length?n.sid:e()),void 0!==n.init&&(t.init=n.init),!t.did&&n.did&&(t.did=`${n.did}`),"number"==typeof n.started&&(t.started=n.started),t.ignoreDuration)t.duration=void 0;else if("number"==typeof n.duration)t.duration=n.duration;else{const e=t.timestamp-t.started;t.duration=e>=0?e:0}n.release&&(t.release=n.release),n.environment&&(t.environment=n.environment),!t.ipAddress&&n.ipAddress&&(t.ipAddress=n.ipAddress),!t.userAgent&&n.userAgent&&(t.userAgent=n.userAgent),"number"==typeof n.errors&&(t.errors=n.errors),n.status&&(t.status=n.status)}class m{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(t){const e=new m;return t&&(e._breadcrumbs=[...t._breadcrumbs],e._tags={...t._tags},e._extra={...t._extra},e._contexts={...t._contexts},e._user=t._user,e._level=t._level,e._span=t._span,e._session=t._session,e._transactionName=t._transactionName,e._fingerprint=t._fingerprint,e._eventProcessors=[...t._eventProcessors],e._requestSession=t._requestSession,e._attachments=[...t._attachments]),e}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&g(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,e){return this._tags={...this._tags,[t]:e},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,e){return this._extra={...this._extra,[t]:e},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return null===e?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if("function"==typeof t){const e=t(this);return e instanceof m?e:this}return t instanceof m?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):l(t)&&(this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(t,e){const n="number"==typeof e?e:100;if(n<=0)return this;const o={timestamp:(0,r.yW)(),...t};return this._breadcrumbs=[...this._breadcrumbs,o].slice(-n),this._notifyScopeListeners(),this}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(t,e={}){if(this._extra&&Object.keys(this._extra).length&&(t.extra={...this._extra,...t.extra}),this._tags&&Object.keys(this._tags).length&&(t.tags={...this._tags,...t.tags}),this._user&&Object.keys(this._user).length&&(t.user={...this._user,...t.user}),this._contexts&&Object.keys(this._contexts).length&&(t.contexts={...this._contexts,...t.contexts}),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts={trace:this._span.getTraceContext(),...t.contexts};const e=this._span.transaction&&this._span.transaction.name;e&&(t.tags={transaction:e,...t.tags})}return this._applyFingerprint(t),t.breadcrumbs=[...t.breadcrumbs||[],...this._breadcrumbs],t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...b(),...this._eventProcessors],t,e)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}_notifyEventProcessors(t,e,r,n=0){return new p(((o,i)=>{const c=t[n];if(null===e||"function"!=typeof c)o(e);else{const s=c({...e},r);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.id&&null===s&&a.log(`Event processor "${c.id}" dropped event`),f(s)?s.then((e=>this._notifyEventProcessors(t,e,r,n+1).then(o))).then(null,i):this._notifyEventProcessors(t,s,r,n+1).then(o).then(null,i)}}))}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((t=>{t(this)})),this._notifyingListeners=!1)}_applyFingerprint(t){var e;t.fingerprint=t.fingerprint?(e=t.fingerprint,Array.isArray(e)?e:[e]):[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}}function b(){return(0,t.YO)("globalEventProcessors",(()=>[]))}const w=100;class _{__init(){this._stack=[{}]}constructor(t,e=new m,r=4){this._version=r,_.prototype.__init.call(this),this.getStackTop().scope=e,t&&this.bindClient(t)}isOlderThan(t){return this._version<t}bindClient(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=m.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(t){const e=this.pushScope();try{t(e)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,r){const n=this._lastEventId=r&&r.event_id?r.event_id:e(),o=new Error("Sentry syntheticException");return this._withClient(((e,i)=>{e.captureException(t,{originalException:t,syntheticException:o,...r,event_id:n},i)})),n}captureMessage(t,r,n){const o=this._lastEventId=n&&n.event_id?n.event_id:e(),i=new Error(t);return this._withClient(((e,a)=>{e.captureMessage(t,r,{originalException:t,syntheticException:i,...n,event_id:o},a)})),o}captureEvent(t,r){const n=r&&r.event_id?r.event_id:e();return"transaction"!==t.type&&(this._lastEventId=n),this._withClient(((e,o)=>{e.captureEvent(t,{...r,event_id:n},o)})),n}lastEventId(){return this._lastEventId}addBreadcrumb(t,e){const{scope:n,client:i}=this.getStackTop();if(!n||!i)return;const{beforeBreadcrumb:a=null,maxBreadcrumbs:c=w}=i.getOptions&&i.getOptions()||{};if(c<=0)return;const s={timestamp:(0,r.yW)(),...t},u=a?o((()=>a(s,e))):s;null!==u&&n.addBreadcrumb(u,c)}setUser(t){const e=this.getScope();e&&e.setUser(t)}setTags(t){const e=this.getScope();e&&e.setTags(t)}setExtras(t){const e=this.getScope();e&&e.setExtras(t)}setTag(t,e){const r=this.getScope();r&&r.setTag(t,e)}setExtra(t,e){const r=this.getScope();r&&r.setExtra(t,e)}setContext(t,e){const r=this.getScope();r&&r.setContext(t,e)}configureScope(t){const{scope:e,client:r}=this.getStackTop();e&&r&&t(e)}run(t){const e=E(this);try{t(this)}finally{E(e)}}getIntegration(t){const e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,e){return this._callExtensionMethod("startTransaction",t,e)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const t=this.getStackTop(),e=t&&t.scope,r=e&&e.getSession();r&&function(t,e){let r={};e?r={status:e}:"ok"===t.status&&(r={status:"exited"}),g(t,r)}(r),this._sendSessionUpdate(),e&&e.setSession()}startSession(e){const{scope:r,client:n}=this.getStackTop(),{release:o,environment:i}=n&&n.getOptions()||{},{userAgent:a}=t.n2.navigator||{},c=v({release:o,environment:i,...r&&{user:r.getUser()},...a&&{userAgent:a},...e});if(r){const t=r.getSession&&r.getSession();t&&"ok"===t.status&&g(t,{status:"exited"}),this.endSession(),r.setSession(c)}return c}shouldSendDefaultPii(){const t=this.getClient(),e=t&&t.getOptions();return Boolean(e&&e.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:e}=this.getStackTop();if(!t)return;const r=t.getSession();r&&e&&e.captureSession&&e.captureSession(r)}_withClient(t){const{scope:e,client:r}=this.getStackTop();r&&t(r,e)}_callExtensionMethod(t,...e){const r=x().__SENTRY__;if(r&&r.extensions&&"function"==typeof r.extensions[t])return r.extensions[t].apply(this,e);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function x(){return t.n2.__SENTRY__=t.n2.__SENTRY__||{extensions:{},hub:void 0},t.n2}function E(t){const e=x(),r=L(e);return S(e,t),r}function O(){const t=x();return k(t)&&!L(t).isOlderThan(4)||S(t,new _),(0,c.KV)()?function(t){try{const e=x().__SENTRY__,r=e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active;if(!r)return L(t);if(!k(r)||L(r).isOlderThan(4)){const e=L(t).getStackTop();S(r,new _(e.client,m.clone(e.scope)))}return L(r)}catch(e){return L(t)}}(t):L(t)}function k(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function L(e){return(0,t.YO)("hub",(()=>new _),e)}function S(t,e){if(!t)return!1;return(t.__SENTRY__=t.__SENTRY__||{}).hub=e,!0}function j(t,e){return O().captureException(t,{captureContext:e})}function P(t,e){const r="string"==typeof e?e:void 0,n="string"!=typeof e?{captureContext:e}:void 0;return O().captureMessage(t,r,n)}function T(t){O().addBreadcrumb(t)}var N={UNIVERSAL_CONTEXT:!1,ZENDESK_AUTOFILL:!1,IMAGE_CHECKBOX:!0,REWRITE_IMAGES:!0,LOG_MUTATIONS:!1,GDOCS_CACHING:!0,DEV_SENTRY:!1,OVERRIDE_TYPEAHEAD_URL:void 0,DEBUG:!1,BASE_URL:"https://api.hyperwriteai.com/",LOG_TIMES:!1,TYPEAHEAD_TUTORIAL:!1,REWRITE_SETTINGS_ACTIVE:!1,NEW_TEMPLATES:!0,TEST_MODE:!1,TEST_NO_API:!1,TEMPLATE_CONTEXT:!1,SEND_HTML:!1};const A="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,I=Object.keys,D=Array.isArray;function G(t,e){return"object"!=typeof e||I(e).forEach((function(r){t[r]=e[r]})),t}"undefined"==typeof Promise||A.Promise||(A.Promise=Promise);const M=Object.getPrototypeOf,F={}.hasOwnProperty;function C(t,e){return F.call(t,e)}function B(t,e){"function"==typeof e&&(e=e(M(t))),("undefined"==typeof Reflect?I:Reflect.ownKeys)(e).forEach((r=>{K(t,r,e[r])}))}const R=Object.defineProperty;function K(t,e,r,n){R(t,e,G(r&&C(r,"get")&&"function"==typeof r.get?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function q(t){return{from:function(e){return t.prototype=Object.create(e.prototype),K(t.prototype,"constructor",t),{extend:B.bind(null,t.prototype)}}}}const U=Object.getOwnPropertyDescriptor;function Y(t,e){let r;return U(t,e)||(r=M(t))&&Y(r,e)}const z=[].slice;function W(t,e,r){return z.call(t,e,r)}function H(t,e){return e(t)}function V(t){if(!t)throw new Error("Assertion Failed")}function J(t){A.setImmediate?setImmediate(t):setTimeout(t,0)}function $(t,e){return t.reduce(((t,r,n)=>{var o=e(r,n);return o&&(t[o[0]]=o[1]),t}),{})}function X(t,e){if(C(t,e))return t[e];if(!e)return t;if("string"!=typeof e){for(var r=[],n=0,o=e.length;n<o;++n){var i=X(t,e[n]);r.push(i)}return r}var a=e.indexOf(".");if(-1!==a){var c=t[e.substr(0,a)];return void 0===c?void 0:X(c,e.substr(a+1))}}function Q(t,e,r){if(t&&void 0!==e&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if("string"!=typeof e&&"length"in e){V("string"!=typeof r&&"length"in r);for(var n=0,o=e.length;n<o;++n)Q(t,e[n],r[n])}else{var i=e.indexOf(".");if(-1!==i){var a=e.substr(0,i),c=e.substr(i+1);if(""===c)void 0===r?D(t)&&!isNaN(parseInt(a))?t.splice(a,1):delete t[a]:t[a]=r;else{var s=t[a];s&&C(t,a)||(s=t[a]={}),Q(s,c,r)}}else void 0===r?D(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=r}}function Z(t){var e={};for(var r in t)C(t,r)&&(e[r]=t[r]);return e}const tt=[].concat;function et(t){return tt.apply([],t)}const rt="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(et([8,16,32,64].map((t=>["Int","Uint","Float"].map((e=>e+t+"Array")))))).filter((t=>A[t])),nt=rt.map((t=>A[t]));$(rt,(t=>[t,!0]));let ot=null;function it(t){ot="undefined"!=typeof WeakMap&&new WeakMap;const e=at(t);return ot=null,e}function at(t){if(!t||"object"!=typeof t)return t;let e=ot&&ot.get(t);if(e)return e;if(D(t)){e=[],ot&&ot.set(t,e);for(var r=0,n=t.length;r<n;++r)e.push(at(t[r]))}else if(nt.indexOf(t.constructor)>=0)e=t;else{const r=M(t);for(var o in e=r===Object.prototype?{}:Object.create(r),ot&&ot.set(t,e),t)C(t,o)&&(e[o]=at(t[o]))}return e}const{toString:ct}={};function st(t){return ct.call(t).slice(8,-1)}const ut="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",lt="symbol"==typeof ut?function(t){var e;return null!=t&&(e=t[ut])&&e.apply(t)}:function(){return null},ft={};function ht(t){var e,r,n,o;if(1===arguments.length){if(D(t))return t.slice();if(this===ft&&"string"==typeof t)return[t];if(o=lt(t)){for(r=[];!(n=o.next()).done;)r.push(n.value);return r}if(null==t)return[t];if("number"==typeof(e=t.length)){for(r=new Array(e);e--;)r[e]=t[e];return r}return[t]}for(e=arguments.length,r=new Array(e);e--;)r[e]=arguments[e];return r}const pt="undefined"!=typeof Symbol?t=>"AsyncFunction"===t[Symbol.toStringTag]:()=>!1;var dt="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function yt(t,e){dt=t,vt=e}var vt=()=>!0;const gt=!new Error("").stack;function mt(){if(gt)try{throw mt.arguments,new Error}catch(t){return t}return new Error}function bt(t,e){var r=t.stack;return r?(e=e||0,0===r.indexOf(t.name)&&(e+=(t.name+t.message).split("\n").length),r.split("\n").slice(e).filter(vt).map((t=>"\n"+t)).join("")):""}var wt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],_t=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(wt),xt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Et(t,e){this._e=mt(),this.name=t,this.message=e}function Ot(t,e){return t+". Errors: "+Object.keys(e).map((t=>e[t].toString())).filter(((t,e,r)=>r.indexOf(t)===e)).join("\n")}function kt(t,e,r,n){this._e=mt(),this.failures=e,this.failedKeys=n,this.successCount=r,this.message=Ot(t,e)}function Lt(t,e){this._e=mt(),this.name="BulkError",this.failures=Object.keys(e).map((t=>e[t])),this.failuresByPos=e,this.message=Ot(t,e)}q(Et).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+bt(this._e,2))}},toString:function(){return this.name+": "+this.message}}),q(kt).from(Et),q(Lt).from(Et);var St=_t.reduce(((t,e)=>(t[e]=e+"Error",t)),{});const jt=Et;var Pt=_t.reduce(((t,e)=>{var r=e+"Error";function n(t,n){this._e=mt(),this.name=r,t?"string"==typeof t?(this.message=`${t}${n?"\n "+n:""}`,this.inner=n||null):"object"==typeof t&&(this.message=`${t.name} ${t.message}`,this.inner=t):(this.message=xt[e]||r,this.inner=null)}return q(n).from(jt),t[e]=n,t}),{});Pt.Syntax=SyntaxError,Pt.Type=TypeError,Pt.Range=RangeError;var Tt=wt.reduce(((t,e)=>(t[e+"Error"]=Pt[e],t)),{}),Nt=_t.reduce(((t,e)=>(-1===["Syntax","Type","Range"].indexOf(e)&&(t[e+"Error"]=Pt[e]),t)),{});function At(){}function It(t){return t}function Dt(t,e){return null==t||t===It?e:function(r){return e(t(r))}}function Gt(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function Mt(t,e){return t===At?e:function(){var r=t.apply(this,arguments);void 0!==r&&(arguments[0]=r);var n=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=e.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?Gt(n,this.onsuccess):n),o&&(this.onerror=this.onerror?Gt(o,this.onerror):o),void 0!==i?i:r}}function Ft(t,e){return t===At?e:function(){t.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?Gt(r,this.onsuccess):r),n&&(this.onerror=this.onerror?Gt(n,this.onerror):n)}}function Ct(t,e){return t===At?e:function(r){var n=t.apply(this,arguments);G(r,n);var o=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?Gt(o,this.onsuccess):o),i&&(this.onerror=this.onerror?Gt(i,this.onerror):i),void 0===n?void 0===a?void 0:a:G(n,a)}}function Bt(t,e){return t===At?e:function(){return!1!==e.apply(this,arguments)&&t.apply(this,arguments)}}function Rt(t,e){return t===At?e:function(){var r=t.apply(this,arguments);if(r&&"function"==typeof r.then){for(var n=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return r.then((function(){return e.apply(n,i)}))}return e.apply(this,arguments)}}Nt.ModifyError=kt,Nt.DexieError=Et,Nt.BulkError=Lt;var Kt={};const[qt,Ut,Yt]="undefined"==typeof Promise?[]:(()=>{let t=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[t,M(t),t];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,M(e),t]})(),zt=Ut&&Ut.then,Wt=qt&&qt.constructor,Ht=!!Yt;var Vt=!1,Jt=Yt?()=>{Yt.then(me)}:A.setImmediate?setImmediate.bind(null,me):A.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver((()=>{me(),t=null})).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(me,0)},$t=function(t,e){ie.push([t,e]),Qt&&(Jt(),Qt=!1)},Xt=!0,Qt=!0,Zt=[],te=[],ee=null,re=It,ne={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:qe,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((t=>{try{qe(t[0],t[1])}catch(t){}}))}},oe=ne,ie=[],ae=0,ce=[];function se(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=At,this._lib=!1;var e=this._PSD=oe;if(dt&&(this._stackHolder=mt(),this._prev=null,this._numPrev=0),"function"!=typeof t){if(t!==Kt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&he(this,this._value))}this._state=null,this._value=null,++e.ref,fe(this,t)}const ue={get:function(){var t=oe,e=je;function r(r,n){var o=!t.global&&(t!==oe||e!==je);const i=o&&!Ae();var a=new se(((e,a)=>{de(this,new le(Re(r,t,o,i),Re(n,t,o,i),e,a,t))}));return dt&&ge(a,this),a}return r.prototype=Kt,r},set:function(t){K(this,"then",t&&t.prototype===Kt?ue:{get:function(){return t},set:ue.set})}};function le(t,e,r,n,o){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=r,this.reject=n,this.psd=o}function fe(t,e){try{e((e=>{if(null===t._state){if(e===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&be();e&&"function"==typeof e.then?fe(t,((t,r)=>{e instanceof se?e._then(t,r):e.then(t,r)})):(t._state=!0,t._value=e,pe(t)),r&&we()}}),he.bind(null,t))}catch(e){he(t,e)}}function he(t,e){if(te.push(e),null===t._state){var r=t._lib&&be();e=re(e),t._state=!1,t._value=e,dt&&null!==e&&"object"==typeof e&&!e._promise&&function(t,e,r){try{t.apply(null,void 0)}catch(t){}}((()=>{var r=Y(e,"stack");e._promise=t,K(e,"stack",{get:()=>Vt?r&&(r.get?r.get.apply(e):r.value):t.stack})})),function(t){Zt.some((e=>e._value===t._value))||Zt.push(t)}(t),pe(t),r&&we()}}function pe(t){var e=t._listeners;t._listeners=[];for(var r=0,n=e.length;r<n;++r)de(t,e[r]);var o=t._PSD;--o.ref||o.finalize(),0===ae&&(++ae,$t((()=>{0==--ae&&_e()}),[]))}function de(t,e){if(null!==t._state){var r=t._state?e.onFulfilled:e.onRejected;if(null===r)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++ae,$t(ye,[r,t,e])}else t._listeners.push(e)}function ye(t,e,r){try{ee=e;var n,o=e._value;e._state?n=t(o):(te.length&&(te=[]),n=t(o),-1===te.indexOf(o)&&function(t){for(var e=Zt.length;e;)if(Zt[--e]._value===t._value)return void Zt.splice(e,1)}(e)),r.resolve(n)}catch(t){r.reject(t)}finally{ee=null,0==--ae&&_e(),--r.psd.ref||r.psd.finalize()}}function ve(t,e,r){if(e.length===r)return e;var n="";if(!1===t._state){var o,i,a=t._value;null!=a?(o=a.name||"Error",i=a.message||a,n=bt(a,0)):(o=a,i=""),e.push(o+(i?": "+i:"")+n)}return dt&&((n=bt(t._stackHolder,2))&&-1===e.indexOf(n)&&e.push(n),t._prev&&ve(t._prev,e,r)),e}function ge(t,e){var r=e?e._numPrev+1:0;r<100&&(t._prev=e,t._numPrev=r)}function me(){be()&&we()}function be(){var t=Xt;return Xt=!1,Qt=!1,t}function we(){var t,e,r;do{for(;ie.length>0;)for(t=ie,ie=[],r=t.length,e=0;e<r;++e){var n=t[e];n[0].apply(null,n[1])}}while(ie.length>0);Xt=!0,Qt=!0}function _e(){var t=Zt;Zt=[],t.forEach((t=>{t._PSD.onunhandled.call(null,t._value,t)}));for(var e=ce.slice(0),r=e.length;r;)e[--r]()}function xe(t){return new se(Kt,!1,t)}function Ee(t,e){var r=oe;return function(){var n=be(),o=oe;try{return Me(r,!0),t.apply(this,arguments)}catch(t){e&&e(t)}finally{Me(o,!1),n&&we()}}}B(se.prototype,{then:ue,_then:function(t,e){de(this,new le(null,null,t,e,oe))},catch:function(t){if(1===arguments.length)return this.then(null,t);var e=arguments[0],r=arguments[1];return"function"==typeof e?this.then(null,(t=>t instanceof e?r(t):xe(t))):this.then(null,(t=>t&&t.name===e?r(t):xe(t)))},finally:function(t){return this.then((e=>(t(),e)),(e=>(t(),xe(e))))},stack:{get:function(){if(this._stack)return this._stack;try{Vt=!0;var t=ve(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=t),t}finally{Vt=!1}}},timeout:function(t,e){return t<1/0?new se(((r,n)=>{var o=setTimeout((()=>n(new Pt.Timeout(e))),t);this.then(r,n).finally(clearTimeout.bind(null,o))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&K(se.prototype,Symbol.toStringTag,"Dexie.Promise"),ne.env=Fe(),B(se,{all:function(){var t=ht.apply(null,arguments).map(Ie);return new se((function(e,r){0===t.length&&e([]);var n=t.length;t.forEach(((o,i)=>se.resolve(o).then((r=>{t[i]=r,--n||e(t)}),r)))}))},resolve:t=>{if(t instanceof se)return t;if(t&&"function"==typeof t.then)return new se(((e,r)=>{t.then(e,r)}));var e=new se(Kt,!0,t);return ge(e,ee),e},reject:xe,race:function(){var t=ht.apply(null,arguments).map(Ie);return new se(((e,r)=>{t.map((t=>se.resolve(t).then(e,r)))}))},PSD:{get:()=>oe,set:t=>oe=t},totalEchoes:{get:()=>je},newPSD:Te,usePSD:Ce,scheduler:{get:()=>$t,set:t=>{$t=t}},rejectionMapper:{get:()=>re,set:t=>{re=t}},follow:(t,e)=>new se(((r,n)=>Te(((e,r)=>{var n=oe;n.unhandleds=[],n.onunhandled=r,n.finalize=Gt((function(){!function(t){ce.push((function e(){t(),ce.splice(ce.indexOf(e),1)})),++ae,$t((()=>{0==--ae&&_e()}),[])}((()=>{0===this.unhandleds.length?e():r(this.unhandleds[0])}))}),n.finalize),t()}),e,r,n)))}),Wt&&(Wt.allSettled&&K(se,"allSettled",(function(){const t=ht.apply(null,arguments).map(Ie);return new se((e=>{0===t.length&&e([]);let r=t.length;const n=new Array(r);t.forEach(((t,o)=>se.resolve(t).then((t=>n[o]={status:"fulfilled",value:t}),(t=>n[o]={status:"rejected",reason:t})).then((()=>--r||e(n)))))}))})),Wt.any&&"undefined"!=typeof AggregateError&&K(se,"any",(function(){const t=ht.apply(null,arguments).map(Ie);return new se(((e,r)=>{0===t.length&&r(new AggregateError([]));let n=t.length;const o=new Array(n);t.forEach(((t,i)=>se.resolve(t).then((t=>e(t)),(t=>{o[i]=t,--n||r(new AggregateError(o))}))))}))})));const Oe={awaits:0,echoes:0,id:0};var ke=0,Le=[],Se=0,je=0,Pe=0;function Te(t,e,r,n){var o=oe,i=Object.create(o);i.parent=o,i.ref=0,i.global=!1,i.id=++Pe;var a=ne.env;i.env=Ht?{Promise:se,PromiseProp:{value:se,configurable:!0,writable:!0},all:se.all,race:se.race,allSettled:se.allSettled,any:se.any,resolve:se.resolve,reject:se.reject,nthen:Ke(a.nthen,i),gthen:Ke(a.gthen,i)}:{},e&&G(i,e),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var c=Ce(i,t,r,n);return 0===i.ref&&i.finalize(),c}function Ne(){return Oe.id||(Oe.id=++ke),++Oe.awaits,Oe.echoes+=100,Oe.id}function Ae(){return!!Oe.awaits&&(0==--Oe.awaits&&(Oe.id=0),Oe.echoes=100*Oe.awaits,!0)}function Ie(t){return Oe.echoes&&t&&t.constructor===Wt?(Ne(),t.then((t=>(Ae(),t)),(t=>(Ae(),Ue(t))))):t}function De(t){++je,Oe.echoes&&0!=--Oe.echoes||(Oe.echoes=Oe.id=0),Le.push(oe),Me(t,!0)}function Ge(){var t=Le[Le.length-1];Le.pop(),Me(t,!1)}function Me(t,e){var r=oe;if((e?!Oe.echoes||Se++&&t===oe:!Se||--Se&&t===oe)||Be(e?De.bind(null,t):Ge),t!==oe&&(oe=t,r===ne&&(ne.env=Fe()),Ht)){var n=ne.env.Promise,o=t.env;Ut.then=o.nthen,n.prototype.then=o.gthen,(r.global||t.global)&&(Object.defineProperty(A,"Promise",o.PromiseProp),n.all=o.all,n.race=o.race,n.resolve=o.resolve,n.reject=o.reject,o.allSettled&&(n.allSettled=o.allSettled),o.any&&(n.any=o.any))}}function Fe(){var t=A.Promise;return Ht?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(A,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Ut.then,gthen:t.prototype.then}:{}}function Ce(t,e,r,n,o){var i=oe;try{return Me(t,!0),e(r,n,o)}finally{Me(i,!1)}}function Be(t){zt.call(qt,t)}function Re(t,e,r,n){return"function"!=typeof t?t:function(){var o=oe;r&&Ne(),Me(e,!0);try{return t.apply(this,arguments)}finally{Me(o,!1),n&&Be(Ae)}}}function Ke(t,e){return function(r,n){return t.call(this,Re(r,e),Re(n,e))}}function qe(t,e){var r;try{r=e.onuncatched(t)}catch(t){}if(!1!==r)try{var n,o={promise:e,reason:t};if(A.document&&document.createEvent?((n=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),G(n,o)):A.CustomEvent&&G(n=new CustomEvent("unhandledrejection",{detail:o}),o),n&&A.dispatchEvent&&(dispatchEvent(n),!A.PromiseRejectionEvent&&A.onunhandledrejection))try{A.onunhandledrejection(n)}catch(t){}dt&&n&&!n.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch(t){}}-1===(""+zt).indexOf("[native code]")&&(Ne=Ae=At);var Ue=se.reject;function Ye(t,e,r,n){if(t.idbdb&&(t._state.openComplete||oe.letThrough||t._vip)){var o=t._createTransaction(e,r,t._dbSchema);try{o.create(),t._state.PR1398_maxLoop=3}catch(o){return o.name===St.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then((()=>Ye(t,e,r,n)))):Ue(o)}return o._promise(e,((t,e)=>Te((()=>(oe.trans=o,n(t,e,o)))))).then((t=>o._completion.then((()=>t))))}if(t._state.openComplete)return Ue(new Pt.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return Ue(new Pt.DatabaseClosed);t.open().catch(At)}return t._state.dbReadyPromise.then((()=>Ye(t,e,r,n)))}const ze=String.fromCharCode(65535),We="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",He=[],Ve="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Je=Ve,$e=Ve,Xe=t=>!/(dexie\.js|dexie\.min\.js)/.test(t);function Qe(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const Ze={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function tr(t){return"string"!=typeof t||/\./.test(t)?t=>t:e=>(void 0===e[t]&&t in e&&delete(e=it(e))[t],e)}class er{_trans(t,e,r){const n=this._tx||oe.trans,o=this.name;function i(t,r,n){if(!n.schema[o])throw new Pt.NotFound("Table "+o+" not part of transaction");return e(n.idbtrans,n)}const a=be();try{return n&&n.db===this.db?n===oe.trans?n._promise(t,i,r):Te((()=>n._promise(t,i,r)),{trans:n,transless:oe.transless||oe}):Ye(this.db,t,[this.name],i)}finally{a&&we()}}get(t,e){return t&&t.constructor===Object?this.where(t).first(e):this._trans("readonly",(e=>this.core.get({trans:e,key:t}).then((t=>this.hook.reading.fire(t))))).then(e)}where(t){if("string"==typeof t)return new this.db.WhereClause(this,t);if(D(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const e=I(t);if(1===e.length)return this.where(e[0]).equals(t[e[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter((t=>t.compound&&e.every((e=>t.keyPath.indexOf(e)>=0))&&t.keyPath.every((t=>e.indexOf(t)>=0))))[0];if(r&&this.db._maxKey!==ze)return this.where(r.name).equals(r.keyPath.map((e=>t[e])));!r&&dt&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${e.join("+")}]`);const{idxByName:n}=this.schema,o=this.db._deps.indexedDB;function i(t,e){try{return 0===o.cmp(t,e)}catch(t){return!1}}const[a,c]=e.reduce((([e,r],o)=>{const a=n[o],c=t[o];return[e||a,e||!a?Qe(r,a&&a.multi?t=>{const e=X(t,o);return D(e)&&e.some((t=>i(c,t)))}:t=>i(c,X(t,o))):r]}),[null,null]);return a?this.where(a.name).equals(t[a.keyPath]).filter(c):r?this.filter(c):this.where(e).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,D(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const e=e=>{if(!e)return e;const r=Object.create(t.prototype);for(var n in e)if(C(e,n))try{r[n]=e[n]}catch(t){}return r};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=e,this.hook("reading",e),t}defineClass(){return this.mapToClass((function(t){G(this,t)}))}add(t,e){const{auto:r,keyPath:n}=this.schema.primKey;let o=t;return n&&r&&(o=tr(n)(t)),this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"add",keys:null!=e?[e]:null,values:[o]}))).then((t=>t.numFailures?se.reject(t.failures[0]):t.lastResult)).then((e=>{if(n)try{Q(t,n,e)}catch(t){}return e}))}update(t,e){if("object"!=typeof t||D(t))return this.where(":id").equals(t).modify(e);{const r=X(t,this.schema.primKey.keyPath);if(void 0===r)return Ue(new Pt.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof e?I(e).forEach((r=>{Q(t,r,e[r])})):e(t,{value:t,primKey:r})}catch(t){}return this.where(":id").equals(r).modify(e)}}put(t,e){const{auto:r,keyPath:n}=this.schema.primKey;let o=t;return n&&r&&(o=tr(n)(t)),this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"put",values:[o],keys:null!=e?[e]:null}))).then((t=>t.numFailures?se.reject(t.failures[0]):t.lastResult)).then((e=>{if(n)try{Q(t,n,e)}catch(t){}return e}))}delete(t){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"delete",keys:[t]}))).then((t=>t.numFailures?se.reject(t.failures[0]):void 0))}clear(){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"deleteRange",range:Ze}))).then((t=>t.numFailures?se.reject(t.failures[0]):void 0))}bulkGet(t){return this._trans("readonly",(e=>this.core.getMany({keys:t,trans:e}).then((t=>t.map((t=>this.hook.reading.fire(t)))))))}bulkAdd(t,e,r){const n=Array.isArray(e)?e:void 0,o=(r=r||(n?void 0:e))?r.allKeys:void 0;return this._trans("readwrite",(e=>{const{auto:r,keyPath:i}=this.schema.primKey;if(i&&n)throw new Pt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(n&&n.length!==t.length)throw new Pt.InvalidArgument("Arguments objects and keys must have the same length");const a=t.length;let c=i&&r?t.map(tr(i)):t;return this.core.mutate({trans:e,type:"add",keys:n,values:c,wantResults:o}).then((({numFailures:t,results:e,lastResult:r,failures:n})=>{if(0===t)return o?e:r;throw new Lt(`${this.name}.bulkAdd(): ${t} of ${a} operations failed`,n)}))}))}bulkPut(t,e,r){const n=Array.isArray(e)?e:void 0,o=(r=r||(n?void 0:e))?r.allKeys:void 0;return this._trans("readwrite",(e=>{const{auto:r,keyPath:i}=this.schema.primKey;if(i&&n)throw new Pt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(n&&n.length!==t.length)throw new Pt.InvalidArgument("Arguments objects and keys must have the same length");const a=t.length;let c=i&&r?t.map(tr(i)):t;return this.core.mutate({trans:e,type:"put",keys:n,values:c,wantResults:o}).then((({numFailures:t,results:e,lastResult:r,failures:n})=>{if(0===t)return o?e:r;throw new Lt(`${this.name}.bulkPut(): ${t} of ${a} operations failed`,n)}))}))}bulkDelete(t){const e=t.length;return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"delete",keys:t}))).then((({numFailures:t,lastResult:r,failures:n})=>{if(0===t)return r;throw new Lt(`${this.name}.bulkDelete(): ${t} of ${e} operations failed`,n)}))}}function rr(t){var e={},r=function(r,n){if(n){for(var o=arguments.length,i=new Array(o-1);--o;)i[o-1]=arguments[o];return e[r].subscribe.apply(null,i),t}if("string"==typeof r)return e[r]};r.addEventType=i;for(var n=1,o=arguments.length;n<o;++n)i(arguments[n]);return r;function i(t,n,o){if("object"==typeof t)return a(t);n||(n=Bt),o||(o=At);var i={subscribers:[],fire:o,subscribe:function(t){-1===i.subscribers.indexOf(t)&&(i.subscribers.push(t),i.fire=n(i.fire,t))},unsubscribe:function(t){i.subscribers=i.subscribers.filter((function(e){return e!==t})),i.fire=i.subscribers.reduce(n,o)}};return e[t]=r[t]=i,i}function a(t){I(t).forEach((function(e){var r=t[e];if(D(r))i(e,t[e][0],t[e][1]);else{if("asap"!==r)throw new Pt.InvalidArgument("Invalid event config");var n=i(e,It,(function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];n.subscribers.forEach((function(t){J((function(){t.apply(null,e)}))}))}))}}))}}function nr(t,e){return q(e).from({prototype:t}),e}function or(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function ir(t,e){t.filter=Qe(t.filter,e)}function ar(t,e,r){var n=t.replayFilter;t.replayFilter=n?()=>Qe(n(),e()):e,t.justLimit=r&&!n}function cr(t,e){if(t.isPrimKey)return e.primaryKey;const r=e.getIndexByKeyPath(t.index);if(!r)throw new Pt.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return r}function sr(t,e,r){const n=cr(t,e.schema);return e.openCursor({trans:r,values:!t.keysOnly,reverse:"prev"===t.dir,unique:!!t.unique,query:{index:n,range:t.range}})}function ur(t,e,r,n){const o=t.replayFilter?Qe(t.filter,t.replayFilter()):t.filter;if(t.or){const i={},a=(t,r,n)=>{if(!o||o(r,n,(t=>r.stop(t)),(t=>r.fail(t)))){var a=r.primaryKey,c=""+a;"[object ArrayBuffer]"===c&&(c=""+new Uint8Array(a)),C(i,c)||(i[c]=!0,e(t,r,n))}};return Promise.all([t.or._iterate(a,r),lr(sr(t,n,r),t.algorithm,a,!t.keysOnly&&t.valueMapper)])}return lr(sr(t,n,r),Qe(t.algorithm,o),e,!t.keysOnly&&t.valueMapper)}function lr(t,e,r,n){var o=Ee(n?(t,e,o)=>r(n(t),e,o):r);return t.then((t=>{if(t)return t.start((()=>{var r=()=>t.continue();e&&!e(t,(t=>r=t),(e=>{t.stop(e),r=At}),(e=>{t.fail(e),r=At}))||o(t.value,t,(t=>r=t)),r()}))}))}function fr(t,e){try{const r=hr(t),n=hr(e);if(r!==n)return"Array"===r?1:"Array"===n?-1:"binary"===r?1:"binary"===n?-1:"string"===r?1:"string"===n?-1:"Date"===r?1:"Date"!==n?NaN:-1;switch(r){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(t,e){const r=t.length,n=e.length,o=r<n?r:n;for(let r=0;r<o;++r)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return r===n?0:r<n?-1:1}(pr(t),pr(e));case"Array":return function(t,e){const r=t.length,n=e.length,o=r<n?r:n;for(let r=0;r<o;++r){const n=fr(t[r],e[r]);if(0!==n)return n}return r===n?0:r<n?-1:1}(t,e)}}catch(t){}return NaN}function hr(t){const e=typeof t;if("object"!==e)return e;if(ArrayBuffer.isView(t))return"binary";const r=st(t);return"ArrayBuffer"===r?"binary":r}function pr(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class dr{_read(t,e){var r=this._ctx;return r.error?r.table._trans(null,Ue.bind(null,r.error)):r.table._trans("readonly",t).then(e)}_write(t){var e=this._ctx;return e.error?e.table._trans(null,Ue.bind(null,e.error)):e.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var e=this._ctx;e.algorithm=Qe(e.algorithm,t)}_iterate(t,e){return ur(this._ctx,t,e,this._ctx.table.core)}clone(t){var e=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&G(r,t),e._ctx=r,e}raw(){return this._ctx.valueMapper=null,this}each(t){var e=this._ctx;return this._read((r=>ur(e,t,r,e.table.core)))}count(t){return this._read((t=>{const e=this._ctx,r=e.table.core;if(or(e,!0))return r.count({trans:t,query:{index:cr(e,r.schema),range:e.range}}).then((t=>Math.min(t,e.limit)));var n=0;return ur(e,(()=>(++n,!1)),t,r).then((()=>n))})).then(t)}sortBy(t,e){const r=t.split(".").reverse(),n=r[0],o=r.length-1;function i(t,e){return e?i(t[r[e]],e-1):t[n]}var a="next"===this._ctx.dir?1:-1;function c(t,e){var r=i(t,o),n=i(e,o);return r<n?-a:r>n?a:0}return this.toArray((function(t){return t.sort(c)})).then(e)}toArray(t){return this._read((t=>{var e=this._ctx;if("next"===e.dir&&or(e,!0)&&e.limit>0){const{valueMapper:r}=e,n=cr(e,e.table.core.schema);return e.table.core.query({trans:t,limit:e.limit,values:!0,query:{index:n,range:e.range}}).then((({result:t})=>r?t.map(r):t))}{const r=[];return ur(e,(t=>r.push(t)),t,e.table.core).then((()=>r))}}),t)}offset(t){var e=this._ctx;return t<=0||(e.offset+=t,or(e)?ar(e,(()=>{var e=t;return(t,r)=>0===e||(1===e?(--e,!1):(r((()=>{t.advance(e),e=0})),!1))})):ar(e,(()=>{var e=t;return()=>--e<0}))),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),ar(this._ctx,(()=>{var e=t;return function(t,r,n){return--e<=0&&r(n),e>=0}}),!0),this}until(t,e){return ir(this._ctx,(function(r,n,o){return!t(r.value)||(n(o),e)})),this}first(t){return this.limit(1).toArray((function(t){return t[0]})).then(t)}last(t){return this.reverse().first(t)}filter(t){var e,r;return ir(this._ctx,(function(e){return t(e.value)})),e=this._ctx,r=t,e.isMatch=Qe(e.isMatch,r),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,r){t(r.key,r)}))}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,r){t(r.primaryKey,r)}))}keys(t){var e=this._ctx;e.keysOnly=!e.isMatch;var r=[];return this.each((function(t,e){r.push(e.key)})).then((function(){return r})).then(t)}primaryKeys(t){var e=this._ctx;if("next"===e.dir&&or(e,!0)&&e.limit>0)return this._read((t=>{var r=cr(e,e.table.core.schema);return e.table.core.query({trans:t,values:!1,limit:e.limit,query:{index:r,range:e.range}})})).then((({result:t})=>t)).then(t);e.keysOnly=!e.isMatch;var r=[];return this.each((function(t,e){r.push(e.primaryKey)})).then((function(){return r})).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys((function(t){return t[0]})).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,e=t.index&&t.table.schema.idxByName[t.index];if(!e||!e.multi)return this;var r={};return ir(this._ctx,(function(t){var e=t.primaryKey.toString(),n=C(r,e);return r[e]=!0,!n})),this}modify(t){var e=this._ctx;return this._write((r=>{var n;if("function"==typeof t)n=t;else{var o=I(t),i=o.length;n=function(e){for(var r=!1,n=0;n<i;++n){var a=o[n],c=t[a];X(e,a)!==c&&(Q(e,a,c),r=!0)}return r}}const a=e.table.core,{outbound:c,extractKey:s}=a.schema.primaryKey,u=this.db._options.modifyChunkSize||200,l=[];let f=0;const h=[],p=(t,e)=>{const{failures:r,numFailures:n}=e;f+=t-n;for(let t of I(r))l.push(r[t])};return this.clone().primaryKeys().then((o=>{const i=l=>{const f=Math.min(u,o.length-l);return a.getMany({trans:r,keys:o.slice(l,l+f),cache:"immutable"}).then((h=>{const d=[],y=[],v=c?[]:null,g=[];for(let t=0;t<f;++t){const e=h[t],r={value:it(e),primKey:o[l+t]};!1!==n.call(r,r.value,r)&&(null==r.value?g.push(o[l+t]):c||0===fr(s(e),s(r.value))?(y.push(r.value),c&&v.push(o[l+t])):(g.push(o[l+t]),d.push(r.value)))}const m=or(e)&&e.limit===1/0&&("function"!=typeof t||t===yr)&&{index:e.index,range:e.range};return Promise.resolve(d.length>0&&a.mutate({trans:r,type:"add",values:d}).then((t=>{for(let e in t.failures)g.splice(parseInt(e),1);p(d.length,t)}))).then((()=>(y.length>0||m&&"object"==typeof t)&&a.mutate({trans:r,type:"put",keys:v,values:y,criteria:m,changeSpec:"function"!=typeof t&&t}).then((t=>p(y.length,t))))).then((()=>(g.length>0||m&&t===yr)&&a.mutate({trans:r,type:"delete",keys:g,criteria:m}).then((t=>p(g.length,t))))).then((()=>o.length>l+f&&i(l+u)))}))};return i(0).then((()=>{if(l.length>0)throw new kt("Error modifying one or more objects",l,f,h);return o.length}))}))}))}delete(){var t=this._ctx,e=t.range;return or(t)&&(t.isPrimKey&&!$e||3===e.type)?this._write((r=>{const{primaryKey:n}=t.table.core.schema,o=e;return t.table.core.count({trans:r,query:{index:n,range:o}}).then((e=>t.table.core.mutate({trans:r,type:"deleteRange",range:o}).then((({failures:t,lastResult:r,results:n,numFailures:o})=>{if(o)throw new kt("Could not delete some values",Object.keys(t).map((e=>t[e])),e-o);return e-o}))))})):this.modify(yr)}}const yr=(t,e)=>e.value=null;function vr(t,e){return t<e?-1:t===e?0:1}function gr(t,e){return t>e?-1:t===e?0:1}function mr(t,e,r){var n=t instanceof Or?new t.Collection(t):t;return n._ctx.error=r?new r(e):new TypeError(e),n}function br(t){return new t.Collection(t,(()=>Er(""))).limit(0)}function wr(t,e,r,n,o,i){for(var a=Math.min(t.length,n.length),c=-1,s=0;s<a;++s){var u=e[s];if(u!==n[s])return o(t[s],r[s])<0?t.substr(0,s)+r[s]+r.substr(s+1):o(t[s],n[s])<0?t.substr(0,s)+n[s]+r.substr(s+1):c>=0?t.substr(0,c)+e[c]+r.substr(c+1):null;o(t[s],u)<0&&(c=s)}return a<n.length&&"next"===i?t+r.substr(t.length):a<t.length&&"prev"===i?t.substr(0,r.length):c<0?null:t.substr(0,c)+n[c]+r.substr(c+1)}function _r(t,e,r,n){var o,i,a,c,s,u,l,f=r.length;if(!r.every((t=>"string"==typeof t)))return mr(t,"String expected.");function h(t){o=function(t){return"next"===t?t=>t.toUpperCase():t=>t.toLowerCase()}(t),i=function(t){return"next"===t?t=>t.toLowerCase():t=>t.toUpperCase()}(t),a="next"===t?vr:gr;var e=r.map((function(t){return{lower:i(t),upper:o(t)}})).sort((function(t,e){return a(t.lower,e.lower)}));c=e.map((function(t){return t.upper})),s=e.map((function(t){return t.lower})),u=t,l="next"===t?"":n}h("next");var p=new t.Collection(t,(()=>xr(c[0],s[f-1]+n)));p._ondirectionchange=function(t){h(t)};var d=0;return p._addAlgorithm((function(t,r,n){var o=t.key;if("string"!=typeof o)return!1;var h=i(o);if(e(h,s,d))return!0;for(var p=null,y=d;y<f;++y){var v=wr(o,h,c[y],s[y],a,u);null===v&&null===p?d=y+1:(null===p||a(p,v)>0)&&(p=v)}return r(null!==p?function(){t.continue(p+l)}:n),!1})),p}function xr(t,e,r,n){return{type:2,lower:t,upper:e,lowerOpen:r,upperOpen:n}}function Er(t){return{type:1,lower:t,upper:t}}class Or{get Collection(){return this._ctx.table.db.Collection}between(t,e,r,n){r=!1!==r,n=!0===n;try{return this._cmp(t,e)>0||0===this._cmp(t,e)&&(r||n)&&(!r||!n)?br(this):new this.Collection(this,(()=>xr(t,e,!r,!n)))}catch(t){return mr(this,We)}}equals(t){return null==t?mr(this,We):new this.Collection(this,(()=>Er(t)))}above(t){return null==t?mr(this,We):new this.Collection(this,(()=>xr(t,void 0,!0)))}aboveOrEqual(t){return null==t?mr(this,We):new this.Collection(this,(()=>xr(t,void 0,!1)))}below(t){return null==t?mr(this,We):new this.Collection(this,(()=>xr(void 0,t,!1,!0)))}belowOrEqual(t){return null==t?mr(this,We):new this.Collection(this,(()=>xr(void 0,t)))}startsWith(t){return"string"!=typeof t?mr(this,"String expected."):this.between(t,t+ze,!0,!0)}startsWithIgnoreCase(t){return""===t?this.startsWith(t):_r(this,((t,e)=>0===t.indexOf(e[0])),[t],ze)}equalsIgnoreCase(t){return _r(this,((t,e)=>t===e[0]),[t],"")}anyOfIgnoreCase(){var t=ht.apply(ft,arguments);return 0===t.length?br(this):_r(this,((t,e)=>-1!==e.indexOf(t)),t,"")}startsWithAnyOfIgnoreCase(){var t=ht.apply(ft,arguments);return 0===t.length?br(this):_r(this,((t,e)=>e.some((e=>0===t.indexOf(e)))),t,ze)}anyOf(){const t=ht.apply(ft,arguments);let e=this._cmp;try{t.sort(e)}catch(t){return mr(this,We)}if(0===t.length)return br(this);const r=new this.Collection(this,(()=>xr(t[0],t[t.length-1])));r._ondirectionchange=r=>{e="next"===r?this._ascending:this._descending,t.sort(e)};let n=0;return r._addAlgorithm(((r,o,i)=>{const a=r.key;for(;e(a,t[n])>0;)if(++n,n===t.length)return o(i),!1;return 0===e(a,t[n])||(o((()=>{r.continue(t[n])})),!1)})),r}notEqual(t){return this.inAnyRange([[-1/0,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=ht.apply(ft,arguments);if(0===t.length)return new this.Collection(this);try{t.sort(this._ascending)}catch(t){return mr(this,We)}const e=t.reduce(((t,e)=>t?t.concat([[t[t.length-1][1],e]]):[[-1/0,e]]),null);return e.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(e,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,e){const r=this._cmp,n=this._ascending,o=this._descending,i=this._min,a=this._max;if(0===t.length)return br(this);if(!t.every((t=>void 0!==t[0]&&void 0!==t[1]&&n(t[0],t[1])<=0)))return mr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Pt.InvalidArgument);const c=!e||!1!==e.includeLowers,s=e&&!0===e.includeUppers;let u,l=n;function f(t,e){return l(t[0],e[0])}try{u=t.reduce((function(t,e){let n=0,o=t.length;for(;n<o;++n){const o=t[n];if(r(e[0],o[1])<0&&r(e[1],o[0])>0){o[0]=i(o[0],e[0]),o[1]=a(o[1],e[1]);break}}return n===o&&t.push(e),t}),[]),u.sort(f)}catch(t){return mr(this,We)}let h=0;const p=s?t=>n(t,u[h][1])>0:t=>n(t,u[h][1])>=0,d=c?t=>o(t,u[h][0])>0:t=>o(t,u[h][0])>=0;let y=p;const v=new this.Collection(this,(()=>xr(u[0][0],u[u.length-1][1],!c,!s)));return v._ondirectionchange=t=>{"next"===t?(y=p,l=n):(y=d,l=o),u.sort(f)},v._addAlgorithm(((t,e,r)=>{for(var o=t.key;y(o);)if(++h,h===u.length)return e(r),!1;return!!function(t){return!p(t)&&!d(t)}(o)||(0===this._cmp(o,u[h][1])||0===this._cmp(o,u[h][0])||e((()=>{l===n?t.continue(u[h][0]):t.continue(u[h][1])})),!1)})),v}startsWithAnyOf(){const t=ht.apply(ft,arguments);return t.every((t=>"string"==typeof t))?0===t.length?br(this):this.inAnyRange(t.map((t=>[t,t+ze]))):mr(this,"startsWithAnyOf() only works with strings")}}function kr(t){return Ee((function(e){return Lr(e),t(e.target.error),!1}))}function Lr(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const Sr=rr(null,"storagemutated");class jr{_lock(){return V(!oe.global),++this._reculock,1!==this._reculock||oe.global||(oe.lockOwnerFor=this),this}_unlock(){if(V(!oe.global),0==--this._reculock)for(oe.global||(oe.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Ce(t[1],t[0])}catch(t){}}return this}_locked(){return this._reculock&&oe.lockOwnerFor!==this}create(t){if(!this.mode)return this;const e=this.db.idbdb,r=this.db._state.dbOpenError;if(V(!this.idbtrans),!t&&!e)switch(r&&r.name){case"DatabaseClosedError":throw new Pt.DatabaseClosed(r);case"MissingAPIError":throw new Pt.MissingAPI(r.message,r);default:throw new Pt.OpenFailed(r)}if(!this.active)throw new Pt.TransactionInactive;return V(null===this._completion._state),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):e.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Ee((e=>{Lr(e),this._reject(t.error)})),t.onabort=Ee((e=>{Lr(e),this.active&&this._reject(new Pt.Abort(t.error)),this.active=!1,this.on("abort").fire(e)})),t.oncomplete=Ee((()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&Sr.storagemutated.fire(t.mutatedParts)})),this}_promise(t,e,r){if("readwrite"===t&&"readwrite"!==this.mode)return Ue(new Pt.ReadOnly("Transaction is readonly"));if(!this.active)return Ue(new Pt.TransactionInactive);if(this._locked())return new se(((n,o)=>{this._blockedFuncs.push([()=>{this._promise(t,e,r).then(n,o)},oe])}));if(r)return Te((()=>{var t=new se(((t,r)=>{this._lock();const n=e(t,r,this);n&&n.then&&n.then(t,r)}));return t.finally((()=>this._unlock())),t._lib=!0,t}));var n=new se(((t,r)=>{var n=e(t,r,this);n&&n.then&&n.then(t,r)}));return n._lib=!0,n}_root(){return this.parent?this.parent._root():this}waitFor(t){var e=this._root();const r=se.resolve(t);if(e._waitingFor)e._waitingFor=e._waitingFor.then((()=>r));else{e._waitingFor=r,e._waitingQueue=[];var n=e.idbtrans.objectStore(e.storeNames[0]);!function t(){for(++e._spinCount;e._waitingQueue.length;)e._waitingQueue.shift()();e._waitingFor&&(n.get(-1/0).onsuccess=t)}()}var o=e._waitingFor;return new se(((t,n)=>{r.then((r=>e._waitingQueue.push(Ee(t.bind(null,r)))),(t=>e._waitingQueue.push(Ee(n.bind(null,t))))).finally((()=>{e._waitingFor===o&&(e._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Pt.Abort))}table(t){const e=this._memoizedTables||(this._memoizedTables={});if(C(e,t))return e[t];const r=this.schema[t];if(!r)throw new Pt.NotFound("Table "+t+" not part of transaction");const n=new this.db.Table(t,r,this);return n.core=this.db.core.table(t),e[t]=n,n}}function Pr(t,e,r,n,o,i,a){return{name:t,keyPath:e,unique:r,multi:n,auto:o,compound:i,src:(r&&!a?"&":"")+(n?"*":"")+(o?"++":"")+Tr(e)}}function Tr(t){return"string"==typeof t?t:t?"["+[].join.call(t,"+")+"]":""}function Nr(t,e,r){return{name:t,primKey:e,indexes:r,mappedClass:null,idxByName:$(r,(t=>[t.name,t]))}}let Ar=t=>{try{return t.only([[]]),Ar=()=>[[]],[[]]}catch(t){return Ar=()=>ze,ze}};function Ir(t){return null==t?()=>{}:"string"==typeof t?function(t){return 1===t.split(".").length?e=>e[t]:e=>X(e,t)}(t):e=>X(e,t)}function Dr(t){return[].slice.call(t)}let Gr=0;function Mr(t){return null==t?":id":"string"==typeof t?t:`[${t.join("+")}]`}function Fr(t,e,r){function n(t){if(3===t.type)return null;if(4===t.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:r,upper:n,lowerOpen:o,upperOpen:i}=t;return void 0===r?void 0===n?null:e.upperBound(n,!!i):void 0===n?e.lowerBound(r,!!o):e.bound(r,n,!!o,!!i)}const{schema:o,hasGetAll:i}=function(t,e){const r=Dr(t.objectStoreNames);return{schema:{name:t.name,tables:r.map((t=>e.objectStore(t))).map((t=>{const{keyPath:e,autoIncrement:r}=t,n=D(e),o=null==e,i={},a={name:t.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:o,compound:n,keyPath:e,autoIncrement:r,unique:!0,extractKey:Ir(e)},indexes:Dr(t.indexNames).map((e=>t.index(e))).map((t=>{const{name:e,unique:r,multiEntry:n,keyPath:o}=t,a={name:e,compound:D(o),keyPath:o,unique:r,multiEntry:n,extractKey:Ir(o)};return i[Mr(o)]=a,a})),getIndexByKeyPath:t=>i[Mr(t)]};return i[":id"]=a.primaryKey,null!=e&&(i[Mr(e)]=a.primaryKey),a}))},hasGetAll:r.length>0&&"getAll"in e.objectStore(r[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,r),a=o.tables.map((t=>function(t){const e=t.name;return{name:e,schema:t,mutate:function({trans:t,type:r,keys:o,values:i,range:a}){return new Promise(((c,s)=>{c=Ee(c);const u=t.objectStore(e),l=null==u.keyPath,f="put"===r||"add"===r;if(!f&&"delete"!==r&&"deleteRange"!==r)throw new Error("Invalid operation type: "+r);const{length:h}=o||i||{length:1};if(o&&i&&o.length!==i.length)throw new Error("Given keys array must have same length as given values array.");if(0===h)return c({numFailures:0,failures:{},results:[],lastResult:void 0});let p;const d=[],y=[];let v=0;const g=t=>{++v,Lr(t)};if("deleteRange"===r){if(4===a.type)return c({numFailures:v,failures:y,results:[],lastResult:void 0});3===a.type?d.push(p=u.clear()):d.push(p=u.delete(n(a)))}else{const[t,e]=f?l?[i,o]:[i,null]:[o,null];if(f)for(let n=0;n<h;++n)d.push(p=e&&void 0!==e[n]?u[r](t[n],e[n]):u[r](t[n])),p.onerror=g;else for(let e=0;e<h;++e)d.push(p=u[r](t[e])),p.onerror=g}const m=t=>{const e=t.target.result;d.forEach(((t,e)=>null!=t.error&&(y[e]=t.error))),c({numFailures:v,failures:y,results:"delete"===r?o:d.map((t=>t.result)),lastResult:e})};p.onerror=t=>{g(t),m(t)},p.onsuccess=m}))},getMany:({trans:t,keys:r})=>new Promise(((n,o)=>{n=Ee(n);const i=t.objectStore(e),a=r.length,c=new Array(a);let s,u=0,l=0;const f=t=>{const e=t.target;c[e._pos]=e.result,++l===u&&n(c)},h=kr(o);for(let t=0;t<a;++t)null!=r[t]&&(s=i.get(r[t]),s._pos=t,s.onsuccess=f,s.onerror=h,++u);0===u&&n(c)})),get:({trans:t,key:r})=>new Promise(((n,o)=>{n=Ee(n);const i=t.objectStore(e).get(r);i.onsuccess=t=>n(t.target.result),i.onerror=kr(o)})),query:function(t){return r=>new Promise(((o,i)=>{o=Ee(o);const{trans:a,values:c,limit:s,query:u}=r,l=s===1/0?void 0:s,{index:f,range:h}=u,p=a.objectStore(e),d=f.isPrimaryKey?p:p.index(f.name),y=n(h);if(0===s)return o({result:[]});if(t){const t=c?d.getAll(y,l):d.getAllKeys(y,l);t.onsuccess=t=>o({result:t.target.result}),t.onerror=kr(i)}else{let t=0;const e=c||!("openKeyCursor"in d)?d.openCursor(y):d.openKeyCursor(y),r=[];e.onsuccess=n=>{const i=e.result;return i?(r.push(c?i.value:i.primaryKey),++t===s?o({result:r}):void i.continue()):o({result:r})},e.onerror=kr(i)}}))}(i),openCursor:function({trans:t,values:r,query:o,reverse:i,unique:a}){return new Promise(((c,s)=>{c=Ee(c);const{index:u,range:l}=o,f=t.objectStore(e),h=u.isPrimaryKey?f:f.index(u.name),p=i?a?"prevunique":"prev":a?"nextunique":"next",d=r||!("openKeyCursor"in h)?h.openCursor(n(l),p):h.openKeyCursor(n(l),p);d.onerror=kr(s),d.onsuccess=Ee((e=>{const r=d.result;if(!r)return void c(null);r.___id=++Gr,r.done=!1;const n=r.continue.bind(r);let o=r.continuePrimaryKey;o&&(o=o.bind(r));const i=r.advance.bind(r),a=()=>{throw new Error("Cursor not stopped")};r.trans=t,r.stop=r.continue=r.continuePrimaryKey=r.advance=()=>{throw new Error("Cursor not started")},r.fail=Ee(s),r.next=function(){let t=1;return this.start((()=>t--?this.continue():this.stop())).then((()=>this))},r.start=t=>{const e=new Promise(((t,e)=>{t=Ee(t),d.onerror=kr(e),r.fail=e,r.stop=e=>{r.stop=r.continue=r.continuePrimaryKey=r.advance=a,t(e)}})),c=()=>{if(d.result)try{t()}catch(t){r.fail(t)}else r.done=!0,r.start=()=>{throw new Error("Cursor behind last entry")},r.stop()};return d.onsuccess=Ee((t=>{d.onsuccess=c,c()})),r.continue=n,r.continuePrimaryKey=o,r.advance=i,c(),e},c(r)}),s)}))},count({query:t,trans:r}){const{index:o,range:i}=t;return new Promise(((t,a)=>{const c=r.objectStore(e),s=o.isPrimaryKey?c:c.index(o.name),u=n(i),l=u?s.count(u):s.count();l.onsuccess=Ee((e=>t(e.target.result))),l.onerror=kr(a)}))}}}(t))),c={};return a.forEach((t=>c[t.name]=t)),{stack:"dbcore",transaction:t.transaction.bind(t),table(t){if(!c[t])throw new Error(`Table '${t}' not found`);return c[t]},MIN_KEY:-1/0,MAX_KEY:Ar(e),schema:o}}function Cr({_novip:t},e){const r=e.db,n=function(t,e,{IDBKeyRange:r,indexedDB:n},o){const i=function(t,e){return e.reduce(((t,{create:e})=>({...t,...e(t)})),t)}(Fr(e,r,o),t.dbcore);return{dbcore:i}}(t._middlewares,r,t._deps,e);t.core=n.dbcore,t.tables.forEach((e=>{const r=e.name;t.core.schema.tables.some((t=>t.name===r))&&(e.core=t.core.table(r),t[r]instanceof t.Table&&(t[r].core=e.core))}))}function Br({_novip:t},e,r,n){r.forEach((r=>{const o=n[r];e.forEach((e=>{const n=Y(e,r);(!n||"value"in n&&void 0===n.value)&&(e===t.Transaction.prototype||e instanceof t.Transaction?K(e,r,{get(){return this.table(r)},set(t){R(this,r,{value:t,writable:!0,configurable:!0,enumerable:!0})}}):e[r]=new t.Table(r,o))}))}))}function Rr({_novip:t},e){e.forEach((e=>{for(let r in e)e[r]instanceof t.Table&&delete e[r]}))}function Kr(t,e){return t._cfg.version-e._cfg.version}function qr(t,e,r,n){const o=t._dbSchema,i=t._createTransaction("readwrite",t._storeNames,o);i.create(r),i._completion.catch(n);const a=i._reject.bind(i),c=oe.transless||oe;Te((()=>{oe.trans=i,oe.transless=c,0===e?(I(o).forEach((t=>{Yr(r,t,o[t].primKey,o[t].indexes)})),Cr(t,r),se.follow((()=>t.on.populate.fire(i))).catch(a)):function({_novip:t},e,r,n){const o=[],i=t._versions;let a=t._dbSchema=Wr(t,t.idbdb,n),c=!1;return i.filter((t=>t._cfg.version>=e)).forEach((i=>{o.push((()=>{const o=a,s=i._cfg.dbschema;Hr(t,o,n),Hr(t,s,n),a=t._dbSchema=s;const u=Ur(o,s);u.add.forEach((t=>{Yr(n,t[0],t[1].primKey,t[1].indexes)})),u.change.forEach((t=>{if(t.recreate)throw new Pt.Upgrade("Not yet support for changing primary key");{const e=n.objectStore(t.name);t.add.forEach((t=>zr(e,t))),t.change.forEach((t=>{e.deleteIndex(t.name),zr(e,t)})),t.del.forEach((t=>e.deleteIndex(t)))}}));const l=i._cfg.contentUpgrade;if(l&&i._cfg.version>e){Cr(t,n),r._memoizedTables={},c=!0;let e=Z(s);u.del.forEach((t=>{e[t]=o[t]})),Rr(t,[t.Transaction.prototype]),Br(t,[t.Transaction.prototype],I(e),e),r.schema=e;const i=pt(l);let a;i&&Ne();const f=se.follow((()=>{if(a=l(r),a&&i){var t=Ae.bind(null,null);a.then(t,t)}}));return a&&"function"==typeof a.then?se.resolve(a):f.then((()=>a))}})),o.push((e=>{c&&Je||function(t,e){[].slice.call(e.db.objectStoreNames).forEach((r=>null==t[r]&&e.db.deleteObjectStore(r)))}(i._cfg.dbschema,e),Rr(t,[t.Transaction.prototype]),Br(t,[t.Transaction.prototype],t._storeNames,t._dbSchema),r.schema=t._dbSchema}))})),function t(){return o.length?se.resolve(o.shift()(r.idbtrans)).then(t):se.resolve()}().then((()=>{var t,e;e=n,I(t=a).forEach((r=>{e.db.objectStoreNames.contains(r)||Yr(e,r,t[r].primKey,t[r].indexes)}))}))}(t,e,i,r).catch(a)}))}function Ur(t,e){const r={del:[],add:[],change:[]};let n;for(n in t)e[n]||r.del.push(n);for(n in e){const o=t[n],i=e[n];if(o){const t={name:n,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||o.primKey.auto!==i.primKey.auto&&!Ve)t.recreate=!0,r.change.push(t);else{const e=o.idxByName,n=i.idxByName;let a;for(a in e)n[a]||t.del.push(a);for(a in n){const r=e[a],o=n[a];r?r.src!==o.src&&t.change.push(o):t.add.push(o)}(t.del.length>0||t.add.length>0||t.change.length>0)&&r.change.push(t)}}else r.add.push([n,i])}return r}function Yr(t,e,r,n){const o=t.db.createObjectStore(e,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach((t=>zr(o,t))),o}function zr(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function Wr(t,e,r){const n={};return W(e.objectStoreNames,0).forEach((t=>{const e=r.objectStore(t);let o=e.keyPath;const i=Pr(Tr(o),o||"",!1,!1,!!e.autoIncrement,o&&"string"!=typeof o,!0),a=[];for(let t=0;t<e.indexNames.length;++t){const r=e.index(e.indexNames[t]);o=r.keyPath;var c=Pr(r.name,o,!!r.unique,!!r.multiEntry,!1,o&&"string"!=typeof o,!1);a.push(c)}n[t]=Nr(t,i,a)})),n}function Hr({_novip:t},e,r){const n=r.db.objectStoreNames;for(let o=0;o<n.length;++o){const i=n[o],a=r.objectStore(i);t._hasGetAll="getAll"in a;for(let t=0;t<a.indexNames.length;++t){const r=a.indexNames[t],n=a.index(r).keyPath,o="string"==typeof n?n:"["+W(n).join("+")+"]";if(e[i]){const t=e[i].idxByName[o];t&&(t.name=r,delete e[i].idxByName[o],e[i].idxByName[r]=t)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&A.WorkerGlobalScope&&A instanceof A.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class Vr{_parseStoresSpec(t,e){I(t).forEach((r=>{if(null!==t[r]){var n=t[r].split(",").map(((t,e)=>{const r=(t=t.trim()).replace(/([&*]|\+\+)/g,""),n=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return Pr(r,n||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),D(n),0===e)})),o=n.shift();if(o.multi)throw new Pt.Schema("Primary key cannot be multi-valued");n.forEach((t=>{if(t.auto)throw new Pt.Schema("Only primary key can be marked as autoIncrement (++)");if(!t.keyPath)throw new Pt.Schema("Index must have a name and cannot be an empty string")})),e[r]=Nr(r,o,n)}}))}stores(t){const e=this.db;this._cfg.storesSource=this._cfg.storesSource?G(this._cfg.storesSource,t):t;const r=e._versions,n={};let o={};return r.forEach((t=>{G(n,t._cfg.storesSource),o=t._cfg.dbschema={},t._parseStoresSpec(n,o)})),e._dbSchema=o,Rr(e,[e._allTables,e,e.Transaction.prototype]),Br(e,[e._allTables,e,e.Transaction.prototype,this._cfg.tables],I(o),o),e._storeNames=I(o),this}upgrade(t){return this._cfg.contentUpgrade=Rt(this._cfg.contentUpgrade||At,t),this}}function Jr(t,e){let r=t._dbNamesDB;return r||(r=t._dbNamesDB=new gn("__dbnames",{addons:[],indexedDB:t,IDBKeyRange:e}),r.version(1).stores({dbnames:"name"})),r.table("dbnames")}function $r(t){return t&&"function"==typeof t.databases}function Xr(t){return Te((function(){return oe.letThrough=!0,t()}))}function Qr(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(e){var r=function(){return indexedDB.databases().finally(e)};t=setInterval(r,100),r()})).finally((function(){return clearInterval(t)})):Promise.resolve()}function Zr(t){var e=e=>t.next(e),r=o(e),n=o((e=>t.throw(e)));function o(t){return e=>{var o=t(e),i=o.value;return o.done?i:i&&"function"==typeof i.then?i.then(r,n):D(i)?Promise.all(i).then(r,n):r(i)}}return o(e)()}function tn(t,e,r){var n=arguments.length;if(n<2)throw new Pt.InvalidArgument("Too few arguments");for(var o=new Array(n-1);--n;)o[n-1]=arguments[n];r=o.pop();var i=et(o);return[t,i,r]}function en(t,e,r,n,o){return se.resolve().then((()=>{const i=oe.transless||oe,a=t._createTransaction(e,r,t._dbSchema,n),c={trans:a,transless:i};if(n)a.idbtrans=n.idbtrans;else try{a.create(),t._state.PR1398_maxLoop=3}catch(n){return n.name===St.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then((()=>en(t,e,r,null,o)))):Ue(n)}const s=pt(o);let u;s&&Ne();const l=se.follow((()=>{if(u=o.call(a,a),u)if(s){var t=Ae.bind(null,null);u.then(t,t)}else"function"==typeof u.next&&"function"==typeof u.throw&&(u=Zr(u))}),c);return(u&&"function"==typeof u.then?se.resolve(u).then((t=>a.active?t:Ue(new Pt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):l.then((()=>u))).then((t=>(n&&a._resolve(),a._completion.then((()=>t))))).catch((t=>(a._reject(t),Ue(t))))}))}function rn(t,e,r){const n=D(t)?t.slice():[t];for(let t=0;t<r;++t)n.push(e);return n}const nn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const r=t.table(e),{schema:n}=r,o={},i=[];function a(t,e,r){const n=Mr(t),c=o[n]=o[n]||[],s=null==t?0:"string"==typeof t?1:t.length,u=e>0,l={...r,isVirtual:u,keyTail:e,keyLength:s,extractKey:Ir(t),unique:!u&&r.unique};return c.push(l),l.isPrimaryKey||i.push(l),s>1&&a(2===s?t[0]:t.slice(0,s-1),e+1,r),c.sort(((t,e)=>t.keyTail-e.keyTail)),l}const c=a(n.primaryKey.keyPath,0,n.primaryKey);o[":id"]=[c];for(const t of n.indexes)a(t.keyPath,0,t);function s(e){const r=e.query.index;return r.isVirtual?{...e,query:{index:r,range:(n=e.query.range,o=r.keyTail,{type:1===n.type?2:n.type,lower:rn(n.lower,n.lowerOpen?t.MAX_KEY:t.MIN_KEY,o),lowerOpen:!0,upper:rn(n.upper,n.upperOpen?t.MIN_KEY:t.MAX_KEY,o),upperOpen:!0})}}:e;var n,o}const u={...r,schema:{...n,primaryKey:c,indexes:i,getIndexByKeyPath:function(t){const e=o[Mr(t)];return e&&e[0]}},count:t=>r.count(s(t)),query:t=>r.query(s(t)),openCursor(e){const{keyTail:n,isVirtual:o,keyLength:i}=e.query.index;return o?r.openCursor(s(e)).then((r=>r&&function(r){const o=Object.create(r,{continue:{value:function(o){null!=o?r.continue(rn(o,e.reverse?t.MAX_KEY:t.MIN_KEY,n)):e.unique?r.continue(r.key.slice(0,i).concat(e.reverse?t.MIN_KEY:t.MAX_KEY,n)):r.continue()}},continuePrimaryKey:{value(e,o){r.continuePrimaryKey(rn(e,t.MAX_KEY,n),o)}},primaryKey:{get:()=>r.primaryKey},key:{get(){const t=r.key;return 1===i?t[0]:t.slice(0,i)}},value:{get:()=>r.value}});return o}(r))):r.openCursor(e)}};return u}}}};function on(t,e,r,n){return r=r||{},n=n||"",I(t).forEach((o=>{if(C(e,o)){var i=t[o],a=e[o];if("object"==typeof i&&"object"==typeof a&&i&&a){const t=st(i);t!==st(a)?r[n+o]=e[o]:"Object"===t?on(i,a,r,n+o+"."):i!==a&&(r[n+o]=e[o])}else i!==a&&(r[n+o]=e[o])}else r[n+o]=void 0})),I(e).forEach((o=>{C(t,o)||(r[n+o]=e[o])})),r}const an={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const r=t.table(e),{primaryKey:n}=r.schema,o={...r,mutate(t){const o=oe.trans,{deleting:i,creating:a,updating:c}=o.table(e).hook;switch(t.type){case"add":if(a.fire===At)break;return o._promise("readwrite",(()=>s(t)),!0);case"put":if(a.fire===At&&c.fire===At)break;return o._promise("readwrite",(()=>s(t)),!0);case"delete":if(i.fire===At)break;return o._promise("readwrite",(()=>s(t)),!0);case"deleteRange":if(i.fire===At)break;return o._promise("readwrite",(()=>function(t){return u(t.trans,t.range,1e4)}(t)),!0)}return r.mutate(t);function s(t){const e=oe.trans,o=t.keys||function(t,e){return"delete"===e.type?e.keys:e.keys||e.values.map(t.extractKey)}(n,t);if(!o)throw new Error("Keys missing");return"delete"!==(t="add"===t.type||"put"===t.type?{...t,keys:o}:{...t}).type&&(t.values=[...t.values]),t.keys&&(t.keys=[...t.keys]),function(t,e,r){return"add"===e.type?Promise.resolve([]):t.getMany({trans:e.trans,keys:r,cache:"immutable"})}(r,t,o).then((s=>{const u=o.map(((r,o)=>{const u=s[o],l={onerror:null,onsuccess:null};if("delete"===t.type)i.fire.call(l,r,u,e);else if("add"===t.type||void 0===u){const i=a.fire.call(l,r,t.values[o],e);null==r&&null!=i&&(r=i,t.keys[o]=r,n.outbound||Q(t.values[o],n.keyPath,r))}else{const n=on(u,t.values[o]),i=c.fire.call(l,n,r,u,e);if(i){const e=t.values[o];Object.keys(i).forEach((t=>{C(e,t)?e[t]=i[t]:Q(e,t,i[t])}))}}return l}));return r.mutate(t).then((({failures:e,results:r,numFailures:n,lastResult:i})=>{for(let n=0;n<o.length;++n){const i=r?r[n]:o[n],a=u[n];null==i?a.onerror&&a.onerror(e[n]):a.onsuccess&&a.onsuccess("put"===t.type&&s[n]?t.values[n]:i)}return{failures:e,results:r,numFailures:n,lastResult:i}})).catch((t=>(u.forEach((e=>e.onerror&&e.onerror(t))),Promise.reject(t))))}))}function u(t,e,o){return r.query({trans:t,values:!1,query:{index:n,range:e},limit:o}).then((({result:r})=>s({type:"delete",keys:r,trans:t}).then((n=>n.numFailures>0?Promise.reject(n.failures[0]):r.length<o?{failures:[],numFailures:0,lastResult:void 0}:u(t,{...e,lower:r[r.length-1],lowerOpen:!0},o)))))}}};return o}})};function cn(t,e,r){try{if(!e)return null;if(e.keys.length<t.length)return null;const n=[];for(let o=0,i=0;o<e.keys.length&&i<t.length;++o)0===fr(e.keys[o],t[i])&&(n.push(r?it(e.values[o]):e.values[o]),++i);return n.length===t.length?n:null}catch(t){return null}}const sn={stack:"dbcore",level:-1,create:t=>({table:e=>{const r=t.table(e);return{...r,getMany:t=>{if(!t.cache)return r.getMany(t);const e=cn(t.keys,t.trans._cache,"clone"===t.cache);return e?se.resolve(e):r.getMany(t).then((e=>(t.trans._cache={keys:t.keys,values:"clone"===t.cache?it(e):e},e)))},mutate:t=>("add"!==t.type&&(t.trans._cache=null),r.mutate(t))}}})};function un(t){return!("from"in t)}const ln=function(t,e){if(!this){const e=new ln;return t&&"d"in t&&G(e,t),e}G(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function fn(t,e,r){const n=fr(e,r);if(isNaN(n))return;if(n>0)throw RangeError();if(un(t))return G(t,{from:e,to:r,d:1});const o=t.l,i=t.r;if(fr(r,t.from)<0)return o?fn(o,e,r):t.l={from:e,to:r,d:1,l:null,r:null},dn(t);if(fr(e,t.to)>0)return i?fn(i,e,r):t.r={from:e,to:r,d:1,l:null,r:null},dn(t);fr(e,t.from)<0&&(t.from=e,t.l=null,t.d=i?i.d+1:1),fr(r,t.to)>0&&(t.to=r,t.r=null,t.d=t.l?t.l.d+1:1);const a=!t.r;o&&!t.l&&hn(t,o),i&&a&&hn(t,i)}function hn(t,e){un(e)||function t(e,{from:r,to:n,l:o,r:i}){fn(e,r,n),o&&t(e,o),i&&t(e,i)}(t,e)}function pn(t){let e=un(t)?null:{s:0,n:t};return{next(t){const r=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&fr(t,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||fr(t,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function dn(t){var e,r;const n=((null===(e=t.r)||void 0===e?void 0:e.d)||0)-((null===(r=t.l)||void 0===r?void 0:r.d)||0),o=n>1?"r":n<-1?"l":"";if(o){const e="r"===o?"l":"r",r={...t},n=t[o];t.from=n.from,t.to=n.to,t[o]=n[o],r[o]=n[e],t[e]=r,r.d=yn(r)}t.d=yn(t)}function yn({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}B(ln.prototype,{add(t){return hn(this,t),this},addKey(t){return fn(this,t,t),this},addKeys(t){return t.forEach((t=>fn(this,t,t))),this},[ut](){return pn(this)}});const vn={stack:"dbcore",level:0,create:t=>{const e=t.schema.name,r=new ln(t.MIN_KEY,t.MAX_KEY);return{...t,table:n=>{const o=t.table(n),{schema:i}=o,{primaryKey:a}=i,{extractKey:c,outbound:s}=a,u={...o,mutate:t=>{const a=t.trans,c=a.mutatedParts||(a.mutatedParts={}),s=t=>{const r=`idb://${e}/${n}/${t}`;return c[r]||(c[r]=new ln)},u=s(""),l=s(":dels"),{type:f}=t;let[h,p]="deleteRange"===t.type?[t.range]:"delete"===t.type?[t.keys]:t.values.length<50?[[],t.values]:[];const d=t.trans._cache;return o.mutate(t).then((t=>{if(D(h)){"delete"!==f&&(h=t.results),u.addKeys(h);const e=cn(h,d);e||"add"===f||l.addKeys(h),(e||p)&&function(t,e,r,n){e.indexes.forEach((function(e){const o=t(e.name||"");function i(t){return null!=t?e.extractKey(t):null}const a=t=>e.multiEntry&&D(t)?t.forEach((t=>o.addKey(t))):o.addKey(t);(r||n).forEach(((t,e)=>{const o=r&&i(r[e]),c=n&&i(n[e]);0!==fr(o,c)&&(null!=o&&a(o),null!=c&&a(c))}))}))}(s,i,e,p)}else if(h){const t={from:h.lower,to:h.upper};l.add(t),u.add(t)}else u.add(r),l.add(r),i.indexes.forEach((t=>s(t.name).add(r)));return t}))}},l=({query:{index:e,range:r}})=>{var n,o;return[e,new ln(null!==(n=r.lower)&&void 0!==n?n:t.MIN_KEY,null!==(o=r.upper)&&void 0!==o?o:t.MAX_KEY)]},f={get:t=>[a,new ln(t.key)],getMany:t=>[a,(new ln).addKeys(t.keys)],count:l,query:l,openCursor:l};return I(f).forEach((t=>{u[t]=function(i){const{subscr:a}=oe;if(a){const u=t=>{const r=`idb://${e}/${n}/${t}`;return a[r]||(a[r]=new ln)},l=u(""),h=u(":dels"),[p,d]=f[t](i);if(u(p.name||"").add(d),!p.isPrimaryKey){if("count"!==t){const e="query"===t&&s&&i.values&&o.query({...i,values:!1});return o[t].apply(this,arguments).then((r=>{if("query"===t){if(s&&i.values)return e.then((({result:t})=>(l.addKeys(t),r)));const t=i.values?r.result.map(c):r.result;i.values?l.addKeys(t):h.addKeys(t)}else if("openCursor"===t){const t=r,e=i.values;return t&&Object.create(t,{key:{get:()=>(h.addKey(t.primaryKey),t.key)},primaryKey:{get(){const e=t.primaryKey;return h.addKey(e),e}},value:{get:()=>(e&&l.addKey(t.primaryKey),t.value)}})}return r}))}h.add(r)}}return o[t].apply(this,arguments)}})),u}}}};class gn{constructor(t,e){this._middlewares={},this.verno=0;const r=gn.dependencies;this._options=e={addons:gn.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...e},this._deps={indexedDB:e.indexedDB,IDBKeyRange:e.IDBKeyRange};const{addons:n}=e;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:At,dbReadyPromise:null,cancelOpen:At,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var i;o.dbReadyPromise=new se((t=>{o.dbReadyResolve=t})),o.openCanceller=new se(((t,e)=>{o.cancelOpen=e})),this._state=o,this.name=t,this.on=rr(this,"populate","blocked","versionchange","close",{ready:[Rt,At]}),this.on.ready.subscribe=H(this.on.ready.subscribe,(t=>(e,r)=>{gn.vip((()=>{const n=this._state;if(n.openComplete)n.dbOpenError||se.resolve().then(e),r&&t(e);else if(n.onReadyBeingFired)n.onReadyBeingFired.push(e),r&&t(e);else{t(e);const n=this;r||t((function t(){n.on.ready.unsubscribe(e),n.on.ready.unsubscribe(t)}))}}))})),this.Collection=(i=this,nr(dr.prototype,(function(t,e){this.db=i;let r=Ze,n=null;if(e)try{r=e()}catch(t){n=t}const o=t._ctx,a=o.table,c=a.hook.reading.fire;this._ctx={table:a,index:o.index,isPrimKey:!o.index||a.schema.primKey.keyPath&&o.index===a.schema.primKey.name,range:r,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:n,or:o.or,valueMapper:c!==It?c:null}}))),this.Table=function(t){return nr(er.prototype,(function(e,r,n){this.db=t,this._tx=n,this.name=e,this.schema=r,this.hook=t._allTables[e]?t._allTables[e].hook:rr(null,{creating:[Mt,At],reading:[Dt,It],updating:[Ct,At],deleting:[Ft,At]})}))}(this),this.Transaction=function(t){return nr(jr.prototype,(function(e,r,n,o,i){this.db=t,this.mode=e,this.storeNames=r,this.schema=n,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=rr(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new se(((t,e)=>{this._resolve=t,this._reject=e})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(t=>{var e=this.active;return this.active=!1,this.on.error.fire(t),this.parent?this.parent._reject(t):e&&this.idbtrans&&this.idbtrans.abort(),Ue(t)}))}))}(this),this.Version=function(t){return nr(Vr.prototype,(function(e){this.db=t,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(t){return nr(Or.prototype,(function(e,r,n){this.db=t,this._ctx={table:e,index:":id"===r?null:r,or:n};const o=t._deps.indexedDB;if(!o)throw new Pt.MissingAPI;this._cmp=this._ascending=o.cmp.bind(o),this._descending=(t,e)=>o.cmp(e,t),this._max=(t,e)=>o.cmp(t,e)>0?t:e,this._min=(t,e)=>o.cmp(t,e)<0?t:e,this._IDBKeyRange=t._deps.IDBKeyRange}))}(this),this.on("versionchange",(t=>{t.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(t=>{!t.newVersion||t.newVersion<t.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${t.oldVersion/10}`)})),this._maxKey=Ar(e.IDBKeyRange),this._createTransaction=(t,e,r,n)=>new this.Transaction(t,e,r,this._options.chromeTransactionDurability,n),this._fireOnBlocked=t=>{this.on("blocked").fire(t),He.filter((t=>t.name===this.name&&t!==this&&!t._state.vcFired)).map((e=>e.on("versionchange").fire(t)))},this.use(nn),this.use(an),this.use(vn),this.use(sn),this.vip=Object.create(this,{_vip:{value:!0}}),n.forEach((t=>t(this)))}version(t){if(isNaN(t)||t<.1)throw new Pt.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new Pt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const e=this._versions;var r=e.filter((e=>e._cfg.version===t))[0];return r||(r=new this.Version(t),e.push(r),e.sort(Kr),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||oe.letThrough||this._vip)?t():new se(((t,e)=>{if(this._state.openComplete)return e(new Pt.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void e(new Pt.DatabaseClosed);this.open().catch(At)}this._state.dbReadyPromise.then(t,e)})).then(t)}use({stack:t,create:e,level:r,name:n}){n&&this.unuse({stack:t,name:n});const o=this._middlewares[t]||(this._middlewares[t]=[]);return o.push({stack:t,create:e,level:null==r?10:r,name:n}),o.sort(((t,e)=>t.level-e.level)),this}unuse({stack:t,name:e,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((t=>r?t.create!==r:!!e&&t.name!==e))),this}open(){return function(t){const e=t._state,{indexedDB:r}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then((()=>e.dbOpenError?Ue(e.dbOpenError):t));dt&&(e.openCanceller._stackHolder=mt()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const n=e.openCanceller;function o(){if(e.openCanceller!==n)throw new Pt.DatabaseClosed("db.open() was cancelled")}let i=e.dbReadyResolve,a=null,c=!1;return se.race([n,("undefined"==typeof navigator?se.resolve():Qr()).then((()=>new se(((n,i)=>{if(o(),!r)throw new Pt.MissingAPI;const s=t.name,u=e.autoSchema?r.open(s):r.open(s,Math.round(10*t.verno));if(!u)throw new Pt.MissingAPI;u.onerror=kr(i),u.onblocked=Ee(t._fireOnBlocked),u.onupgradeneeded=Ee((n=>{if(a=u.transaction,e.autoSchema&&!t._options.allowEmptyDB){u.onerror=Lr,a.abort(),u.result.close();const t=r.deleteDatabase(s);t.onsuccess=t.onerror=Ee((()=>{i(new Pt.NoSuchDatabase(`Database ${s} doesnt exist`))}))}else{a.onerror=kr(i);var o=n.oldVersion>Math.pow(2,62)?0:n.oldVersion;c=o<1,t._novip.idbdb=u.result,qr(t,o/10,a,i)}}),i),u.onsuccess=Ee((()=>{a=null;const r=t._novip.idbdb=u.result,o=W(r.objectStoreNames);if(o.length>0)try{const n=r.transaction(1===(i=o).length?i[0]:i,"readonly");e.autoSchema?function({_novip:t},e,r){t.verno=e.version/10;const n=t._dbSchema=Wr(0,e,r);t._storeNames=W(e.objectStoreNames,0),Br(t,[t._allTables],I(n),n)}(t,r,n):(Hr(t,t._dbSchema,n),function(t,e){const r=Ur(Wr(0,t.idbdb,e),t._dbSchema);return!(r.add.length||r.change.some((t=>t.add.length||t.change.length)))}(t,n)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Cr(t,n)}catch(t){}var i;He.push(t),r.onversionchange=Ee((r=>{e.vcFired=!0,t.on("versionchange").fire(r)})),r.onclose=Ee((e=>{t.on("close").fire(e)})),c&&function({indexedDB:t,IDBKeyRange:e},r){!$r(t)&&"__dbnames"!==r&&Jr(t,e).put({name:r}).catch(At)}(t._deps,s),n()}),i)}))))]).then((()=>(o(),e.onReadyBeingFired=[],se.resolve(Xr((()=>t.on.ready.fire(t.vip)))).then((function r(){if(e.onReadyBeingFired.length>0){let n=e.onReadyBeingFired.reduce(Rt,At);return e.onReadyBeingFired=[],se.resolve(Xr((()=>n(t.vip)))).then(r)}}))))).finally((()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1})).then((()=>t)).catch((r=>{e.dbOpenError=r;try{a&&a.abort()}catch(t){}return n===e.openCanceller&&t._close(),Ue(r)})).finally((()=>{e.openComplete=!0,i()}))}(this)}_close(){const t=this._state,e=He.indexOf(this);if(e>=0&&He.splice(e,1),this.idbdb){try{this.idbdb.close()}catch(t){}this._novip.idbdb=null}t.dbReadyPromise=new se((e=>{t.dbReadyResolve=e})),t.openCanceller=new se(((e,r)=>{t.cancelOpen=r}))}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new Pt.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,e=this._state;return new se(((r,n)=>{const o=()=>{this.close();var t=this._deps.indexedDB.deleteDatabase(this.name);t.onsuccess=Ee((()=>{!function({indexedDB:t,IDBKeyRange:e},r){!$r(t)&&"__dbnames"!==r&&Jr(t,e).delete(r).catch(At)}(this._deps,this.name),r()})),t.onerror=kr(n),t.onblocked=this._fireOnBlocked};if(t)throw new Pt.InvalidArgument("Arguments not allowed in db.delete()");e.isBeingOpened?e.dbReadyPromise.then(o):o()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const t=this._state.dbOpenError;return t&&"DatabaseClosed"===t.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return I(this._allTables).map((t=>this._allTables[t]))}transaction(){const t=tn.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,e,r){let n=oe.trans;n&&n.db===this&&-1===t.indexOf("!")||(n=null);const o=-1!==t.indexOf("?");let i,a;t=t.replace("!","").replace("?","");try{if(a=e.map((t=>{var e=t instanceof this.Table?t.name:t;if("string"!=typeof e)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e})),"r"==t||"readonly"===t)i="readonly";else{if("rw"!=t&&"readwrite"!=t)throw new Pt.InvalidArgument("Invalid transaction mode: "+t);i="readwrite"}if(n){if("readonly"===n.mode&&"readwrite"===i){if(!o)throw new Pt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");n=null}n&&a.forEach((t=>{if(n&&-1===n.storeNames.indexOf(t)){if(!o)throw new Pt.SubTransaction("Table "+t+" not included in parent transaction.");n=null}})),o&&n&&!n.active&&(n=null)}}catch(t){return n?n._promise(null,((e,r)=>{r(t)})):Ue(t)}const c=en.bind(null,this,i,a,n,r);return n?n._promise(i,c,"lock"):oe.trans?Ce(oe.transless,(()=>this._whenReady(c))):this._whenReady(c)}table(t){if(!C(this._allTables,t))throw new Pt.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const mn="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class bn{constructor(t){this._subscribe=t}subscribe(t,e,r){return this._subscribe(t&&"function"!=typeof t?t:{next:t,error:e,complete:r})}[mn](){return this}}function wn(t,e){return I(e).forEach((r=>{hn(t[r]||(t[r]=new ln),e[r])})),t}let _n;try{_n={indexedDB:A.indexedDB||A.mozIndexedDB||A.webkitIndexedDB||A.msIndexedDB,IDBKeyRange:A.IDBKeyRange||A.webkitIDBKeyRange}}catch(A){_n={indexedDB:null,IDBKeyRange:null}}const xn=gn;function En(t){let e=On;try{On=!0,Sr.storagemutated.fire(t)}finally{On=e}}B(xn,{...Nt,delete:t=>new xn(t,{addons:[]}).delete(),exists:t=>new xn(t,{addons:[]}).open().then((t=>(t.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(t){try{return function({indexedDB:t,IDBKeyRange:e}){return $r(t)?Promise.resolve(t.databases()).then((t=>t.map((t=>t.name)).filter((t=>"__dbnames"!==t)))):Jr(t,e).toCollection().primaryKeys()}(xn.dependencies).then(t)}catch(t){return Ue(new Pt.MissingAPI)}},defineClass:()=>function(t){G(this,t)},ignoreTransaction:t=>oe.trans?Ce(oe.transless,t):t(),vip:Xr,async:function(t){return function(){try{var e=Zr(t.apply(this,arguments));return e&&"function"==typeof e.then?e:se.resolve(e)}catch(t){return Ue(t)}}},spawn:function(t,e,r){try{var n=Zr(t.apply(r,e||[]));return n&&"function"==typeof n.then?n:se.resolve(n)}catch(t){return Ue(t)}},currentTransaction:{get:()=>oe.trans||null},waitFor:function(t,e){const r=se.resolve("function"==typeof t?xn.ignoreTransaction(t):t).timeout(e||6e4);return oe.trans?oe.trans.waitFor(r):r},Promise:se,debug:{get:()=>dt,set:t=>{yt(t,"dexie"===t?()=>!0:Xe)}},derive:q,extend:G,props:B,override:H,Events:rr,on:Sr,liveQuery:function(t){return new bn((e=>{const r=pt(t);let n=!1,o={},i={};const a={get closed(){return n},unsubscribe:()=>{n=!0,Sr.storagemutated.unsubscribe(l)}};e.start&&e.start(a);let c=!1,s=!1;function u(){return I(i).some((t=>o[t]&&function(t,e){const r=pn(e);let n=r.next();if(n.done)return!1;let o=n.value;const i=pn(t);let a=i.next(o.from),c=a.value;for(;!n.done&&!a.done;){if(fr(c.from,o.to)<=0&&fr(c.to,o.from)>=0)return!0;fr(o.from,c.from)<0?o=(n=r.next(c.from)).value:c=(a=i.next(o.from)).value}return!1}(o[t],i[t])))}const l=t=>{wn(o,t),u()&&f()},f=()=>{if(c||n)return;o={};const h={},p=function(e){r&&Ne();const n=()=>Te(t,{subscr:e,trans:null}),o=oe.trans?Ce(oe.transless,n):n();return r&&o.then(Ae,Ae),o}(h);s||(Sr("storagemutated",l),s=!0),c=!0,Promise.resolve(p).then((t=>{c=!1,n||(u()?f():(o={},i=h,e.next&&e.next(t)))}),(t=>{c=!1,e.error&&e.error(t),a.unsubscribe()}))};return f(),a}))},extendObservabilitySet:wn,getByKeyPath:X,setByKeyPath:Q,delByKeyPath:function(t,e){"string"==typeof e?Q(t,e,void 0):"length"in e&&[].map.call(e,(function(e){Q(t,e,void 0)}))},shallowClone:Z,deepClone:it,getObjectDiff:on,cmp:fr,asap:J,minKey:-1/0,addons:[],connections:He,errnames:St,dependencies:_n,semVer:"3.2.2",version:"3.2.2".split(".").map((t=>parseInt(t))).reduce(((t,e,r)=>t+e/Math.pow(10,2*r)))}),xn.maxKey=Ar(xn.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(Sr("storagemutated",(t=>{if(!On){let e;Ve?(e=document.createEvent("CustomEvent"),e.initCustomEvent("x-storagemutated-1",!0,!0,t)):e=new CustomEvent("x-storagemutated-1",{detail:t}),On=!0,dispatchEvent(e),On=!1}})),addEventListener("x-storagemutated-1",(({detail:t})=>{On||En(t)})));let On=!1;if("undefined"!=typeof BroadcastChannel){const t=new BroadcastChannel("x-storagemutated-1");Sr("storagemutated",(e=>{On||t.postMessage(e)})),t.onmessage=t=>{t.data&&En(t.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){Sr("storagemutated",(t=>{try{On||("undefined"!=typeof localStorage&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:t})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((e=>e.postMessage({type:"x-storagemutated-1",changedParts:t}))))}catch(t){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(t=>{if("x-storagemutated-1"===t.key){const e=JSON.parse(t.newValue);e&&En(e.changedParts)}}));const t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",(function({data:t}){t&&"x-storagemutated-1"===t.type&&En(t.changedParts)}))}se.rejectionMapper=function(t,e){if(!t||t instanceof Et||t instanceof TypeError||t instanceof SyntaxError||!t.name||!Tt[t.name])return t;var r=new Tt[t.name](e||t.message,t);return"stack"in t&&K(r,"stack",{get:function(){return this.inner.stack}}),r},yt(dt,Xe);var kn=__webpack_require__(6304),Ln=["2 girls 1 cup","anal","anus","areole","arian","arrse","arse","arsehole","aryan","asanchez","ass","assbang","assbanged","asses","assfuck","assfucker","assfukka","asshole","assmunch","asswhole","autoerotic","ballsack","bastard","bdsm","beastial","beastiality","bellend","bestial","bestiality","bimbo","bimbos","bitch","bitches","bitchin","bitching","blowjob","blowjobs","blue waffle","bondage","boner","boob","boobs","booobs","boooobs","booooobs","booooooobs","booty call","breasts","brown shower","brown showers","buceta","bukake","bukkake","bullshit","busty","butthole","carpet muncher","cawk","chink","cipa","clit","clitoris","clits","cnut","cock","cockface","cockhead","cockmunch","cockmuncher","cocks","cocksuck","cocksucked","cocksucker","cocksucking","cocksucks","cokmuncher","coon","cowgirl","cowgirls","crap","crotch","cum","cuming","cummer","cumming","cums","cumshot","cunilingus","cunillingus","cunnilingus","cunt","cuntlicker","cuntlicking","cunts","damn","deepthroat","dick","dickhead","dildo","dildos","dink","dinks","dlck","dog style","dog-fucker","doggiestyle","doggin","dogging","doggystyle","dong","donkeyribber","doofus","doosh","dopey","douche","douchebag","douchebags","douchey","drunk","duche","dumass","dumbass","dumbasses","dummy","dyke","dykes","eatadick","eathairpie","ejaculate","ejaculated","ejaculates","ejaculating","ejaculatings","ejaculation","ejakulate","enlargement","erect","erection","erotic","erotism","essohbee","extacy","extasy","facial","fack","fag","fagg","fagged","fagging","faggit","faggitt","faggot","faggs","fagot","fagots","fags","faig","faigt","fanny","fannybandit","fannyflaps","fannyfucker","fanyy","fart","fartknocker","fat","fatass","fcuk","fcuker","fcuking","feck","fecker","felch","felcher","felching","fellate","fellatio","feltch","feltcher","femdom","fingerfuck","fingerfucked","fingerfucker","fingerfuckers","fingerfucking","fingerfucks","fingering","fisted","fistfuck","fistfucked","fistfucker","fistfuckers","fistfucking","fistfuckings","fistfucks","fisting","fisty","flange","flogthelog","floozy","foad","fondle","foobar","fook","fooker","footjob","foreskin","freex","frigg","frigga","fubar","fuck","fucka","fuckass","fuckbitch","fucked","fucker","fuckers","fuckface","fuckhead","fuckheads","fuckhole","fuckin","fucking","fuckings","fuckingshitmotherfucker","fuckme","fuckmeat","fucknugget","fucknut","fuckoff","fuckpuppet","fucks","fucktard","fucktoy","fucktrophy","fuckup","fuckwad","fuckwhit","fuckwit","fuckyomama","fudgepacker","fuk","fuker","fukker","fukkin","fukking","fuks","fukwhit","fukwit","futanari","futanary","fux","fuxor","fxck","gae","gai","gangbang","gangbanged","gangbangs","ganja","gassyass","gay","gaylord","gays","gaysex","gey","gfy","ghay","ghey","gigolo","glans","goatse","god","godamn","godamnit","goddam","goddammit","goddamn","goddamned","gokkun","goldenshower","gonad","gonads","gook","gooks","gringo","gspot","gtfo","guido","hamflap","handjob","hardcoresex","hardon","hebe","heeb","hell","hemp","hentai","heroin","herp","herpes","herpy","heshe","hitler","hiv","hoar","hoare","hobag","hoer","homey","homo","homoerotic","homoey","honky","hooch","hookah","hooker","hoor","hootch","hooter","hooters","hore","horniest","horny","hotsex","howtokill","howtomurdep","hump","humped","humping","hussy","hymen","inbred","incest","injun","jackass","jackhole","jackoff","jap","japs","jerk","jerked","jerkoff","jism","jiz","jizm","jizz","jizzed","junkie","junky","kawk","kike","kikes","kill","kinbaku","kinky","kinkyJesus","kkk","klan","knob","knobead","knobed","knobend","knobhead","knobjocky","knobjokey","kock","kondum","kondums","kooch","kooches","kootch","kraut","kum","kummer","kumming","kums","kunilingus","kwif","kyke","l3itch","labia","lech","len","leper","lesbians","lesbo","lesbos","lez","lezbian","lezbians","lezbo","lezbos","lezzie","lezzies","lezzy","lmao","lmfao","loin","loins","lube","lust","lusting","lusty","m-fucking","mafugly","mams","masochist","massa","masterb8","masterbate","masterbating","masterbation","masterbations","masturbate","masturbating","masturbation","maxi","menses","menstruate","menstruation","meth","milf","mofo","molest","moolie","moron","mothafuck","mothafucka","mothafuckas","mothafuckaz","mothafucked","mothafucker","mothafuckers","mothafuckin","mothafucking","mothafuckings","mothafucks","motherfuck","motherfucka","motherfucked","motherfucker","motherfuckers","motherfuckin","motherfucking","motherfuckings","motherfuckka","motherfucks","mtherfucker","mthrfucker","mthrfucking","muff","muffdiver","muffpuff","murder","mutha","muthafecker","muthafuckaz","muthafucker","muthafuckker","muther","mutherfucker","mutherfucking","muthrfucking","nad","nads","naked","napalm","nappy","nazi","nazism","needthedick","negro","nig","nigg","nigga","niggah","niggas","niggaz","nigger","niggers","niggle","niglet","nimrod","ninny","nipple","nipples","nob","nobhead","nobjocky","nobjokey","nooky","nude","nudes","numbnuts","nutbutter","nutsack","nympho","omg","opiate","opium","oral","orally","organ","orgasim","orgasims","orgasm","orgasmic","orgasms","orgies","orgy","ovary","ovum","ovums","paddy","paki","pantie","panties","panty","pastie","pasty","pawn","pcp","pecker","pedo","pedophile","pedophilia","pedophiliac","pee","peepee","penetrate","penetration","penial","penile","penis","penisfucker","perversion","peyote","phalli","phallic","phonesex","phuck","phuk","phuked","phuking","phukked","phukking","phuks","phuq","pigfucker","pillowbiter","pimp","pimpis","pinko","piss","pissed","pisser","pissers","pisses","pissflaps","pissin","pissing","pissoff","playboy","pms","polack","pollock","poon","poontang","poop","porn","porno","pornography","pornos","pot","potty","prick","pricks","prig","pron","prostitute","prude","pube","pubic","pubis","punkass","punky","puss","pusse","pussi","pussies","pussy","pussyfart","pussypalace","pussypounder","pussys","puto","queaf","queef","queer","queero","queers","quicky","quim","racy","rape","raped","raper","raping","rapist","raunch","rectal","rectum","rectus","reefer","reetard","reich","retard","retarded","revue","rimjaw","rimjob","rimming","ritard","rtard","rum","rump","rumprammer","ruski","sadism","sadist","sandbar","sausagequeen","scag","scantily","schizo","schlong","screw","screwed","screwing","scroat","scrog","scrot","scrote","scrotum","scrud","scum","seaman","seamen","seduce","semen","sex","sexual","shag","shagger","shaggin","shagging","shamedame","shemale","shibari","shibary","shit","shitdick","shite","shiteater","shited","shitey","shitface","shitfuck","shitfucker","shitfull","shithead","shithole","shithouse","shiting","shitings","shits","shitt","shitted","shitter","shitters","shitting","shittings","shitty","shiz","shota","sissy","skag","skank","slave","sleaze","sleazy","slope","slut","slutbucket","slutdumper","slutkiss","sluts","smegma","smut","smutty","snatch","sniper","snuff","sob","sodom","son-of-a-bitch","souse","soused","spac","sperm","spic","spick","spik","spiks","spooge","spunk","steamy","stfu","stiffy","stoned","strip","strip club","stripclub","stroke","stupid","suck","sucked","sucking","sumofabiatch","tampon","tard","tawdry","teabagging","teat","teets","teez","terd","teste","testee","testes","testical","testicle","testis","threesome","throating","thrust","thug","tinkle","tit","titfuck","titi","tits","titt","tittiefucker","titties","titty","tittyfuck","tittyfucker","tittywank","titwank","toke","toots","tosser","tramp","transsexual","trashy","tubgirl","turd","tush","twat","twathead","twats","twatty","twunt","twunter","ugly","undies","unwed","urinal","urine","uterus","uzi","vag","vagina","vaginas","valium","viagra","vigra","virgin","vixen","vodka","vomit","voyeur","vulgar","vulva","wad","wang","wank","wanker","wanky","wazoo","wedgie","weed","weenie","weewee","weiner","weirdo","wench","wetback","whitey","whiz","whoar","whoralicious","whore","whorealicious","whored","whoreface","whorehopper","whorehouse","whores","whoring","wigger","willies","willy","womb","woody","woose","wop","wtf","x-rated2g1c","xx","xxx","yaoi","yury"];function Sn(t){return Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sn(t)}function jn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pn(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Pn=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==Sn(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Tn(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function Nn(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Tn(i,n,o,a,c,"next",t)}function c(t){Tn(i,n,o,a,c,"throw",t)}a(void 0)}))}}var An,In,Dn,Gn,Mn="",Fn=!1,Cn=void 0,Bn=void 0,Rn=function(t){new Date;(Mn=new gn(t)).version(1).stores({documents:"++id, indexed_at, created_at, site, site_identifier, content, metadata, score, use_count, site_username, css_identifier, url, deleted_at",sections:"++id, parentid, content"}),Cn=new kn.Index({language:"us"}),Bn=new kn.Document({document:{id:"id",index:[{field:"content",language:"us"},{field:"parentid"}]}}),Mn.documents.count().then((function(t){t>0&&Mn.documents.toArray().then((function(t){t.forEach((function(t){Cn.add(t.id,t.content)}))}))})),Mn.sections.toArray().then((function(t){t.forEach((function(t){var e;Bn.add({id:t.id,content:null===(e=t.content)||void 0===e?void 0:e.toLowerCase(),parentid:t.parentid})}))}))},Kn=function(){var t=Nn(Pn().mark((function t(e){var r,n;return Pn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Mn.documents){t.next=7;break}return r="",r="reset"===e?"":e,t.next=5,Mn.documents.filter((function(t){return!t.deleted_at&&t.site&&t.site.includes(r)})).count();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),qn=function(){var t=Nn(Pn().mark((function t(e){var r,n,o,i,a;return Pn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.pageNo,n=e.pageLimit,o=e.filterParams,i="",i="reset"===o.platform?"":o.platform,!Mn.documents){t.next=11;break}return t.next=6,Mn.documents.filter((function(t){return console.log(t),o.platform.length>0?!t.deleted_at&&t.site&&t.site.includes(i):!t.deleted_at})).offset(r*n).limit(n).toArray();case 6:return a=t.sent,t.abrupt("return",a);case 11:return t.abrupt("return",[]);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Un=function(){var t=Nn(Pn().mark((function t(e,r){var n,o,i,a;return Pn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Mn.sections.where("parentid").equals(r).delete();case 3:for(Bn.remove({parentid:r}),n=[],o=(null==e?void 0:e.split(/[.?!]/))||[],i="",a=0;a<o.length;a++)o[a].length>0&&(i+=o[a]+"."),i.length>0&&(a%4==0||a===o.length-1)&&(Yn(i)&&n.push({id:Math.floor(1e10*Math.random()),content:i.toLowerCase(),parentid:r}),i="");return t.next=11,Mn.sections.bulkAdd(n);case 11:t.sent,n.forEach((function(t){Bn.add({id:t.id,content:t.content,parentid:t.parentid})}));case 14:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),Yn=function(t){var e,r,n,o,i,a,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,s=[];c?s=null!=c&&null!==(r=c.settings)&&void 0!==r&&r.excludedWords?null==c||null===(n=c.settings)||void 0===n||null===(o=n.excludedWords)||void 0===o||null===(i=o.toString())||void 0===i||null===(a=i.split(","))||void 0===a?void 0:a.filter((function(t){return!!t.trim()})):[]:s=Ln;if(s=null===(e=s)||void 0===e?void 0:e.filter((function(t){return!!t.trim()})).map((function(t){return"\\b".concat(t,"\\b")})),s.length){var u,l=new RegExp(null===(u=s)||void 0===u?void 0:u.join("|"),"gi");if(t.match(l))return!1}return!0},zn=function(){var t=Nn(Pn().mark((function t(e){var r,n,o,i,a,c,s,u,l,f,h,p,d,y,v;return Pn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.createdAt,n=e.site,o=e.siteIdentifier,i=e.content,a=e.metadata,c=e.score,s=e.useCount,u=e.siteUsername,l=e.cssIdentifier,f=e.url,h=e.manual,p=new Date,d=!0,h){t.next=8;break}return t.next=7,Io().then((function(t){return Yn(i,t)}));case 7:d=t.sent;case 8:if(d){t.next=11;break}return console.log("failed filter, not saving"),t.abrupt("return",{status:"unsaved",message:"User filter"});case 11:if(!n){t.next=17;break}return t.next=14,Mn.documents.where({site:n,site_identifier:o}).first();case 14:t.t0=t.sent,t.next=20;break;case 17:return t.next=19,Mn.documents.where({site_identifier:o}).first();case 19:t.t0=t.sent;case 20:if(y=t.t0,v=null,!y){t.next=30;break}return t.next=26,Mn.documents.update(y.id,{indexed_at:(new Date).getTime(),created_at:r,site:n,site_identifier:o,content:i,metadata:a,score:c,use_count:s,site_username:u,css_identifier:l,url:f,deleted_at:null});case 26:v=t.sent,Cn.update(v,i),t.next=34;break;case 30:return t.next=32,Mn.documents.add({indexed_at:(new Date).getTime(),created_at:r,site:n,site_identifier:o,content:i,metadata:a,score:c,use_count:s,site_username:u,css_identifier:l,url:f,deleted_at:null});case 32:v=t.sent,Cn.add(v,i);case 34:return t.next=36,Un(i,v);case 36:return console.log("indexDocument took ".concat(new Date-p,"ms")),t.abrupt("return",{status:"saved",message:"Document indexed"});case 38:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Wn=function(){var t=Nn(Pn().mark((function t(e){var r,n,o,i;return Pn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.id,e.site,n=e.siteIdentifier,o="",!r){t.next=10;break}return o=r,t.next=7,Mn.documents.update(r,{content:null,metadata:null,deleted_at:(new Date).getTime()});case 7:Cn.remove(r),t.next=20;break;case 10:return t.next=13,Mn.documents.where({site_identifier:n}).first();case 13:if(!(i=t.sent)){t.next=20;break}return o=i.id,t.next=19,Mn.documents.update(o,{content:null,metadata:null,deleted_at:(new Date).getTime()});case 19:Cn.remove(o);case 20:return t.next=23,Mn.sections.where("parentid").equals(o).delete();case 23:Fn,Bn.search(o,{index:["parentid"]}).forEach((function(t){var e;null===(e=t.result)||void 0===e||e.forEach((function(t){Bn.remove(t)}))}));case 27:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Hn=function(){var t=Nn(Pn().mark((function t(e){var r,n,o;return Pn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.site,n=e.siteIdentifier,!r){t.next=8;break}return t.next=5,Mn.documents.where({site:r,site_identifier:n}).first();case 5:t.t0=t.sent,t.next=11;break;case 8:return t.next=10,Mn.documents.where({site_identifier:n}).first();case 10:t.t0=t.sent;case 11:if(!(o=t.t0)){t.next=19;break}if(!o.deleted_at||o.content){t.next=16;break}return t.abrupt("return",-1);case 16:return t.abrupt("return",{results:jn({},n,"saved")});case 19:return t.abrupt("return",{results:jn({},n,"unsaved")});case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Vn=function(){var t=Nn(Pn().mark((function t(e){var r,n,o,i,a,c,s,u,l,f,h,p=arguments;return Pn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=p.length>1&&void 0!==p[1]?p[1]:void 0,e){t.next=3;break}return t.abrupt("return",[]);case 3:if(o="",!n){t.next=10;break}return t.next=7,Mn.documents.where({site_identifier:n}).first();case 7:(i=t.sent)&&(o=i.id);case 10:if((a=Cn.search(e,5,{suggest:!0}))&&o&&(a=a.filter((function(t){return t!==o}))),c=Bn.search({parentid:a,index:["content"],query:e.trim(),expand:!0,suggest:!0,limit:6}),s=[],null==(u=null==c||null===(r=c[0])||void 0===r?void 0:r.result)||!u.length){t.next=28;break}Fn,l=0;case 20:if(!(l<u.length)){t.next=28;break}return t.next=23,Mn.sections.get(u[l]);case 23:(f=t.sent)&&(h=f.content,s.push({text:h}));case 25:l++,t.next=20;break;case 28:return t.abrupt("return",s);case 30:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function Jn(t){return Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jn(t)}function $n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */$n=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==Jn(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Xn(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function Qn(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Xn(i,n,o,a,c,"next",t)}function c(t){Xn(i,n,o,a,c,"throw",t)}a(void 0)}))}}var Zn=!0,to="tokens",eo="token",ro=null;chrome.runtime.onMessageExternal.addListener(function(){var t=Qn($n().mark((function t(e,r,n){var o,i;return $n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("token"!==e.type||!e.token){t.next=8;break}return co(),t.next=4,no(e.token);case 4:(i=so(e.token)["https://example.com/email"])!==ro&&(ro=i,Rn(i)),null!=e&&null!==(o=e.user)&&void 0!==o&&o.picture&&chrome.storage.local.set({userPicture:e.user.picture},(function(){})),n({success:!0});case 8:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}());var no=function(){var t=Qn($n().mark((function t(e){var r;return $n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Bo({auth0AccessToken:e});case 2:return r=t.sent,An=r.token,In=1e3*so(An).exp,t.next=7,ao(An);case 7:return t.next=9,oo();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),oo=function(){var t=Qn($n().mark((function t(){var e;return $n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(Dn&&Gn>=Date.now())){t.next=4;break}return t.abrupt("return",Dn);case 4:if(!(An&&In>=Date.now())){t.next=13;break}return t.next=7,Co({refreshToken:An});case 7:return e=t.sent,Dn=e.token,Gn=Date.now()+6e4,t.abrupt("return",Dn);case 13:return t.abrupt("return",Promise.reject({error:"login_required"}));case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),io=function(){return new Promise((function(t,e){try{var r=indexedDB.open("tokenDB",1);r.onerror=function(t){e(t.target.error)},r.onsuccess=function(e){var r=e.target.result;t(r)},r.onupgradeneeded=function(t){var e=t.target.result;e.objectStoreNames.contains(to)||e.createObjectStore(to)}}catch(t){e(t)}}))},ao=function(t){return new Promise((function(e,r){t&&io().then((function(n){var o=n.transaction(to,"readwrite");o.objectStore(to).put(t,eo),o.onerror=function(t){r(t.target.error)},o.oncomplete=function(){e(t)}})).catch((function(t){j(t),r(t)}))}))};new Promise((function(t,e){io().then((function(r){var n=r.transaction(to,"readonly").objectStore(to).get(eo);n.onerror=function(t){e(t.target.error)},n.onsuccess=function(){var e=Qn($n().mark((function e(r){var n,o,i,a,c,s;return $n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="",e.prev=1,n=r.target.result,e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(1),t(null),e.abrupt("return");case 9:if(n){e.next=12;break}return t(null),e.abrupt("return");case 12:return o=so(n),(i=o["https://example.com/email"])&&Rn(i),An=n,In=1e3*o.exp,e.next=19,Co({refreshToken:An}).catch((function(t){j(t)}));case 19:return a=e.sent,(c=null==a?void 0:a.token)&&(Dn=c,s=so(c),Gn=1e3*s.exp),e.abrupt("return",t(n));case 23:case"end":return e.stop()}}),e,null,[[1,5]])})));return function(t){return e.apply(this,arguments)}}()})).catch((function(t){e(t),j(t)}))}));var co=function(){return An=null,In=null,Dn=null,Gn=null,new Promise((function(){io().then((function(t){t.transaction(to,"readwrite").objectStore(to).clear()}))}))},so=function(t){try{var e=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(e).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(r)}catch(t){return{}}};function uo(t){return uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(t)}function lo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function fo(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?lo(Object(r),!0).forEach((function(e){ho(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lo(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ho(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function po(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */po=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==uo(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function yo(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function vo(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){yo(i,n,o,a,c,"next",t)}function c(t){yo(i,n,o,a,c,"throw",t)}a(void 0)}))}}var go=N.BASE_URL,mo=function(){var t=vo(po().mark((function t(e){var r,n,o,i,a,c;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.suggestionKey,n=e.option,o=go+"/acceptsuggestion",t.next=4,oo();case 4:return i=t.sent,(a=new FormData).append("key",r),a.append("option",n),t.next=10,fetch(o,{method:"POST",body:a,headers:{Authorization:"Bearer ".concat(i)}}).then((function(t){return t.json()})).catch((function(t){j(t),console.info(t)}));case 10:return c=t.sent,t.abrupt("return",c);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),bo=function(){var t=vo(po().mark((function t(e){var r,n,o,i,a,c,s,u,l,f,h,p,d,y,v,g,m,b,w,_,x,E;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.accessToken,n=e.command,o=e.blocks,i=e.key,a=e.offset,c=e.description,s=e.title,u=e.documentMetadata,l=e.infos,f=e.testing,h=void 0!==f&&f,p=e.format,d=e.sentenceLength,y=void 0===d?"":d,v=e.facts,g=void 0===v?"":v,m=e.isImage,b=void 0!==m&&m,T({category:"hyperwriteAPI",message:"hyperwriteAPI::commandSuggestions",level:"info"}),!h&&!N.TEST_MODE){t.next=7;break}return w=o[0].text.replace(/\s/g,""),console.log("[hyperwriteAPIs] blocks:",o),console.log("[hyperwriteAPIs] text:",w),t.abrupt("return",{options:[w,"2","3","4"],key:"KEY"});case 7:return _=go+"/commandSuggestions",b&&(u=fo(fo({},u),{},{method:"image"})),(x=new FormData).append("command",n),x.append("blocks",JSON.stringify(o)),x.append("origin","extension"),x.append("key",i),x.append("offset",a),x.append("version","0.0.3"),c?x.append("description",c):x.append("description",""),u&&x.append("metadata",JSON.stringify(u)),x.append("title",s),x.append("infos",JSON.stringify(l)),x.append("format",p),""!==y&&x.append("sentenceLength",y),g&&x.append("facts",g),N.NEW_TEMPLATES&&x.append("templateVersion","0.1.0"),t.next=26,fetch(_,{method:"POST",body:x,headers:{Authorization:"Bearer ".concat(r)}}).then((function(t){return t.json()})).then((function(t){return"expired token"===t.status?{expiredToken:!0}:t})).catch((function(t){return j(t),console.log("error",t),{options:{error:!0}}}));case 26:return E=t.sent,t.abrupt("return",E);case 28:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),wo=function(){var t=vo(po().mark((function t(e){var r,n,o,i,a,c,s,u,l;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.key,n=e.index,o=e.text,i=e.testing,a=void 0!==i&&i,T({category:"hyperwriteAPI",message:"hyperwriteAPI::acceptCommandSuggestions",level:"info"}),!a&&!N.TEST_MODE){t.next=5;break}return console.log({key:r,index:n,text:o}),t.abrupt("return","");case 5:return c=go+"/acceptCommandSuggestion",t.next=8,oo();case 8:return s=t.sent,(u=new FormData).append("key",r),u.append("option",n),u.append("editedtext",o),t.next=15,fetch(c,{method:"POST",body:u,headers:{Authorization:"Bearer ".concat(s)}}).then((function(t){return t.json()})).catch((function(t){return j(t),console.log("error",t),{}}));case 15:return l=t.sent,t.abrupt("return",l);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),_o=function(){var t=vo(po().mark((function t(e){var r,n,o,i,a,c,s,u;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.feedback,n=e.type,o=go+"/submitFeedback",i=chrome.runtime.getManifest().version,a={app:"extension",type:n,version:i},t.next=6,oo();case 6:return c=t.sent,console.log("got token, accessToken",c),s=new FormData,"opinion"===n?s.append("feedback","Extension feedback - "+r):s.append("feedback","Extension bug - "+r),s.append("metadata",JSON.stringify(a)),s.append("requestsResponse","true"),t.next=14,fetch(o,{method:"POST",body:s,headers:{Authorization:"Bearer ".concat(c)}}).then((function(t){t.json()})).catch((function(t){j(t),console.info(t)}));case 14:return u=t.sent,t.abrupt("return",u);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),xo=function(){var t=vo(po().mark((function t(e){var r,n,o,i,a,c,s,u;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.session_id,n=e.action_id,o=e.vote,i=e.vote_feedback,a=go+"/save_upvoted_action",t.next=4,oo();case 4:return c=t.sent,(s=new FormData).append("session_id",r),s.append("action_id",n),s.append("vote",o),null!==i&&s.append("vote_feedback",i),t.next=12,fetch(a,{method:"POST",body:s,headers:{Authorization:"Bearer ".concat(c)}}).then((function(t){t.json()})).catch((function(t){j(t),console.info(t)}));case 12:return u=t.sent,t.abrupt("return",u);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Eo=function(){var t=vo(po().mark((function t(e){var r,n,o,i,a,c,s,u,l;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.sessionId,n=e.vote,o=e.feedback,i=e.objective,a=e.startingUrl,console.log("IN VOTE ON WORKFLOW"),c=go+"/save_voted_chain",t.next=5,oo();case 5:return s=t.sent,(u=new FormData).append("sessionId",r),u.append("vote",n),u.append("feedback",o),u.append("objective",i),u.append("startingUrl",a),t.next=14,fetch(c,{method:"POST",body:u,headers:{Authorization:"Bearer ".concat(s)}}).then((function(t){t.json()})).catch((function(t){j(t),console.info(t)}));case 14:return l=t.sent,t.abrupt("return",l);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Oo=function(){var t=vo(po().mark((function t(e){var r,n,o,i,a,c,s,u;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.sessionId,n=e.objective,o=e.originalObjective,i=e.currentURL,a=go+"/update_objective",t.next=4,oo();case 4:return c=t.sent,(s=new FormData).append("sessionId",r),s.append("objective",n),s.append("originalObjective",o),s.append("currentURL",i),t.next=12,fetch(a,{method:"POST",body:s,headers:{Authorization:"Bearer ".concat(c)}}).then((function(t){return t.json()})).catch((function(t){return j(t),console.info(t),{payload:t,status:"error"}}));case 12:return u=t.sent,t.abrupt("return",u);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ko=function(){var t=vo(po().mark((function t(e){var r,n,o,i,a,c,s,u,l,f,h,p,d,y,v,g,m,b;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.text,n=e.rewriteType,o=void 0===n?"Casual":n,i=e.testing,a=void 0!==i&&i,c=e.site,s=e.priorText,u=void 0===s?"":s,l=e.method,f=void 0===l?void 0:l,h=e.rawText,p=void 0!==h&&h,d=e.settings,y=void 0===d?{}:d,T({category:"hyperwriteAPI",message:"hyperwriteAPI::rewrite",level:"info"}),!a&&!N.TEST_MODE){t.next=4;break}return t.abrupt("return",{options:["1","2","3"],key:"26b67992-07cf-4221-be67-3680b167a18c"});case 4:return t.next=6,oo();case 6:return v=t.sent,(g=new FormData).append("rewriteType",o),g.append("quotedtext",r),g.append("origin","extension"),g.append("site",c),u&&g.append("priorText",u),f&&g.append("method",f),g.append("rawText",p),g.append("settings",JSON.stringify(y)),m={method:"POST",body:g,headers:{Authorization:"Bearer ".concat(v)}},t.next=19,fetch(go+"/rewrite",m).then((function(t){return t.json()})).then((function(t){return"expired token"===t.status?{expiredToken:!0}:t})).catch((function(t){return j(t),console.log("Error rewriting text",t),[{}]}));case 19:return b=t.sent,t.abrupt("return",b);case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Lo=function(){var t=vo(po().mark((function t(e){var r,n,o,i,a,c;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.key,n=e.option,T({category:"hyperwriteAPI",message:"hyperwriteAPI::acceptRewrite",level:"info"}),o=go+"/acceptRewrite",t.next=5,oo();case 5:return i=t.sent,(a=new FormData).append("key",r),a.append("option",n),t.next=11,fetch(o,{method:"POST",body:a,headers:{Authorization:"Bearer ".concat(i)}}).then((function(t){return t.json()})).catch((function(t){j(t),console.info(t)}));case 11:return c=t.sent,t.abrupt("return",c);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),So=function(){var t=vo(po().mark((function t(e){var r,n,o,i,a,c;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.source,n=e.source_identifier,o=go+"/loadExternalSettings",t.next=4,oo();case 4:return i=t.sent,T({category:"hyperwriteAPI",message:"hyperwriteAPI::loadSettings",level:"info"}),(a=new FormData).append("source",r),a.append("source_identifier",n),t.next=11,fetch(o,{method:"POST",body:a,headers:{Authorization:"Bearer ".concat(i)}}).then((function(t){return t.json()})).catch((function(t){j(t),console.info(t)}));case 11:return c=t.sent,t.abrupt("return",c);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),jo=function(){var t=vo(po().mark((function t(e){var r,n,o,i,a,c,s;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.source,n=e.source_identifier,o=e.settings,i=go+"/saveExternalSettings",t.next=4,oo();case 4:return a=t.sent,T({category:"hyperwriteAPI",message:"hyperwriteAPI::saveSettings",level:"info"}),(c=new FormData).append("source",r),c.append("source_identifier",n),c.append("settings",JSON.stringify(o)),t.next=12,fetch(i,{method:"POST",body:c,headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){return t.json()})).catch((function(t){j(t),console.info(t)}));case 12:return s=t.sent,t.abrupt("return",s);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Po=function(){var t=vo(po().mark((function t(){var e,r;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oo();case 2:return e=t.sent,T({category:"hyperwriteAPI",message:"hyperwriteAPI::checkAvailableModels",level:"info"}),r={method:"GET",headers:{Authorization:"Bearer ".concat(e)}},t.next=7,fetch(go+"/checkAvailableModels",r).then((function(t){return t.json()})).catch((function(t){return j(t),console.log("error in API",t),t}));case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),To=function(){var t=vo(po().mark((function t(e){var r,n,o,i,a,c,s,u;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.content_type,n=e.related_content,o=e.reason,i=e.user_comment,t.next=3,oo();case 3:return a=t.sent,c=go+"/submitSuggestionFeedback",(s=new FormData).append("content_type",r),s.append("related_content",n),s.append("reason",o),s.append("user_comment",i),t.next=12,fetch(c,{method:"POST",body:s,headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){return console.log("content feedback save fired",t)})).catch((function(t){return j(t),console.log("err",t),{}}));case 12:return u=t.sent,t.abrupt("return",u);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),No=function(){var t=vo(po().mark((function t(e){var r,n,o,i,a;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.settings,t.next=3,oo();case 3:return n=t.sent,o=go+"/saveUserExternalSettings",(i=new FormData).append("settings",JSON.stringify(r)),t.next=9,fetch(o,{method:"POST",body:i,headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){return t.json()})).catch((function(t){j(t),console.info(t)}));case 9:return a=t.sent,t.abrupt("return",a);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Ao=function(){var t=vo(po().mark((function t(e){var r,n,o,i;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=go+"/registerEmailFeedback",t.next=3,oo();case 3:return n=t.sent,(o=new FormData).append("acceptedCharacterCount",e.acceptedCharacterCount),o.append("acceptedTypeaheadCount",e.acceptedTypeaheadCount),o.append("feedback",e.feedback),o.append("shownTypeaheadCount",e.shownTypeaheadCount),o.append("toggledTypeaheadCount",e.toggledTypeaheadCount),i={method:"POST",body:o,headers:{Authorization:"Bearer ".concat(n)}},t.abrupt("return",fetch(r,i).then((function(t){return t.json()})).catch((function(t){return j(t),t})));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Io=function(){var t=vo(po().mark((function t(){var e,r,n,o;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=go+"/loadUserExternalSettings",t.next=3,oo();case 3:return r=t.sent,(n=new FormData).append("subscriptionData","true"),o={method:"POST",body:n,headers:{Authorization:"Bearer ".concat(r)}},t.abrupt("return",fetch(e,o).then((function(t){return t.ok?t.json():{success:!1}})).catch((function(t){return j(t),console.log("err: ",t),{success:!1}})));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Do=function(){var t=vo(po().mark((function t(){var e,r;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oo();case 2:return e=t.sent,r={method:"POST",headers:{Authorization:"Bearer ".concat(e)}},t.abrupt("return",fetch(go+"/checkInvitesRemaining",r).then((function(t){return t.json()})).catch((function(t){return j(t),t})));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Go=function(){var t=vo(po().mark((function t(){var e,r;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oo();case 2:return e=t.sent,P("hyperwriteAPIs::generateInviteCode"),r={method:"POST",headers:{Authorization:"Bearer ".concat(e)}},t.abrupt("return",fetch(go+"/generateInviteCode",r).then((function(t){return t.json()})).catch((function(t){return j(t),t})));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Mo=function(){var t=vo(po().mark((function t(e){var r,n,o,i,a,c;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.site,n=e.successFailure,o=e.time,i=new FormData,t.next=4,oo();case 4:return a=t.sent,i.append("site",r),i.append("successFailure",n),i.append("time",o),c={method:"POST",body:i,headers:{Authorization:"Bearer ".concat(a)}},t.abrupt("return",fetch(go+"/genSuccessFailure",c).then((function(t){return t.json()})).catch((function(t){return j(t),t})));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Fo=function(){var t=vo(po().mark((function t(e){var r,n,o,i;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.site,n=new FormData,t.next=4,oo();case 4:return o=t.sent,P("hyperwriteAPIs::logSlowInstance"),n.append("site",r),i={method:"POST",body:n,headers:{Authorization:"Bearer ".concat(o)}},t.abrupt("return",fetch(go+"/logSlowInstance",i).then((function(t){return t.json()})).catch((function(t){return j(t),t})));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Co=function(){var t=vo(po().mark((function t(e){var r,n;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.refreshToken,n={method:"POST",headers:{Authorization:"Bearer ".concat(r)}},T({category:"hyperwriteAPI",message:"hyperwriteAPI::getOthersideAccessToken",level:"info"}),t.abrupt("return",fetch("https://api.hyperwriteai.com/getOthersideAccessToken",n).then((function(t){return t.json()})).catch((function(t){throw j(t),t})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Bo=function(){var t=vo(po().mark((function t(e){var r,n;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.auth0AccessToken,n={method:"POST",headers:{Authorization:"Bearer ".concat(r)}},t.abrupt("return",fetch("https://api.hyperwriteai.com/getOthersideRefreshToken",n).then((function(t){return t.json()})).catch((function(t){throw j(t),t})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Ro=function(){var t=vo(po().mark((function t(e){var r,n,o,i,a;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.payload,n=go+"/api/v1/chatbot",t.next=4,oo();case 4:return o=t.sent,(i=new FormData).append("payload",JSON.stringify(r)),a={method:"POST",body:i,headers:{Authorization:"Bearer ".concat(o)}},t.abrupt("return",fetch(n,a).then((function(t){return t.json()})).then((function(t){return{payload:t,status:"success"}})).catch((function(t){return{status:"error",error:t}})));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Ko=function(){var t=vo(po().mark((function t(e){var r,n,o,i,a;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.payload,n=go+"/api/v1/chatbotMessages",t.next=4,oo();case 4:return o=t.sent,(i=new FormData).append("payload",JSON.stringify(r)),a={method:"POST",body:i,headers:{Authorization:"Bearer ".concat(o)}},t.abrupt("return",fetch(n,a).then((function(t){return t.json()})).then((function(t){return{payload:t,status:"success"}})).catch((function(t){return{status:"error",error:t}})));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),qo=function(){var t=vo(po().mark((function t(e){var r,n,o,i,a,c,s,u,l,f,h,p;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.name,n=e.source,o=void 0===n?"Not specified":n,i=e.isError,a=void 0===i?"false":i,c=e.metadata,s=void 0===c?{}:c,u=new FormData,t.next=4,oo();case 4:return l=t.sent,f=chrome.runtime.getManifest(),h={version:f.version},s&&(s=fo(fo({},h),s)),u.append("name",r),u.append("source",o),u.append("isError",a),u.append("metadata",JSON.stringify(s)),p={method:"POST",body:u,redirect:"follow",headers:{Authorization:"Bearer ".concat(l)}},t.next=15,fetch(go+"/clientEvent",p).then((function(t){return t.json()})).catch((function(t){return console.log(t),j(t),["Error saving"]}));case 15:return t.abrupt("return",t.sent);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Uo=function(){var t=vo(po().mark((function t(){var e,r;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oo();case 2:return e=t.sent,r={method:"POST",headers:{Authorization:"Bearer ".concat(e)}},t.abrupt("return",fetch(go+"/checkBetaAccess",r).then((function(t){return t.json()})).then((function(t){return t})));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Yo=function(){var t=vo(po().mark((function t(){var e,r;return po().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oo();case 2:return e=t.sent,r={method:"POST",headers:{Authorization:"Bearer ".concat(e)}},t.abrupt("return",fetch(go+"/grantBetaAccess",r).then((function(t){return t.json()})).then((function(t){return t})));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function zo(t){return zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zo(t)}function Wo(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Wo=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==zo(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Ho(t){return function(t){if(Array.isArray(t))return Vo(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Vo(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vo(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vo(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jo(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function $o(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Jo(i,n,o,a,c,"next",t)}function c(t){Jo(i,n,o,a,c,"throw",t)}a(void 0)}))}}var Xo={h1:"https://api.hyperwriteai.com/",a1:"https://otherside-authedflaskapi.zeet-otherside.zeet.app/",l1:"http://127.0.0.1:5000/",c1:"https://typeaheads.hyperwriteai.com/",d1:"https://hyperwrite-api-dev.herokuapp.com/",z1:"https://typeaheads.hyperwriteai.com/"},Qo=Xo.h1,Zo=N.OVERRIDE_TYPEAHEAD_URL||Xo.z1,ti=function(){var t=$o(Wo().mark((function t(e){var r,n,o,i,a,c,s,u,l,f,h,p,d,y,v,g,m,b,w,_,x,E,O,k,L,S,P,T,A,I,D,G,M,F,C;return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.isEarlyTypeahead,n=e.typeaheadMetadata,o=e.text,i=e.title,a=void 0===i?"Email":i,c=e.description,s=void 0===c?"Email":c,u=e.history,l=e.priorText,f=e.email,h=void 0===f?"":f,p=e.doSpeedy,d=e.app,y=void 0===d?"":d,v=e.history_format,g=void 0===v?"":v,m=e.metadata,b=void 0===m?{}:m,w=e.temperature,_=e.gens,x=e.tokens,E=e.reason,O=void 0===E?"":E,k=e.similarSnippets,L=void 0===k?[]:k,S=e.typeaheadLength,P=void 0===S?"short":S,T=e.typeaheadCreativity,A=void 0===T?"default":T,I=new FormData,t.next=4,oo();case 4:return D=t.sent,I.append("writing",o),I.append("title",a),I.append("description",s),I.append("snippets",JSON.stringify(L)),I.append("typeaheadLength",P),I.append("typeaheadCreativity",A),null!=n&&n.history&&(n.history=[].concat(Ho(n.history),[{time:(new Date).getTime(),function:"api_leaving_getTypeAheads",timeTaken:(new Date).getTime()-n.history.slice(-1)[0].time}])),I.append("typeaheadMetadata",JSON.stringify(n)),I.append("website","Superhuman"),I.append("withScores","true"),r&&I.append("isEarlyTypeahead","true"),u&&I.append("history",JSON.stringify(u)),l&&I.append("priorText",l),p&&I.append("doSpeedy",p),y&&I.append("app",y),g&&I.append("history_format",g),b&&I.append("metadata",JSON.stringify(b)),w&&I.append("temperature",w),_&&I.append("gens",_),x&&I.append("tokens",x),O&&I.append("reason",O),I.append("allowPartial","true"),I.append("version","0.0.3"),G={method:"POST",body:I,redirect:"follow",headers:{Authorization:"Bearer ".concat(D)}},M=(new Date).getTime(),t.next=32,fetch(Zo+"/typeaheadnsorted",G).then((function(t){return t.json()})).catch((function(t){return j(t),["Error generating typeahead"]}));case 32:return F=t.sent,h.endsWith("@othersideai.com")&&(C=(new Date).getTime(),C-M),F.setEndpoint&&(B=F.setEndpoint,R=void 0,(R=Xo[B])&&(Zo=R),N.OVERRIDE_TYPEAHEAD_URL&&(Qo=N.OVERRIDE_TYPEAHEAD_URL)),t.abrupt("return",F);case 36:case"end":return t.stop()}var B,R}),t)})));return function(e){return t.apply(this,arguments)}}(),ei=function(){var t=$o(Wo().mark((function t(e){var r,n,o,i,a,c,s,u,l;return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.id,n=void 0===r?"":r,o=e.text,i=e.title,a=e.sourceId,c=e.url,console.log("saving: ",{id:n,text:o,title:i,sourceId:a}),s=new FormData,t.next=5,oo();case 5:return u=t.sent,n&&s.append("id",n),s.append("text",o),s.append("title",i),s.append("sourceId",a),s.append("source","typeahead"),s.append("dev","tempoary"),s.append("url",c),l={method:"POST",body:s,redirect:"follow",headers:{Authorization:"Bearer ".concat(u)}},t.next=16,fetch(Qo+"/save_external_document",l).then((function(t){return t.json()})).catch((function(t){return console.log(t),j(t),["Error saving"]}));case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ri=function(){var t=$o(Wo().mark((function t(e){var r,n,o,i,a,c,s;return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.feedback,n=e.metadata,o=e.user_comment,t.next=3,oo();case 3:return i=t.sent,a=Qo+"/submitSuggestionFeedback",(c=new FormData).append("content_type","typeahead"),c.append("reason",r),n&&c.append("metadata",JSON.stringify(n)),c.append("user_comment",null!=o?o:""),t.next=12,fetch(a,{method:"POST",body:c,headers:{Authorization:"Bearer ".concat(i)}}).then((function(t){return console.log("content feedback save fired",t)})).catch((function(t){return console.log("error",t),j(t),{}}));case 12:return s=t.sent,t.abrupt("return",s);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ni=function(){var t=$o(Wo().mark((function t(e){var r,n,o,i;return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("saving measurement: ",e),r=Qo+"/saveTypeAheadMeasurements",n=new FormData,t.next=5,oo();case 5:return o=t.sent,null!=e&&e.messageTime&&n.append("messageTime",e.messageTime),null!=e&&e.keyDownCount&&n.append("keyDownCount",e.keyDownCount),null!=e&&e.appName&&n.append("platform",e.appName),null!=e&&e.acceptedCount&&n.append("acceptedCount",e.acceptedCount),null!=e&&e.notAcceptedCount&&n.append("notAcceptedCount",e.notAcceptedCount),t.next=13,fetch(r,{method:"POST",body:n,headers:{Authorization:"Bearer ".concat(o)}}).then((function(t){return console.log("saved the typeahead measurement: ",t)})).catch((function(t){return console.log("error",t),j(t),{}}));case 13:return i=t.sent,t.abrupt("return",i);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),oi=function(){var t=$o(Wo().mark((function t(e){var r,n,o,i,a,c;return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.type,n=e.metadata,o=e.app,i=new FormData,t.next=4,oo();case 4:return a=t.sent,i.append("type",r),i.append("metadata",JSON.stringify(n)),i.append("app",o),c={method:"POST",body:i,redirect:"follow",headers:{Authorization:"Bearer ".concat(a)}},t.next=11,fetch(Qo+"/logAcceptedTypeahead",c).then((function(t){return t.json()})).catch((function(t){return console.log(t),j(t),["Error saving"]}));case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ii=function(){var t=$o(Wo().mark((function t(e){var r,n,o,i,a,c;return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.type,n=e.app,o=e.metadata,i=new FormData,t.next=4,oo();case 4:return a=t.sent,i.append("type",r),i.append("app",n),i.append("metadata",JSON.stringify(o)),c={method:"POST",body:i,redirect:"follow",headers:{Authorization:"Bearer ".concat(a)}},t.next=11,fetch(Qo+"/logShownTypeahead",c).then((function(t){return t.json()})).catch((function(t){return console.log(t),j(t),["Error saving"]}));case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ai=function(){var t=$o(Wo().mark((function t(){var e,r,n;return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oo();case 2:return e=t.sent,r=Qo+"/loadTypeaheadAccess",t.next=6,fetch(r,{method:"POST",mode:"cors",headers:{Authorization:"Bearer ".concat(e)}}).then((function(t){return t.json()})).catch((function(t){console.log("error:",t)}));case 6:return n=t.sent,t.abrupt("return",n);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ci=function(){var t=$o(Wo().mark((function t(e){var r,n,o,i;return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.applicationAccess,t.next=3,oo();case 3:return n=t.sent,(o=new FormData).append("applicationAccess",JSON.stringify(r)),i=fetch(Qo+"/userRequestUpdateTypeaheadAccess",{method:"POST",mode:"cors",body:o,redirect:"manual",headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){return t.json()})).catch((function(t){console.log("error:",t)})),t.abrupt("return",i);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),si=function(){var t=$o(Wo().mark((function t(e){var r,n,o,i;return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oo();case 2:return r=t.sent,n=Qo+"/checkSurveyComplete",(o=new FormData).append("surveyid",e.surveyId),t.next=8,fetch(n,{method:"POST",body:o,headers:{Authorization:"Bearer ".concat(r)}}).then((function(t){return t.json()})).catch((function(t){return console.log("error",t),j(t),{}}));case 8:return i=t.sent,t.abrupt("return",i);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ui=function(){var t=$o(Wo().mark((function t(e){var r,n,o,i;return Wo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oo();case 2:return r=t.sent,n=Qo+"/registerCompletedTypeahead",(o=new FormData).append("id",e.id),o.append("metadata",JSON.stringify(e.metadata)),t.next=9,fetch(n,{method:"POST",body:o,headers:{Authorization:"Bearer ".concat(r)}}).then((function(t){return t.json()})).catch((function(t){return console.log("error",t),j(t),{}}));case 9:return i=t.sent,t.abrupt("return",i);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function li(t){return li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},li(t)}function fi(t){return function(t){if(Array.isArray(t))return hi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return hi(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hi(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hi(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function di(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?pi(Object(r),!0).forEach((function(e){yi(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function yi(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vi(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */vi=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==li(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function gi(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function mi(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){gi(i,n,o,a,c,"next",t)}function c(t){gi(i,n,o,a,c,"throw",t)}a(void 0)}))}}var bi=!1,wi="";function _i(t){if("authentication"===t.name&&t.onMessage.addListener(function(){var e=mi(vi().mark((function e(r){var n,o,i,a;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("login"!==r.action){e.next=20;break}return chrome.storage.local.set({authenticated:!1},(function(){bi})),100,e.next=6,new Promise((function(t){return setTimeout(t,100)}));case 6:return n="",o="",e.prev=8,e.next=12,oo(5e3).catch((function(e){o=e.error,j(e),"login_required"===(null==e?void 0:e.error)&&t.postMessage({function:"checkAccessCall",loginError:!0,status:"error"})}));case 12:n=e.sent,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8);case 18:chrome.storage.local.get(["authedId"],(function(t){if(n){var e=ki(n)["https://example.com/userid"],r=chrome.runtime.getManifest().version;!t.authedId&&e&&(chrome.storage.local.set({authedId:e},(function(){})),chrome.runtime.setUninstallURL("https://app.hyperwriteai.com/uninstall?user=".concat(e,"&version=").concat(r)))}})),n?(i=ki(n),a=i["https://example.com/email"],chrome.storage.local.set({authenticated:!0},(function(){bi})),chrome.storage.local.get(["universalOn"],function(){var e=mi(vi().mark((function e(n){var o;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=void 0===n.universalOn||n.universalOn,e.next=5,Ei({site:r.site,isAuthed:!0,universalOn:o,port:t,email:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):"login_required"===o&&t.postMessage({function:"checkAccessCall",status:"error"});case 20:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}()),"acceptGenerationOption"===t.name&&t.onMessage.addListener((function(e){mo({suggestionKey:e.key,option:e.index}).then((function(e){t.postMessage(e)}))})),"command"===t.name&&t.onMessage.addListener(function(){var e=mi(vi().mark((function e(r){var n,o,i,a,c,s;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="l3la",e.next=3,oo();case 3:i=e.sent,t.postMessage({purpose:"gotAuth"}),a="";try{a=(null===(c=r.messageHistory[r.messageHistory.length-1])||void 0===c?void 0:c.display_text)+"\n\n"}catch(t){console.log(t)}return e.next=9,Vn(a+r.text);case 9:s=e.sent,bo({command:r.command,blocks:[{key:"l3la",text:r.text,type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}}],key:o,offset:null===(n=r.text)||void 0===n?void 0:n.length,description:r.description,title:r.title,documentMetadata:di(di({},r.documentMetadata),{},{similarSnippets:s}),infos:{foo:{}},format:"",complete:"new",sentenceLength:r.sentenceLength,facts:r.facts,accessToken:i,isImage:r.isImage}).then((function(e){t.postMessage({options:e})}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),"acceptCommandSuggestions"===t.name&&t.onMessage.addListener((function(t){wo({key:t.key,index:t.index,text:t.text}).then((function(t){return console.log("response: ",t)}))})),"rewrite"===t.name&&t.onMessage.addListener(function(){var e=mi(vi().mark((function e(r){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ko({text:r.text,rewriteType:r.rewriteType,customText:r.customText,site:r.site,priorText:r.priorText,method:r.method,rawText:r.rawText,settings:r.settings}).then((function(e){t.postMessage(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),"acceptRewrite"===t.name&&t.onMessage.addListener((function(t){Lo({key:t.key,option:t.option}).then((function(t){return console.log("response: ",t)}))})),"loadDocumentSettings"===t.name)try{t.onMessage.addListener((function(e){var r=null==e?void 0:e.url.substr(35,44);So({source:e.source,source_identifier:r}).then((function(e){t.postMessage(e)}))}))}catch(e){t.postMessage(e)}if("registerEmailFeedback"===t.name)try{t.onMessage.addListener((function(e){Ao(e).then((function(e){t.postMessage(e)}))}))}catch(e){t.postMessage(e)}if("loadUserSettings"===t.name)try{t.onMessage.addListener((function(){Io().then((function(e){if(null!=e&&e.disable_otherside_auth&&(!!Zn&&(co(),An=void 0,In=void 0,Dn=void 0,Gn=void 0,Zn=!1,!0)))return;if(null!=e&&e.enable_otherside_auth&&(!Zn&&(Zn=!0,An=void 0,In=void 0,Dn=void 0,Gn=void 0,!0)))return;"token expired"!==(null==e?void 0:e.status)?t.postMessage(e):co()}))}))}catch(e){t.postMessage(e)}if("checkModels"===t.name)try{t.onMessage.addListener((function(){chrome.tabs.query({currentWindow:!0,active:!0},(function(){Po().then((function(e){t.postMessage(e)}))}))}))}catch(e){t.postMessage(e)}if("postGenerationFeedback"===t.name)try{t.onMessage.addListener((function(t){chrome.tabs.query({currentWindow:!0,active:!0},(function(){To({content_type:t.content_type,related_content:t.related_content,reason:t.reason,user_comment:t.user_comment})}))}))}catch(e){t.postMessage(e)}if("saveContentToDatabase"===t.name)try{t.onMessage.addListener(function(){var t=mi(vi().mark((function t(e){return vi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("got request: "),t.next=3,ei({id:e.id,text:e.text,title:e.title,sourceId:e.sourceId,url:e.url});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}catch(e){t.postMessage(e)}if("saveExampleEmails"===t.name)try{t.onMessage.addListener(function(){var e=mi(vi().mark((function e(r){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qo({name:"Indexing: Index local document",source:r.platform}),e.next=3,zn({site:r.platform,siteIdentifier:r.id,url:r.url,content:r.text,id:r.id,manual:r.manual});case 3:return n=e.sent,console.log("saving locally"),t.postMessage(n),e.abrupt("return");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(e){t.postMessage(e)}if("checkSavedEmailIndexedStatus"===t.name)try{t.onMessage.addListener(function(){var e=mi(vi().mark((function e(r){var n,o;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.postMessage({status:"ack"}),n=!1,o=r.email[0].id,e.next=5,Hn({siteIdentifier:o});case 5:n=e.sent,t.postMessage({indexedStatus:n,contentId:r.id});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(e){t.postMessage(e)}if("removeExampleEmail"===t.name)try{t.onMessage.addListener(function(){var t=mi(vi().mark((function t(e){return vi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("got remove request: "),qo({name:"Indexing: Delete local document",source:e.platform}),Wn({siteIdentifier:e.id,site:e.platform});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}catch(e){t.postMessage(e)}"getTypeAheads"===t.name&&t.onMessage.addListener((function(e){t.postMessage({status:"getting typeaheds"}),function(t){xi.apply(this,arguments)}({port:t,message:e})})),"getIndexDbCount"===t.name&&t.onMessage.addListener(function(){var e=mi(vi().mark((function e(r){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.postMessage({status:"getting document count"}),e.next=3,Kn(r.platform);case 3:n=e.sent,t.postMessage(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),"checkBetaAccess"===t.name&&t.onMessage.addListener(function(){var e=mi(vi().mark((function e(r){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.postMessage({status:"checking beta access"}),e.next=3,Uo(r.email);case 3:n=e.sent,t.postMessage(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),"grantBetaAccess"===t.name&&t.onMessage.addListener(function(){var e=mi(vi().mark((function e(r){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.postMessage({status:"granting beta access"}),e.next=3,Yo(r.email);case 3:n=e.sent,t.postMessage(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),"listIndexDbDocuments"===t.name&&t.onMessage.addListener(function(){var e=mi(vi().mark((function e(r){var n,o,i,a;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.pageNo,o=r.pageLimit,i=r.filterParams,t.postMessage({status:"getting documents"}),e.next=4,qn({pageNo:n,pageLimit:o,filterParams:i});case 4:a=e.sent,t.postMessage(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),"deleteIndexDbDocument"===t.name&&t.onMessage.addListener(function(){var e=mi(vi().mark((function e(r){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.postMessage({status:"getting documents"}),e.next=3,Wn(di({},r));case 3:n=e.sent,t.postMessage(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),"saveMeasurements"===t.name&&t.onMessage.addListener((function(e){t.postMessage({status:"saving measurements"}),ni(e)})),"logAcceptedTypeahead"===t.name&&t.onMessage.addListener(function(){var e=mi(vi().mark((function e(r){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.postMessage({status:"getting typeaheds"}),e.next=3,oi({type:r.type,metadata:r.metadata,app:r.app});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),"logShownTypeahead"===t.name&&t.onMessage.addListener(function(){var e=mi(vi().mark((function e(r){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.postMessage({status:"getting typeaheds"}),e.next=3,ii({type:r.type,app:r.app,metadata:r.metadata});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),"triggerEvent"===t.name&&t.onMessage.addListener(function(){var e=mi(vi().mark((function e(r){var n,o,i;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.postMessage({status:"triggering event"}),wi&&(i=di(di({},null===(o=r)||void 0===o?void 0:o.metadata),{},{subscriptionStatus:wi}),r=di(di({},r),{},{metadata:i})),null!==(n=r)&&void 0!==n&&n.source?qo(r):chrome.tabs.query({active:!0,currentWindow:!0},function(){var t=mi(vi().mark((function t(e){var n,o,i;return vi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=e[0],i=(null==o||null===(n=o.url)||void 0===n?void 0:n.split("/")[2])||"",r=di(di({},r),{},{source:i}),qo(r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),"checkInvitesRemaining"===t.name&&t.onMessage.addListener(mi(vi().mark((function e(){var r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.postMessage({status:"checking invites remaining"}),e.next=3,Do();case 3:r=e.sent,t.postMessage({invitesRemaining:r,status:"complete"});case 5:case"end":return e.stop()}}),e)})))),"generateInviteCode"===t.name&&t.onMessage.addListener(mi(vi().mark((function e(){var r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.postMessage({status:"generating invite code"}),e.next=3,Go();case 3:r=e.sent,t.postMessage({inviteCode:r,status:"complete"});case 5:case"end":return e.stop()}}),e)})))),"genSuccessFailure"===t.name&&t.onMessage.addListener(function(){var e=mi(vi().mark((function e(r){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.postMessage({status:"genSuccessFailure"}),e.next=3,Mo({site:r.site,successFailure:r.successFailure,time:r.time});case 3:n=e.sent,t.postMessage({successFailure:n,status:"complete"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),"logSlowInstance"===t.name&&t.onMessage.addListener(function(){var e=mi(vi().mark((function e(r){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.postMessage({status:"logSlowInstance"}),e.next=3,Fo({site:r.site});case 3:n=e.sent,t.postMessage({slowInstance:n,status:"complete"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),"loadTypeaheadAccess"===t.name&&t.onMessage.addListener(mi(vi().mark((function e(){var r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ai();case 2:r=e.sent,t.postMessage({results:r});case 4:case"end":return e.stop()}}),e)})))),"saveTypeaheadAccess"===t.name&&t.onMessage.addListener(function(){var e=mi(vi().mark((function e(r){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ci(r);case 2:n=e.sent,t.postMessage({results:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),"submitSurvey"===t.name&&t.onMessage.addListener(mi(vi().mark((function e(){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.postMessage({});case 1:case"end":return e.stop()}}),e)})))),"checkSurveyComplete"===t.name&&t.onMessage.addListener(function(){var e=mi(vi().mark((function e(r){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,si(r);case 2:n=e.sent,t.postMessage(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),"registerCompletedTypeahead"===t.name&&t.onMessage.addListener(function(){var e=mi(vi().mark((function e(r){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ui(r);case 2:n=e.sent,t.postMessage(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),"callChatbot"===t.name&&t.onMessage.addListener(function(){var e=mi(vi().mark((function e(r){var n,o,i;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oo();case 2:return n=e.sent,r=di(di({},r),{},{accessToken:n}),e.next=6,Ro(r);case 6:o=e.sent,i=di(di({},o),{},{status:"complete"}),t.postMessage(i);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),"updateChatbotMessage"===t.name&&t.onMessage.addListener(function(){var e=mi(vi().mark((function e(r){var n,o;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ko(r);case 2:n=e.sent,o=di(di({},n),{},{status:"complete"}),t.postMessage(o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}function xi(){return(xi=mi(vi().mark((function t(e){var r,n,o,i,a,c;return vi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.port,o=e.message,i=o.typeaheadMetadata,null!==(r=i)&&void 0!==r&&r.history&&(i.history=[].concat(fi(i.history),[{time:(new Date).getTime(),function:"background_leaving_callTypeahead",timeTaken:(new Date).getTime()-i.history.slice(-1)[0].time}])),a=o.contentIdentifier||"",c=[],o.ignoreSearch){t.next=9;break}return t.next=8,Vn(o.text,a);case 8:c=t.sent;case 9:ti({isEarlyTypeahead:o.isEarlyTypeahead,typeaheadMetadata:i,text:o.text,title:o.title,description:o.description,history:o.history,priorText:o.priorText,email:o.email,doSpeedy:o.doSpeedy,app:o.app,history_format:o.history_format,metadata:o.metadata,temperature:o.temperature,gens:o.generations,tokens:o.length,reason:o.reason,similarSnippets:c,typeaheadLength:o.typeaheadLength,typeaheadCreativity:o.typeaheadCreativity}).then((function(t){var e,r;null!==(e=i=null==t?void 0:t.typeaheadMetadata)&&void 0!==e&&e.history&&(i.history=[].concat(fi(i.history),[{time:(new Date).getTime(),function:"background_returning_callTypeahead",timeTaken:(new Date).getTime()-i.history.slice(-1)[0].time}])),null!=t&&null!==(r=t.experiments)&&void 0!==r&&r.subscriptionTier&&(wi=t.experiments.subscriptionTier),n.postMessage(di(di({},t),{},{typeaheadMetadata:i,options:null==t?void 0:t.choices,key:null==o?void 0:o.key,function:"doTypeahead",status:"complete",experiments:null==t?void 0:t.experiments,flagged:(null==t?void 0:t.ContentFlag)||"Pre-Filter"===(null==t?void 0:t.error),config:null==t?void 0:t.config}))}));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ei(t){return Oi.apply(this,arguments)}function Oi(){return(Oi=mi(vi().mark((function t(e){var r,n,o,i,a;return vi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.site,n=e.isAuthed,o=e.universalOn,i=e.port,a=e.email,Tf.includes(r)&&(n=!1),i.postMessage({result:{authed:n,email:a,universalOn:o},email:a,status:"complete",function:"checkAccessCall"});case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ki(t){var e=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(e).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(r)}function Li(t,e,r){if("content"===t.from&&"showPageAction"===t.subject&&chrome.pageAction.show(e.tab.id),"submitFeedback"===t.apiRequest&&(_o({feedback:t.text,type:t.type}),r("Feedback API request received")),"voteOnAction"===t.apiRequest&&(xo({session_id:t.session_id,action_id:t.action_id,vote:t.vote,vote_feedback:t.vote_feedback}),r("Vote API request received")),"voteOnWorkflow"===t.apiRequest&&(Eo({sessionId:t.sessionId,vote:t.vote,feedback:t.feedback,objective:t.objective,startingUrl:t.startingUrl}),r("Vote on Workflow API request received")),"saveDocumentSettings"===t.apiRequest){try{var n=null==t?void 0:t.url.substr(35,44);jo({source:t.source,source_identifier:n,settings:t.settings})}catch(t){console.log("error: ",t)}r("message received")}if("saveUserSettings"===t.apiRequest){try{No({settings:t.settings})}catch(t){console.log("error!: ",t)}r("message received")}if("reloadExtension"===t.request&&(r("reload message received"),chrome.runtime.reload()),"saveTypeAheadContentFeedback"===t.request){try{ri({feedback:t.feedback,metadata:t.metadata,user_comment:t.user_comment})}catch(t){console.log("error!: ",t)}r("message received")}}var Si=["docs.google.com/document","mail.google.com","www.linkedin.com","outlook.live.com"];function ji(t){return ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ji(t)}function Pi(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Pi=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==ji(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Ti(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ni(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ti(Object(r),!0).forEach((function(e){Ai(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ti(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ai(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ii(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function Di(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ii(i,n,o,a,c,"next",t)}function c(t){Ii(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Gi(t){return Mi.apply(this,arguments)}function Mi(){return Mi=Di(Pi().mark((function t(e){var r;return Pi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=chrome.runtime.getManifest(),"install"===e.reason&&(console.log("Extension fresh install"),chrome.runtime.setUninstallURL("https://app.hyperwriteai.com/uninstall?user=not-authed-yet&version=".concat(r.version)),chrome.tabs.create({url:"https://www.hyperwriteai.com/onboarding/1"})),chrome.storage.local.get(["activeSites","universalOn"],(function(t){void 0===(null==t?void 0:t.universalOn)&&chrome.storage.local.set({universalOn:!0});var e={typeahead:!0,rewrite:!0,smartTemplate:!0},r={};for(var n=0;n<Si.length;n++){var o,i,a,c=Si[n];void 0===(null==t||null===(o=t.activeSites)||void 0===o?void 0:o[c])?r[c]=e:void 0===(null==t||null===(i=t.activeSites)||void 0===i||null===(a=i[c])||void 0===a?void 0:a.smartTemplate)&&t.activeSites[c]&&(r[c]=Ni(Ni({},t.activeSites[c]),{},{smartTemplate:!0}))}chrome.storage.local.set({activeSites:Ni(Ni({},t.activeSites),r)}),chrome.storage.local.set({badSites:Tf})}));case 3:case"end":return t.stop()}}),t)}))),Mi.apply(this,arguments)}function Fi(t){return Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fi(t)}function Ci(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ci=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==Fi(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Bi(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function Ri(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Bi(i,n,o,a,c,"next",t)}function c(t){Bi(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Ki(t,e){return qi.apply(this,arguments)}function qi(){return qi=Ri(Ci().mark((function t(e,r){return Ci().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=N&&N.ZENDESK_AUTOFILL)try{r.url&&chrome.tabs.sendMessage(e,{message:"url has changed"})}catch(t){console.log("error in url change detection",t)}case 1:case"end":return t.stop()}}),t)}))),qi.apply(this,arguments)}var Ui=function(t,e){return Ui=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},Ui(t,e)};function Yi(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}Ui(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function zi(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{s(n.next(t))}catch(t){i(t)}}function c(t){try{s(n.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,c)}s((n=n.apply(t,e||[])).next())}))}function Wi(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&c[0]?n.return:c[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,c[1])).done)return o;switch(n=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,n=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],n=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}}Object.create;function Hi(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vi(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function Ji(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))}function $i(t){return this instanceof $i?(this.v=t,this):new $i(t)}function Xi(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),i=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(t){o[t]&&(n[t]=function(e){return new Promise((function(r,n){i.push([t,e,r,n])>1||c(t,e)}))})}function c(t,e){try{!function(t){t.value instanceof $i?Promise.resolve(t.value.v).then(s,u):l(i[0][2],t)}(o[t](e))}catch(t){l(i[0][3],t)}}function s(t){c("next",t)}function u(t){c("throw",t)}function l(t,e){t(e),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Qi(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=Hi(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,o){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,o,(e=t[r](e)).done,e.value)}))}}}Object.create;function Zi(t){return"function"==typeof t}var ta,ea,ra=(ta=function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}},(ea=ta((function(t){Error.call(t),t.stack=(new Error).stack}))).prototype=Object.create(Error.prototype),ea.prototype.constructor=ea,ea);function na(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var oa=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}var e;return t.prototype.unsubscribe=function(){var t,e,r,n,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var a=Hi(i),c=a.next();!c.done;c=a.next()){c.value.remove(this)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}else i.remove(this);var s=this.initialTeardown;if(Zi(s))try{s()}catch(t){o=t instanceof ra?t.errors:[t]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var l=Hi(u),f=l.next();!f.done;f=l.next()){var h=f.value;try{aa(h)}catch(t){o=null!=o?o:[],t instanceof ra?o=Ji(Ji([],Vi(o)),Vi(t.errors)):o.push(t)}}}catch(t){r={error:t}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}}if(o)throw new ra(o)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)aa(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&na(e,t)},t.prototype.remove=function(e){var r=this._finalizers;r&&na(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}();oa.EMPTY;function ia(t){return t instanceof oa||t&&"closed"in t&&Zi(t.remove)&&Zi(t.add)&&Zi(t.unsubscribe)}function aa(t){Zi(t)?t():t.unsubscribe()}var ca={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},sa={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=sa.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,Ji([t,e],Vi(r))):setTimeout.apply(void 0,Ji([t,e],Vi(r)))},clearTimeout:function(t){var e=sa.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function ua(t){sa.setTimeout((function(){var e=ca.onUnhandledError;if(!e)throw t;e(t)}))}function la(){}var fa=ha("C",void 0,void 0);function ha(t,e,r){return{kind:t,value:e,error:r}}var pa=null;var da=function(t){function e(e){var r=t.call(this)||this;return r.isStopped=!1,e?(r.destination=e,ia(e)&&e.add(r)):r.destination=_a,r}return Yi(e,t),e.create=function(t,e,r){return new ma(t,e,r)},e.prototype.next=function(t){this.isStopped?wa(function(t){return ha("N",t,void 0)}(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?wa(ha("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?wa(fa,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(oa),ya=Function.prototype.bind;function va(t,e){return ya.call(t,e)}var ga=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(t){ba(t)}},t.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(t){ba(t)}else ba(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){ba(t)}},t}(),ma=function(t){function e(e,r,n){var o,i,a=t.call(this)||this;Zi(e)||!e?o={next:null!=e?e:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:a&&ca.useDeprecatedNextContext?((i=Object.create(e)).unsubscribe=function(){return a.unsubscribe()},o={next:e.next&&va(e.next,i),error:e.error&&va(e.error,i),complete:e.complete&&va(e.complete,i)}):o=e;return a.destination=new ga(o),a}return Yi(e,t),e}(da);function ba(t){var e;ca.useDeprecatedSynchronousErrorHandling?(e=t,ca.useDeprecatedSynchronousErrorHandling&&pa&&(pa.errorThrown=!0,pa.error=e)):ua(t)}function wa(t,e){var r=ca.onStoppedNotification;r&&sa.setTimeout((function(){return r(t,e)}))}var _a={closed:!0,next:la,error:function(t){throw t},complete:la},xa="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ea(t){return t}function Oa(t){return 0===t.length?Ea:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var ka=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n,o=this,i=(n=t)&&n instanceof da||function(t){return t&&Zi(t.next)&&Zi(t.error)&&Zi(t.complete)}(n)&&ia(n)?t:new ma(t,e,r);return function(t){if(ca.useDeprecatedSynchronousErrorHandling){var e=!pa;if(e&&(pa={errorThrown:!1,error:null}),t(),e){var r=pa,n=r.errorThrown,o=r.error;if(pa=null,n)throw o}}else t()}((function(){var t=o,e=t.operator,r=t.source;i.add(e?e.call(i,r):r?o._subscribe(i):o._trySubscribe(i))})),i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=La(e))((function(e,n){var o=new ma({next:function(e){try{t(e)}catch(t){n(t),o.unsubscribe()}},error:n,complete:e});r.subscribe(o)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[xa]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Oa(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=La(t))((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();function La(t){var e;return null!==(e=null!=t?t:ca.Promise)&&void 0!==e?e:Promise}function Sa(t){return function(e){if(function(t){return Zi(null==t?void 0:t.lift)}(e))return e.lift((function(e){try{return t(e,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}function ja(t,e,r,n,o){return new Pa(t,e,r,n,o)}var Pa=function(t){function e(e,r,n,o,i,a){var c=t.call(this,e)||this;return c.onFinalize=i,c.shouldUnsubscribe=a,c._next=r?function(t){try{r(t)}catch(t){e.error(t)}}:t.prototype._next,c._error=o?function(t){try{o(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,c._complete=n?function(){try{n()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,c}return Yi(e,t),e.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}},e}(da);function Ta(t,e){return Sa((function(r,n){var o=0;r.subscribe(ja(n,(function(r){n.next(t.call(e,r,o++))})))}))}var Na=Array.isArray;function Aa(t){return Ta((function(e){return function(t,e){return Na(e)?t.apply(void 0,Ji([],Vi(e))):t(e)}(t,e)}))}function Ia(t,e,r){return r?Ia(t,e).pipe(Aa(r)):new ka((function(r){var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.next(1===t.length?t[0]:t)},o=t(n);return Zi(e)?function(){return e(n,o)}:void 0}))}var Da=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Ga(t){return Zi(null==t?void 0:t.then)}function Ma(t){return Zi(t[xa])}function Fa(t){return Symbol.asyncIterator&&Zi(null==t?void 0:t[Symbol.asyncIterator])}function Ca(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var Ba="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Ra(t){return Zi(null==t?void 0:t[Ba])}function Ka(t){return Xi(this,arguments,(function(){var e,r,n;return Wi(this,(function(o){switch(o.label){case 0:e=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,$i(e.read())];case 3:return r=o.sent(),n=r.value,r.done?[4,$i(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,$i(n)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}function qa(t){return Zi(null==t?void 0:t.getReader)}function Ua(t){if(t instanceof ka)return t;if(null!=t){if(Ma(t))return o=t,new ka((function(t){var e=o[xa]();if(Zi(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(Da(t))return n=t,new ka((function(t){for(var e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()}));if(Ga(t))return r=t,new ka((function(t){r.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,ua)}));if(Fa(t))return Ya(t);if(Ra(t))return e=t,new ka((function(t){var r,n;try{for(var o=Hi(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(t.next(a),t.closed)return}}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}t.complete()}));if(qa(t))return Ya(Ka(t))}var e,r,n,o;throw Ca(t)}function Ya(t){return new ka((function(e){(function(t,e){var r,n,o,i;return zi(this,void 0,void 0,(function(){var a,c;return Wi(this,(function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),r=Qi(t),s.label=1;case 1:return[4,r.next()];case 2:if((n=s.sent()).done)return[3,4];if(a=n.value,e.next(a),e.closed)return[2];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=s.sent(),o={error:c},[3,11];case 6:return s.trys.push([6,,9,10]),n&&!n.done&&(i=r.return)?[4,i.call(r)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))}))})(t,e).catch((function(t){return e.error(t)}))}))}function za(t,e,r,n,o){void 0===n&&(n=0),void 0===o&&(o=!1);var i=e.schedule((function(){r(),o?t.add(this.schedule(null,n)):this.unsubscribe()}),n);if(t.add(i),!o)return i}function Wa(t,e,r){return void 0===r&&(r=1/0),Zi(e)?Wa((function(r,n){return Ta((function(t,o){return e(r,t,n,o)}))(Ua(t(r,n)))}),r):("number"==typeof e&&(r=e),Sa((function(e,n){return function(t,e,r,n,o,i,a,c){var s=[],u=0,l=0,f=!1,h=function(){!f||s.length||u||e.complete()},p=function(t){return u<n?d(t):s.push(t)},d=function(t){i&&e.next(t),u++;var c=!1;Ua(r(t,l++)).subscribe(ja(e,(function(t){null==o||o(t),i?p(t):e.next(t)}),(function(){c=!0}),void 0,(function(){if(c)try{u--;for(var t=function(){var t=s.shift();a?za(e,a,(function(){return d(t)})):d(t)};s.length&&u<n;)t();h()}catch(t){e.error(t)}})))};return t.subscribe(ja(e,p,(function(){f=!0,h()}))),function(){null==c||c()}}(e,n,t,r)})))}function Ha(){return void 0===(t=1)&&(t=1/0),Wa(Ea,t);var t}function Va(t){return t[t.length-1]}function Ja(t){return(e=Va(t))&&Zi(e.schedule)?t.pop():void 0;var e}function $a(t,e){return void 0===e&&(e=0),Sa((function(r,n){r.subscribe(ja(n,(function(r){return za(n,t,(function(){return n.next(r)}),e)}),(function(){return za(n,t,(function(){return n.complete()}),e)}),(function(r){return za(n,t,(function(){return n.error(r)}),e)})))}))}function Xa(t,e){return void 0===e&&(e=0),Sa((function(r,n){n.add(t.schedule((function(){return r.subscribe(n)}),e))}))}function Qa(t,e){if(!t)throw new Error("Iterable cannot be null");return new ka((function(r){za(r,e,(function(){var n=t[Symbol.asyncIterator]();za(r,e,(function(){n.next().then((function(t){t.done?r.complete():r.next(t.value)}))}),0,!0)}))}))}function Za(t,e){if(null!=t){if(Ma(t))return function(t,e){return Ua(t).pipe(Xa(e),$a(e))}(t,e);if(Da(t))return function(t,e){return new ka((function(r){var n=0;return e.schedule((function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())}))}))}(t,e);if(Ga(t))return function(t,e){return Ua(t).pipe(Xa(e),$a(e))}(t,e);if(Fa(t))return Qa(t,e);if(Ra(t))return function(t,e){return new ka((function(r){var n;return za(r,e,(function(){n=t[Ba](),za(r,e,(function(){var t,e,o;try{e=(t=n.next()).value,o=t.done}catch(t){return void r.error(t)}o?r.complete():r.next(e)}),0,!0)})),function(){return Zi(null==n?void 0:n.return)&&n.return()}}))}(t,e);if(qa(t))return function(t,e){return Qa(Ka(t),e)}(t,e)}throw Ca(t)}function tc(t,e){return e?Za(t,e):Ua(t)}function ec(t,e){return Sa((function(r,n){var o=0;r.subscribe(ja(n,(function(r){return t.call(e,r,o++)&&n.next(r)})))}))}var rc=__webpack_require__(4116),nc=__webpack_require__.n(rc);function oc(t){return null!=t}function ic(t,e){e||(e="local");const r=(t=>{switch(t){case"local":return nc().storage.local;case"sync":return nc().storage.sync;case"managed":return nc().storage.managed;default:throw new TypeError('area must be "local" | "sync" | "managed"')}})(e),n=`extend-chrome/storage__${t}`,o=`${n}_keys`,i=t=>`${n}--${t}`,a=t=>t.replace(`${n}--`,""),c=t=>e=>Object.keys(e).reduce(((r,n)=>Object.assign(Object.assign({},r),{[t(n)]:e[n]})),{}),s=t=>t.map(i),u=c(i),l=c(a),f=async()=>(await r.get(o))[o]||[];let h=null;async function p(t){if(h)return h;if(null==t){const t=await f();if(t.length){const e=s(t),n=await r.get(e);return l(n)}return{}}if("string"==typeof t){const e=i(t),n=await r.get(e);return l(n)}if(Array.isArray(t)){const e=s(t),n=await r.get(e);return l(n)}{const e=u(t),n=await r.get(e);return l(n)}}function d(t){if(null==t)return p();if("string"==typeof t||"object"==typeof t)return p(t);if("function"==typeof t)return p().then(t);throw new TypeError("Unexpected argument type: "+typeof t)}const y=t=>t;let v=y;function g(t){return new Promise(((e,n)=>{let i;i="function"==typeof t?e=>{const r=t(e),o=(t=>{if(Array.isArray(t))return"Unexpected setter result value: Array";switch(typeof t){case"object":case"undefined":return;default:return"Unexpected setter return value: "+typeof t}})(r);return o?(n(new TypeError(o)),e):Object.assign(Object.assign({},e),r)}:e=>Object.assign(Object.assign({},e),t);const a=v;v=t=>Object.assign(Object.assign({},t),i(a(t))),null===h&&(h=p().then((t=>{try{const e=v(t),n=u(e);return n[o]=Object.keys(e),r.set(n).then((()=>e))}finally{v=y,h=null}}))),h.then(e).catch(n)}))}const m=Ia((t=>{chrome.storage.onChanged.addListener(t)}),(t=>{chrome.storage.onChanged.removeListener(t)})).pipe(ec((([t,r])=>r===e&&Object.keys(t).some((t=>t.startsWith(n))))),Ta((([t])=>{const e=Object.keys(t).filter((t=>t.startsWith(n)&&t!==o));return e.length?e.reduce(((e,r)=>Object.assign(Object.assign({},e),{[a(r)]:t[r]})),{}):void 0})),ec(oc));return{set:g,get:d,remove:t=>{const e=[].concat(t);e.forEach((t=>{if("string"!=typeof t)throw new TypeError("Unexpected argument type: "+typeof t)}));return r.remove(s(e)).then(f).then((t=>(t=>r.set({[o]:t}))(t.filter((t=>!e.includes(t))))))},async clear(){const t=await f(),e=[o,...s(t)];return r.remove(e)},async update(t){const e=await d();return g(await t(e))},getKeys:async()=>f(),get changeStream(){return m},get valueStream(){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ha()(tc(t,Ja(t)))}(tc(d()),m.pipe(Wa((()=>d()))))}}}ic("local","local"),ic("sync","sync"),ic("managed","managed");function ac(t){return("CONTENT_SCRIPT_ACTION"===t.type||t.type.startsWith("CS_"))&&"number"==typeof t.__tabId}function cc(t){return("CONTENT_SCRIPT_ACTION"===t.type||t.type.startsWith("CS_"))&&"number"!=typeof t.__tabId}function sc(t){return"APP_ON_DOCUMENT_CONTEXT"===t.type}function uc(t){return"BACKGROUND_ACTION"===t.type||t.type.startsWith("BG_")}function lc(t){return lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(t)}function fc(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */fc=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==lc(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function hc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function pc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?hc(Object(r),!0).forEach((function(e){dc(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hc(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function dc(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yc(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function vc(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){yc(i,n,o,a,c,"next",t)}function c(t){yc(i,n,o,a,c,"throw",t)}a(void 0)}))}}function gc(t,e){return mc.apply(this,arguments)}function mc(){return(mc=vc(fc().mark((function t(e,r){var n,o;return fc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.isRunning&&!r.isPaused){t.next=2;break}return t.abrupt("return",r);case 2:if(r.tasks.length){t.next=4;break}return t.abrupt("return",r);case 4:return cc(n=r.tasks[0])?ac(o=pc(pc({},n),{},{__tabId:r.tabIds[r.tabIds.length-1]}))?hf.postMessage(o):console.error("invalid content script action",o):hf.postMessage(n),t.abrupt("return",pc(pc({},r),{},{tasks:r.tasks.slice(1)}));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function bc(t){return bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(t)}function wc(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */wc=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==bc(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function _c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function xc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_c(Object(r),!0).forEach((function(e){Ec(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ec(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oc(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function kc(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Oc(i,n,o,a,c,"next",t)}function c(t){Oc(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Lc(t,e){return Sc.apply(this,arguments)}function Sc(){return(Sc=kc(wc().mark((function t(e,r){var n,o;return wc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.tabIds,o=n[n.length-1],t.next=4,chrome.tabs.remove(o);case 4:return hf.postMessage({type:"BG_BEGIN_NEXT_TASK"}),t.abrupt("return",xc(xc({},r),{},{tabIds:n.filter((function(t){return t!==o}))}));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function jc(t){return jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(t)}function Pc(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Pc=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==jc(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Tc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Nc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Tc(Object(r),!0).forEach((function(e){Ac(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tc(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ac(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ic(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function Dc(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ic(i,n,o,a,c,"next",t)}function c(t){Ic(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Gc(t,e){return Mc.apply(this,arguments)}function Mc(){return(Mc=Dc(Pc().mark((function t(e,r){return Pc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return hf.postMessage({type:"BG_BEGIN_NEXT_TASK"}),t.abrupt("return",Nc(Nc({},r),{},{isRunning:!0,tasks:[{type:"BG_OPEN_URL_IN_NEW_TAB",url:e.url},{type:"CS_SEND_DOCUMENT_CONTEXT_TO_APP",appTabId:e.appTabId},{type:"BG_CLOSE_LAST_TAB"},{type:"BG_RESET_STATE"}]}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Fc(t){return Fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(t)}function Cc(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Cc=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==Fc(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Bc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Rc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Bc(Object(r),!0).forEach((function(e){Kc(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bc(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Kc(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qc(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function Uc(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){qc(i,n,o,a,c,"next",t)}function c(t){qc(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Yc(t,e){return zc.apply(this,arguments)}function zc(){return(zc=Uc(Cc().mark((function t(e,r){var n,o;return Cc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.tabIds,t.next=3,chrome.tabs.create({url:e.url,active:!1});case 3:if("number"==typeof(o=t.sent).id){t.next=6;break}throw new Error("created tab did not return an id");case 6:return t.abrupt("return",Rc(Rc({},r),{},{tabIds:n.concat(o.id)}));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Wc(t){return Wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(t)}function Hc(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Hc=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==Wc(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Vc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Jc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Vc(Object(r),!0).forEach((function(e){$c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vc(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function $c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xc(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function Qc(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Xc(i,n,o,a,c,"next",t)}function c(t){Xc(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Zc(t,e){return ts.apply(this,arguments)}function ts(){return(ts=Qc(Hc().mark((function t(e,r){return Hc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Jc(Jc({},r),{},{tasks:e.tasks.concat(r.tasks)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function es(t){return es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(t)}function rs(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */rs=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==es(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function ns(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function os(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ns(i,n,o,a,c,"next",t)}function c(t){ns(i,n,o,a,c,"throw",t)}a(void 0)}))}}var is=function(){var t=os(rs().mark((function t(e){var r,n,o,i,a,c,s,u,l,f,h,p,d,y;return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.sessionId,n=e.objective,o=e.url,i=e.browserContent,a=e.percentOfDocumentScrolled,c=e.currentPageNumber,s=e.totalNumberOfPages,u=e.previousCommandStatus,l=e.user_message,f=go+"/get_action_from_session_id",t.next=4,oo();case 4:return h=t.sent,p=chrome.runtime.getManifest(),d=new FormData,r&&d.append("session_id",r),d.append("objective",n),d.append("url",o),d.append("percent_of_document_scrolled",a),d.append("current_page_number",c),d.append("total_number_of_pages",s),d.append("previous_command_status",u),d.append("user_message",l),d.append("browser_content",i),d.append("version",p.version),y={method:"POST",body:d,headers:{Authorization:"Bearer ".concat(h)}},t.abrupt("return",fetch(f,y).then((function(t){return t.json()})).catch((function(t){return{payload:t,status:"error"}})));case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),as=function(){var t=os(rs().mark((function t(e){var r,n,o,i,a,c,s,u,l,f,h,p;return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.userMessageHistoryId,n=e.action,o=e.percentOfDocumentScrolled,i=e.currentPageNumber,a=e.totalNumberOfPages,c=e.screenshot,s=e.originalHTML,u=e.originalCSS,l=go+"/save_training_data",t.next=4,oo();case 4:return f=t.sent,(h=new FormData).append("userMessageHistoryId",r),h.append("screenshot",c),h.append("action",n),h.append("percentOfDocumentScrolled",o),h.append("currentPageNumber",i),h.append("totalNumberOfPages",a),h.append("originalHTML",s),h.append("originalCSS",u),p={method:"POST",body:h,headers:{Authorization:"Bearer ".concat(f)}},t.abrupt("return",fetch(l,p).then((function(t){return t.json()})).catch((function(t){return{payload:t,status:"error"}})));case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),cs=function(){var t=os(rs().mark((function t(e){var r,n,o,i,a,c;return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.userMessageHistoryId,n=e.labeledData,o=go+"/save_training_data_labeled",t.next=4,oo();case 4:return i=t.sent,(a=new FormData).append("userMessageHistoryId",r),a.append("labeledData",JSON.stringify(n)),c={method:"POST",body:a,headers:{Authorization:"Bearer ".concat(i)}},t.abrupt("return",fetch(o,c).then((function(t){return t.json()})).catch((function(t){return{payload:t,status:"error"}})));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function ss(t){return ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ss(t)}function us(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */us=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==ss(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function ls(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function fs(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ls(Object(r),!0).forEach((function(e){hs(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ls(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function hs(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ps(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function ds(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ps(i,n,o,a,c,"next",t)}function c(t){ps(i,n,o,a,c,"throw",t)}a(void 0)}))}}function ys(t,e){return vs.apply(this,arguments)}function vs(){return(vs=ds(us().mark((function t(e,r){var n,o,i,a,c,s,u,l,f,h,p,d,y,v;return us().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.objective,o=r.sessionId,i=e.url,a=e.document,c=e.previousCommandStatus,s=e.userMessage,u=e.html,l=e.css,f=performance.now(),t.next=5,gs(r.tabIds[r.tabIds.length-1]);case 5:return h=t.sent,e.fromApp&&(hf.postMessage({type:"CS_START_FROM_APP",__tabId:r.tabIds[r.tabIds.length-1],objective:n}),hf.postMessage({type:"BG_BEGIN_NEXT_TASK"})),hf.postMessage({type:"CS_SHOW_AFTER_SCREENSHOT",__tabId:r.tabIds[r.tabIds.length-1]}),p=e.percentOfDocumentScrolled,d=e.currentPageNumber,y=e.totalNumberOfPages,is({sessionId:o,url:i,browserContent:a,percentOfDocumentScrolled:p,currentPageNumber:d,totalNumberOfPages:y,objective:n,previousCommandStatus:c,user_message:s}).then((function(t){if("error"===t.status)hf.postMessage({type:"BG_GET_NEXT_COMMAND_ERROR",message:t.message,sessionId:t.session_id,runNumber:f});else if(hf.postMessage({type:"BG_GET_NEXT_COMMAND_SUCCESS",cmd:t.action,lastMessage:t.lastMessage,userMessageHistoryId:t.userMessageHistoryId,sessionId:t.session_id,runNumber:f}),null!=t&&t.userMessageHistoryId){var e=t.userMessageHistoryId;as({userMessageHistoryId:e,action:t.action,percentOfDocumentScrolled:p,currentPageNumber:d,totalNumberOfPages:y,originalHTML:u,originalCSS:l,screenshot:h})}})),v=s?r.chatLog.concat({sender:"user",message:s,vote:null,feedback:null,feedbackDismissed:null}):r.chatLog,t.abrupt("return",fs(fs({},r),{},{runNumber:f,chatLog:v}));case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function gs(t){return ms.apply(this,arguments)}function ms(){return(ms=ds(us().mark((function t(e){var r,n;return us().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,chrome.tabs.get(e);case 3:if((r=t.sent).active){t.next=6;break}throw new Error("tab inactive");case 6:return t.next=8,chrome.tabs.captureVisibleTab(r.windowId,{format:"jpeg"});case 8:return n=t.sent,t.next=11,chrome.tabs.get(e);case 11:if((r=t.sent).active){t.next=14;break}throw new Error("tab inactive");case 14:return t.abrupt("return",n);case 17:return t.prev=17,t.t0=t.catch(0),t.abrupt("return","ERROR");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))).apply(this,arguments)}function bs(t){return bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(t)}function ws(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ws=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==bs(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function _s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function xs(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_s(Object(r),!0).forEach((function(e){Es(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Es(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Os(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function ks(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Os(i,n,o,a,c,"next",t)}function c(t){Os(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Ls(t,e){return Ss.apply(this,arguments)}function Ss(){return(Ss=ks(ws().mark((function t(e,r){var n;return ws().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.chatLog.concat({message:"Paused the workflow",sender:"user",vote:null,feedback:null,feedbackDismissed:null}),t.abrupt("return",xs(xs({},r),{},{isPaused:!0,chatLog:n}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function js(t){return js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(t)}function Ps(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ps=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==js(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Ts(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ns(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ts(Object(r),!0).forEach((function(e){As(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ts(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function As(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Is(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function Ds(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Is(i,n,o,a,c,"next",t)}function c(t){Is(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Gs(t,e){return Ms.apply(this,arguments)}function Ms(){return(Ms=Ds(Ps().mark((function t(e,r){return Ps().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ns(Ns({},r),{},{isPaused:!0}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Fs(t){return Fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(t)}function Cs(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Cs=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==Fs(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Bs(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Rs(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Bs(Object(r),!0).forEach((function(e){Ks(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bs(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ks(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qs(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function Us(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){qs(i,n,o,a,c,"next",t)}function c(t){qs(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Ys(t,e){return zs.apply(this,arguments)}function zs(){return(zs=Us(Cs().mark((function t(e,r){var n;return Cs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.isPaused&&e.modifyChatLog?r.chatLog.concat({message:"Resumed the workflow",sender:"user",vote:null,feedback:null,feedbackDismissed:null}):r.chatLog,t.abrupt("return",Rs(Rs({},r),{},{isRunning:!0,isPaused:!1,chatLog:n}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ws(t){return Ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(t)}function Hs(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Hs=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==Ws(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Vs(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Js(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Vs(Object(r),!0).forEach((function(e){$s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vs(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function $s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xs(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function Qs(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Xs(i,n,o,a,c,"next",t)}function c(t){Xs(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Zs(t,e){return tu.apply(this,arguments)}function tu(){return(tu=Qs(Hs().mark((function t(e,r){var n;return Hs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.windows.create({type:"popup",tabId:e.tabIds.at(-1)});case 2:return hf.postMessage({type:"BG_BEGIN_NEXT_TASK"}),n={type:"BG_GET_NEXT_COMMAND",url:e.url,html:e.html,css:e.css,document:e.document,percentOfDocumentScrolled:e.percentOfDocumentScrolled,currentPageNumber:e.currentPageNumber,totalNumberOfPages:e.totalNumberOfPages,previousCommandStatus:e.previousCommandStatus,userMessage:"",fromApp:e.fromApp},t.abrupt("return",Js(Js({},df),{},{initialWindowId:e.initialWindowId,isRunning:!0,isOpen:!0,isMaximized:!0,tabIds:e.tabIds,objective:e.objective,chatLog:e.chatLog,startingUrl:e.url,tasks:[n]}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function eu(t){return eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(t)}function ru(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ru=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==eu(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function nu(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function ou(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){nu(i,n,o,a,c,"next",t)}function c(t){nu(i,n,o,a,c,"throw",t)}a(void 0)}))}}function iu(t,e){return au.apply(this,arguments)}function au(){return(au=ou(ru().mark((function t(e,r){return ru().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return hf.postMessage({type:"CS_RESET_STATE",__tabId:-1}),t.abrupt("return",df);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function cu(t){return cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(t)}function su(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */su=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==cu(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function uu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function lu(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?uu(Object(r),!0).forEach((function(e){fu(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function fu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hu(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function pu(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){hu(i,n,o,a,c,"next",t)}function c(t){hu(i,n,o,a,c,"throw",t)}a(void 0)}))}}function du(t,e){return yu.apply(this,arguments)}function yu(){return(yu=pu(su().mark((function t(e,r){return su().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",lu(lu({},r),{},{isMaximized:!1}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function vu(t){return vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(t)}function gu(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */gu=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==vu(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function mu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function bu(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?mu(Object(r),!0).forEach((function(e){wu(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function wu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _u(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function xu(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){_u(i,n,o,a,c,"next",t)}function c(t){_u(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Eu(t,e){return Ou.apply(this,arguments)}function Ou(){return(Ou=xu(gu().mark((function t(e,r){return gu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",bu(bu({},r),{},{isMaximized:!0}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ku=function(t){return t.replace('ASK_USER "',"").slice(0,-1).replace(/\\/g,"")};function Lu(t){return Lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(t)}function Su(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Su=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==Lu(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function ju(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Pu(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ju(Object(r),!0).forEach((function(e){Tu(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ju(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Tu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nu(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function Au(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Nu(i,n,o,a,c,"next",t)}function c(t){Nu(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Iu(t,e){return Du.apply(this,arguments)}function Du(){return(Du=Au(Su().mark((function t(e,r){var n,o,i,a,c,s;return Su().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.lastMessage,r.runNumber===e.runNumber){t.next=3;break}return t.abrupt("return",r);case 3:if(!r.isPaused){t.next=5;break}return t.abrupt("return",Pu(Pu({},r),{},{tasks:[e]}));case 5:if(!e.cmd.startsWith("ASK_USER")){t.next=14;break}return o=e.cmd,i=ku(e.cmd),cs({userMessageHistoryId:e.userMessageHistoryId,labeledData:{command:o.split(" ")[0],metadata:{askUserText:i}}}),a={message:i,id:n.action_id,sender:"bot",vote:null,feedback:null,feedbackDismissed:null},hf.postMessage({type:"CS_ASK_USER",__tabId:r.tabIds[r.tabIds.length-1],sessionId:e.sessionId,chatMessage:a}),t.abrupt("return",Pu(Pu({},r),{},{isPaused:!0,sessionId:e.sessionId,chatLog:r.chatLog.concat(a)}));case 14:if("TASK_COMPLETED_SUCCESSFULLY"!==e.cmd){t.next=21;break}return cs({userMessageHistoryId:e.userMessageHistoryId,labeledData:{command:e.cmd}}),c={id:n.action_id,message:JSON.parse(n.content)["your thoughts"],sender:"bot",vote:null,feedback:null,feedbackDismissed:null},hf.postMessage({type:"CS_GET_NEXT_COMMAND_SUCCESS",__tabId:r.tabIds[r.tabIds.length-1],cmd:e.cmd,userMessageHistoryId:e.userMessageHistoryId,chatMessage:c,sessionId:e.sessionId}),t.abrupt("return",Pu(Pu({},r),{},{chatLog:r.chatLog.concat(c),summary:c.message,sessionId:e.sessionId}));case 21:return s={id:n.action_id,message:JSON.parse(n.content)["your thoughts"],sender:"bot",vote:null,feedback:null,feedbackDismissed:null},hf.postMessage({type:"CS_GET_NEXT_COMMAND_SUCCESS",__tabId:r.tabIds[r.tabIds.length-1],cmd:e.cmd,userMessageHistoryId:e.userMessageHistoryId,chatMessage:s,sessionId:e.sessionId}),t.abrupt("return",Pu(Pu({},r),{},{chatLog:r.chatLog.concat(s),summary:"",sessionId:e.sessionId}));case 24:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Gu(t){return Gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(t)}function Mu(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Mu=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==Gu(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Fu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Cu(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Fu(Object(r),!0).forEach((function(e){Bu(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Bu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ru(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function Ku(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ru(i,n,o,a,c,"next",t)}function c(t){Ru(i,n,o,a,c,"throw",t)}a(void 0)}))}}function qu(t,e){return Uu.apply(this,arguments)}function Uu(){return(Uu=Ku(Mu().mark((function t(e,r){var n;return Mu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=performance.now(),Oo({sessionId:r.sessionId,objective:e.newCommand,originalObjective:r.objective,currentURL:e.url}).then((function(t){"error"===t.status?hf.postMessage({type:"BG_UPDATE_OBJECTIVE_ERROR",message:t.message,runNumber:n}):hf.postMessage({type:"BG_UPDATE_OBJECTIVE_SUCCESS",message:t.message,new_objective:t.new_objective,document:e.document,url:e.url,runNumber:n})})),t.abrupt("return",Cu(Cu({},r),{},{chatLog:r.chatLog.concat({message:e.newCommand,sender:"user",vote:null,feedback:null,feedbackDismissed:null}),runNumber:n}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Yu(t){return Yu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(t)}function zu(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */zu=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==Yu(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Wu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Hu(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Wu(Object(r),!0).forEach((function(e){Vu(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Vu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ju(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function $u(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ju(i,n,o,a,c,"next",t)}function c(t){Ju(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Xu(t,e){return Qu.apply(this,arguments)}function Qu(){return(Qu=$u(zu().mark((function t(e,r){var n;return zu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.runNumber===r.runNumber){t.next=2;break}return t.abrupt("return",r);case 2:if(!r.isPaused){t.next=4;break}return t.abrupt("return",Hu(Hu({},r),{},{tasks:[e]}));case 4:return n={message:e.message,sender:"error",vote:null,feedback:null,feedbackDismissed:null},hf.postMessage({type:"CS_GET_NEXT_COMMAND_ERROR",__tabId:r.tabIds[r.tabIds.length-1],chatMessage:n}),t.abrupt("return",Hu(Hu({},r),{},{chatLog:r.chatLog.concat(n),summary:"error"}));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Zu(t){return Zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(t)}function tl(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */tl=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==Zu(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function el(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function rl(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?el(Object(r),!0).forEach((function(e){nl(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):el(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function nl(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ol(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function il(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ol(i,n,o,a,c,"next",t)}function c(t){ol(i,n,o,a,c,"throw",t)}a(void 0)}))}}function al(t,e){return cl.apply(this,arguments)}function cl(){return(cl=il(tl().mark((function t(e,r){return tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return chrome.storage.local.set({screenshotArray:[]}),t.abrupt("return",rl(rl({},r),{},{isOpen:!0}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function sl(t){return sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(t)}function ul(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ul=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==sl(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function ll(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function fl(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ll(Object(r),!0).forEach((function(e){hl(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ll(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function hl(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pl(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function dl(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){pl(i,n,o,a,c,"next",t)}function c(t){pl(i,n,o,a,c,"throw",t)}a(void 0)}))}}function yl(t,e){return vl.apply(this,arguments)}function vl(){return(vl=dl(ul().mark((function t(e,r){return ul().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fl(fl({},r),{},{isOpen:!1}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function gl(t){return gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(t)}function ml(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ml=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==gl(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function bl(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function wl(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?bl(Object(r),!0).forEach((function(e){_l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bl(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xl(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function El(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){xl(i,n,o,a,c,"next",t)}function c(t){xl(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Ol(t,e){return kl.apply(this,arguments)}function kl(){return(kl=El(ml().mark((function t(e,r){var n,o;return ml().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.runNumber===r.runNumber){t.next=2;break}return t.abrupt("return",r);case 2:return n=r.chatLog.concat({message:e.message,sender:"bot",vote:null,feedback:null,feedbackDismissed:null}),hf.postMessage({type:"BG_BEGIN_NEXT_TASK"}),o={type:"CS_UPDATE_OBJECTIVE_SUCCESS",__tabId:r.tabIds[r.tabIds.length-1],chatLog:n},t.abrupt("return",wl(wl({},r),{},{objective:e.new_objective,chatLog:n,tasks:r.tasks.concat(o)}));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ll(t){return Ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(t)}function Sl(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Sl=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==Ll(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function jl(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Pl(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?jl(Object(r),!0).forEach((function(e){Tl(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jl(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Tl(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nl(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function Al(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Nl(i,n,o,a,c,"next",t)}function c(t){Nl(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Il(t,e){return Dl.apply(this,arguments)}function Dl(){return(Dl=Al(Sl().mark((function t(e,r){var n,o;return Sl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.runNumber===r.runNumber){t.next=2;break}return t.abrupt("return",r);case 2:return n=r.chatLog.concat({message:e.message,sender:"error",vote:null,feedback:null,feedbackDismissed:null}),hf.postMessage({type:"BG_BEGIN_NEXT_TASK"}),o={type:"CS_UPDATE_OBJECTIVE_ERROR",__tabId:r.tabIds[r.tabIds.length-1],chatLog:n},t.abrupt("return",Pl(Pl({},r),{},{chatLog:n,summary:"error",tasks:r.tasks.concat(o)}));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Gl(t){return Gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(t)}function Ml(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ml=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==Gl(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Fl(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function Cl(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Fl(i,n,o,a,c,"next",t)}function c(t){Fl(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Bl(t,e){return Rl.apply(this,arguments)}function Rl(){return(Rl=Cl(Ml().mark((function t(e,r){var n,o,i;return Ml().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.tabIds.at(-1),t.prev=1,t.next=4,chrome.windows.get(r.initialWindowId);case 4:o=t.sent,t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),o=null,console.warn("no window to put the tab back into");case 11:if(!o){t.next=20;break}return t.next=14,chrome.tabs.move(n,{index:-1,windowId:o.id});case 14:return t.next=16,chrome.tabs.update(n,{active:!0});case 16:return t.next=18,chrome.windows.update(r.initialWindowId,{drawAttention:!0});case 18:t.next=33;break;case 20:return t.prev=20,t.next=23,chrome.tabs.get(n);case 23:i=t.sent,t.next=30;break;case 26:t.prev=26,t.t1=t.catch(20),i=null,console.warn("cant find the tab to reset");case 30:if(!i){t.next=33;break}return t.next=33,chrome.windows.create({tabId:n,state:"maximized"});case 33:return hf.postMessage({type:"CS_RESET_STATE",__tabId:-1}),t.abrupt("return",df);case 35:case"end":return t.stop()}}),t,null,[[1,7],[20,26]])})))).apply(this,arguments)}function Kl(t){return Kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(t)}function ql(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ql=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==Kl(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Ul(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Yl(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ul(Object(r),!0).forEach((function(e){zl(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ul(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function zl(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wl(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function Hl(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Wl(i,n,o,a,c,"next",t)}function c(t){Wl(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Vl(t,e){return Jl.apply(this,arguments)}function Jl(){return(Jl=Hl(ql().mark((function t(e,r){var n,o;return ql().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.chatLog.slice(),o=n.findIndex((function(t){return t.id===e.chatMessage.id})),n.splice(o,1,Yl(Yl({},n[o]),e.chatMessage)),t.abrupt("return",Yl(Yl({},r),{},{chatLog:n}));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function $l(t){return $l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$l(t)}function Xl(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Xl=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==$l(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Ql(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function Zl(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ql(i,n,o,a,c,"next",t)}function c(t){Ql(i,n,o,a,c,"throw",t)}a(void 0)}))}}function tf(t,e){return ef.apply(this,arguments)}function ef(){return(ef=Zl(Xl().mark((function t(e,r){return Xl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("BG_PREPEND_NEW_TASKS"!==e.type){t.next=4;break}return t.abrupt("return",Zc(e,r));case 4:if("BG_BEGIN_NEXT_TASK"!==e.type){t.next=8;break}return t.abrupt("return",gc(e,r));case 8:if("BG_PAUSE_TASKS"!==e.type){t.next=12;break}return t.abrupt("return",Ls(e,r));case 12:if("BG_PAUSE_FOR_VOTING"!==e.type){t.next=16;break}return t.abrupt("return",Gs(e,r));case 16:if("BG_RESUME_TASKS"!==e.type){t.next=20;break}return t.abrupt("return",Ys(e,r));case 20:if("BG_RESET_STATE"!==e.type){t.next=24;break}return t.abrupt("return",iu(e,r));case 24:if("BG_OPEN_URL_IN_NEW_TAB"!==e.type){t.next=28;break}return t.abrupt("return",Yc(e,r));case 28:if("BG_MINIMIZE"!==e.type){t.next=32;break}return t.abrupt("return",du(e,r));case 32:if("BG_MAXIMIZE"!==e.type){t.next=36;break}return t.abrupt("return",Eu(e,r));case 36:if("BG_OPEN"!==e.type){t.next=40;break}return t.abrupt("return",al(e,r));case 40:if("BG_CLOSE"!==e.type){t.next=44;break}return t.abrupt("return",yl(e,r));case 44:if("BG_UPDATE_OBJECTIVE"!==e.type){t.next=48;break}return t.abrupt("return",qu(e,r));case 48:if("BG_CLOSE_LAST_TAB"!==e.type){t.next=52;break}return t.abrupt("return",Lc(e,r));case 52:if("BG_GET_DOCUMENT_CONTEXT_FROM_URL"!==e.type){t.next=56;break}return t.abrupt("return",Gc(e,r));case 56:if("BG_CREATE_WORKFLOW"!==e.type){t.next=60;break}return t.abrupt("return",Zs(e,r));case 60:if("BG_STOP_WORKFLOW"!==e.type){t.next=64;break}return t.abrupt("return",Bl(e,r));case 64:if("BG_GET_NEXT_COMMAND"!==e.type){t.next=68;break}return t.abrupt("return",ys(e,r));case 68:if("BG_GET_NEXT_COMMAND_SUCCESS"!==e.type){t.next=72;break}return t.abrupt("return",Iu(e,r));case 72:if("BG_GET_NEXT_COMMAND_ERROR"!==e.type){t.next=76;break}return t.abrupt("return",Xu(e,r));case 76:if("BG_UPDATE_OBJECTIVE_SUCCESS"!==e.type){t.next=80;break}return t.abrupt("return",Ol(e,r));case 80:if("BG_UPDATE_OBJECTIVE_ERROR"!==e.type){t.next=84;break}return t.abrupt("return",Il(e,r));case 84:if("BG_SAVE_VOTE_STATE"!==e.type){t.next=88;break}return t.abrupt("return",Vl(e,r));case 88:return console.warn("unhandled BackgroundAction",e),t.abrupt("return",r);case 90:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function rf(t){return"workflows"===t.name&&nf(t.sender)}function nf(t){var e,r;return"number"==typeof(null==t||null===(e=t.tab)||void 0===e?void 0:e.id)&&"number"==typeof(null==t||null===(r=t.tab)||void 0===r?void 0:r.windowId)}function of(t){return of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(t)}function af(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */af=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:_(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};s(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var s=l(t[n],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==of(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,c,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function cf(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function sf(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){cf(i,n,o,a,c,"next",t)}function c(t){cf(i,n,o,a,c,"throw",t)}a(void 0)}))}}function uf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function lf(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?uf(Object(r),!0).forEach((function(e){ff(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uf(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ff(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var hf,pf,df={chatLog:[],initialWindowId:null,isMaximized:null,isOpen:null,isPaused:null,isRunning:null,objective:null,sessionId:null,startingUrl:null,summary:null,tabIds:[],tasks:[],runNumber:-1,userMessage:null},yf=ic("background","local"),vf={},gf={};setInterval((function(){var t=Object.keys(lf(lf({},vf),gf));t.length&&chrome.tabs.sendMessage(Number(t[0]),{heartbeat:!0})}),1e4);var mf=Promise.resolve();function bf(){return(bf=sf(af().mark((function t(){return af().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("connect background ".concat((new Date).toLocaleTimeString())),yf.set(df),hf=new BroadcastChannel("workflows"),(pf=new BroadcastChannel("workflows")).removeEventListener("message",kf),pf.addEventListener("message",kf),chrome.runtime.onConnect.addListener(wf),chrome.runtime.onConnectExternal.addListener(_f),chrome.runtime.onMessage.addListener(Sf),chrome.runtime.onMessageExternal.addListener(Sf),chrome.tabs.onRemoved.addListener(jf);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function wf(t){rf(t)&&(t.onMessage.addListener(xf),t.onDisconnect.addListener(Ef),vf[t.sender.tab.id]=t)}function _f(t){rf(t)&&(t.onMessage.addListener(xf),t.onDisconnect.addListener(Of),gf[t.sender.tab.id]=t)}function xf(t,e){rf(e)&&hf.postMessage(t)}function Ef(t){rf(t)&&(vf[t.sender.tab.id]===t?(t.onMessage.removeListener(xf),t.onMessage.removeListener(Ef),delete vf[t.sender.tab.id]):console.info("port removal not needed, already overridden"))}function Of(t){rf(t)&&(gf[t.sender.tab.id]===t?(t.onMessage.removeListener(xf),t.onMessage.removeListener(Of),delete gf[t.sender.tab.id]):console.info("external port removal not needed, already overridden"))}function kf(t){return Lf.apply(this,arguments)}function Lf(){return Lf=sf(af().mark((function t(e){var r;return af().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ac(r=e.data)||sc(r)?(Object.values(vf).forEach((function(t){return t.postMessage(r)})),Object.values(gf).forEach((function(t){return t.postMessage(r)}))):uc(r)?mf=mf.then(sf(af().mark((function t(){var e,n;return af().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yf.get();case 2:if(!Pf(e=t.sent)){t.next=11;break}return t.next=6,tf(r,e);case 6:return n=t.sent,t.next=9,yf.set(n);case 9:t.next=12;break;case 11:throw new TypeError("state has the wrong shape (or doesnt exist)");case 12:case"end":return t.stop()}}),t)})))).catch(console.error):console.warn("unhandled action",r);case 2:case"end":return t.stop()}}),t)}))),Lf.apply(this,arguments)}function Sf(t,e,r){if(function(t){return"workflows"===t.type&&("GET_INITIAL_STATE"===t.name||"GET_TAB_IDS"===t.name)}(t)&&nf(e))return yf.get().then((function(t){r({tabId:e.tab.id,windowId:e.tab.windowId,state:t})})),!0}function jf(t){yf.get().then((function(e){e.tabIds.includes(t)&&(console.log("active tab ".concat(t," removed, resetting state")),hf.postMessage({type:"BG_RESET_STATE"}))}))}function Pf(t){return!!Object.keys(t).length}chrome.runtime.onMessage.addListener((function(t,e,r){if("BG_ADD_LABELED_TRAINING_DATA"===t.type){var n={userMessageHistoryId:t.userMessageHistoryId,labeledData:t.labeledTrainingData};cs(n);r({type:"BG_ADD_LABELED_TRAINING_DATA_RESPONSE",success:!0})}})),chrome.runtime.onInstalled.addListener(Gi),chrome.runtime.onMessage.addListener(Li),chrome.runtime.onConnect.addListener(_i),chrome.tabs.onUpdated.addListener(Ki),function(){bf.apply(this,arguments)}();var Tf=["hyperwriteai.com","app.hyperwriteai.com","www.youtube.com","app.slack.com","www.weebly.com","insight.adsrvr.org","www.netflix.com"]})()})();